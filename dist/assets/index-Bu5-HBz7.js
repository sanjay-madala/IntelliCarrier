(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))u(f);new MutationObserver(f=>{for(const c of f)if(c.type==="childList")for(const C of c.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&u(C)}).observe(document,{childList:!0,subtree:!0});function o(f){const c={};return f.integrity&&(c.integrity=f.integrity),f.referrerPolicy&&(c.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?c.credentials="include":f.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(f){if(f.ep)return;f.ep=!0;const c=o(f);fetch(f.href,c)}})();function yd(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Xa={exports:{}},Vl={},Za={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ed;function vp(){if(ed)return Ne;ed=1;var a=Symbol.for("react.element"),d=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),C=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=N&&j[N]||j["@@iterator"],typeof j=="function"?j:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,v={};function E(j,_,oe){this.props=j,this.context=_,this.refs=v,this.updater=oe||B}E.prototype.isReactComponent={},E.prototype.setState=function(j,_){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,_,"setState")},E.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function $(){}$.prototype=E.prototype;function G(j,_,oe){this.props=j,this.context=_,this.refs=v,this.updater=oe||B}var q=G.prototype=new $;q.constructor=G,A(q,E.prototype),q.isPureReactComponent=!0;var Y=Array.isArray,R=Object.prototype.hasOwnProperty,X={current:null},ee={key:!0,ref:!0,__self:!0,__source:!0};function te(j,_,oe){var V,ye={},ge=null,Se=null;if(_!=null)for(V in _.ref!==void 0&&(Se=_.ref),_.key!==void 0&&(ge=""+_.key),_)R.call(_,V)&&!ee.hasOwnProperty(V)&&(ye[V]=_[V]);var ve=arguments.length-2;if(ve===1)ye.children=oe;else if(1<ve){for(var U=Array(ve),fe=0;fe<ve;fe++)U[fe]=arguments[fe+2];ye.children=U}if(j&&j.defaultProps)for(V in ve=j.defaultProps,ve)ye[V]===void 0&&(ye[V]=ve[V]);return{$$typeof:a,type:j,key:ge,ref:Se,props:ye,_owner:X.current}}function me(j,_){return{$$typeof:a,type:j.type,key:_,ref:j.ref,props:j.props,_owner:j._owner}}function w(j){return typeof j=="object"&&j!==null&&j.$$typeof===a}function he(j){var _={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(oe){return _[oe]})}var je=/\/+/g;function be(j,_){return typeof j=="object"&&j!==null&&j.key!=null?he(""+j.key):_.toString(36)}function Ce(j,_,oe,V,ye){var ge=typeof j;(ge==="undefined"||ge==="boolean")&&(j=null);var Se=!1;if(j===null)Se=!0;else switch(ge){case"string":case"number":Se=!0;break;case"object":switch(j.$$typeof){case a:case d:Se=!0}}if(Se)return Se=j,ye=ye(Se),j=V===""?"."+be(Se,0):V,Y(ye)?(oe="",j!=null&&(oe=j.replace(je,"$&/")+"/"),Ce(ye,_,oe,"",function(fe){return fe})):ye!=null&&(w(ye)&&(ye=me(ye,oe+(!ye.key||Se&&Se.key===ye.key?"":(""+ye.key).replace(je,"$&/")+"/")+j)),_.push(ye)),1;if(Se=0,V=V===""?".":V+":",Y(j))for(var ve=0;ve<j.length;ve++){ge=j[ve];var U=V+be(ge,ve);Se+=Ce(ge,_,oe,U,ye)}else if(U=g(j),typeof U=="function")for(j=U.call(j),ve=0;!(ge=j.next()).done;)ge=ge.value,U=V+be(ge,ve++),Se+=Ce(ge,_,oe,U,ye);else if(ge==="object")throw _=String(j),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return Se}function Te(j,_,oe){if(j==null)return j;var V=[],ye=0;return Ce(j,V,"","",function(ge){return _.call(oe,ge,ye++)}),V}function K(j){if(j._status===-1){var _=j._result;_=_(),_.then(function(oe){(j._status===0||j._status===-1)&&(j._status=1,j._result=oe)},function(oe){(j._status===0||j._status===-1)&&(j._status=2,j._result=oe)}),j._status===-1&&(j._status=0,j._result=_)}if(j._status===1)return j._result.default;throw j._result}var M={current:null},O={transition:null},W={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:O,ReactCurrentOwner:X};function J(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:Te,forEach:function(j,_,oe){Te(j,function(){_.apply(this,arguments)},oe)},count:function(j){var _=0;return Te(j,function(){_++}),_},toArray:function(j){return Te(j,function(_){return _})||[]},only:function(j){if(!w(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ne.Component=E,Ne.Fragment=o,Ne.Profiler=f,Ne.PureComponent=G,Ne.StrictMode=u,Ne.Suspense=k,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Ne.act=J,Ne.cloneElement=function(j,_,oe){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var V=A({},j.props),ye=j.key,ge=j.ref,Se=j._owner;if(_!=null){if(_.ref!==void 0&&(ge=_.ref,Se=X.current),_.key!==void 0&&(ye=""+_.key),j.type&&j.type.defaultProps)var ve=j.type.defaultProps;for(U in _)R.call(_,U)&&!ee.hasOwnProperty(U)&&(V[U]=_[U]===void 0&&ve!==void 0?ve[U]:_[U])}var U=arguments.length-2;if(U===1)V.children=oe;else if(1<U){ve=Array(U);for(var fe=0;fe<U;fe++)ve[fe]=arguments[fe+2];V.children=ve}return{$$typeof:a,type:j.type,key:ye,ref:ge,props:V,_owner:Se}},Ne.createContext=function(j){return j={$$typeof:C,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:c,_context:j},j.Consumer=j},Ne.createElement=te,Ne.createFactory=function(j){var _=te.bind(null,j);return _.type=j,_},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:y,render:j}},Ne.isValidElement=w,Ne.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:K}},Ne.memo=function(j,_){return{$$typeof:T,type:j,compare:_===void 0?null:_}},Ne.startTransition=function(j){var _=O.transition;O.transition={};try{j()}finally{O.transition=_}},Ne.unstable_act=J,Ne.useCallback=function(j,_){return M.current.useCallback(j,_)},Ne.useContext=function(j){return M.current.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j){return M.current.useDeferredValue(j)},Ne.useEffect=function(j,_){return M.current.useEffect(j,_)},Ne.useId=function(){return M.current.useId()},Ne.useImperativeHandle=function(j,_,oe){return M.current.useImperativeHandle(j,_,oe)},Ne.useInsertionEffect=function(j,_){return M.current.useInsertionEffect(j,_)},Ne.useLayoutEffect=function(j,_){return M.current.useLayoutEffect(j,_)},Ne.useMemo=function(j,_){return M.current.useMemo(j,_)},Ne.useReducer=function(j,_,oe){return M.current.useReducer(j,_,oe)},Ne.useRef=function(j){return M.current.useRef(j)},Ne.useState=function(j){return M.current.useState(j)},Ne.useSyncExternalStore=function(j,_,oe){return M.current.useSyncExternalStore(j,_,oe)},Ne.useTransition=function(){return M.current.useTransition()},Ne.version="18.3.1",Ne}var td;function oi(){return td||(td=1,Za.exports=vp()),Za.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd;function Np(){if(rd)return Vl;rd=1;var a=oi(),d=Symbol.for("react.element"),o=Symbol.for("react.fragment"),u=Object.prototype.hasOwnProperty,f=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function C(y,k,T){var x,N={},g=null,B=null;T!==void 0&&(g=""+T),k.key!==void 0&&(g=""+k.key),k.ref!==void 0&&(B=k.ref);for(x in k)u.call(k,x)&&!c.hasOwnProperty(x)&&(N[x]=k[x]);if(y&&y.defaultProps)for(x in k=y.defaultProps,k)N[x]===void 0&&(N[x]=k[x]);return{$$typeof:d,type:y,key:g,ref:B,props:N,_owner:f.current}}return Vl.Fragment=o,Vl.jsx=C,Vl.jsxs=C,Vl}var ld;function jp(){return ld||(ld=1,Xa.exports=Np()),Xa.exports}var t=jp(),F=oi();const bd=yd(F);var tn={},Ja={exports:{}},ft={},ei={exports:{}},ti={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd;function Sp(){return sd||(sd=1,(function(a){function d(O,W){var J=O.length;O.push(W);e:for(;0<J;){var j=J-1>>>1,_=O[j];if(0<f(_,W))O[j]=W,O[J]=_,J=j;else break e}}function o(O){return O.length===0?null:O[0]}function u(O){if(O.length===0)return null;var W=O[0],J=O.pop();if(J!==W){O[0]=J;e:for(var j=0,_=O.length,oe=_>>>1;j<oe;){var V=2*(j+1)-1,ye=O[V],ge=V+1,Se=O[ge];if(0>f(ye,J))ge<_&&0>f(Se,ye)?(O[j]=Se,O[ge]=J,j=ge):(O[j]=ye,O[V]=J,j=V);else if(ge<_&&0>f(Se,J))O[j]=Se,O[ge]=J,j=ge;else break e}}return W}function f(O,W){var J=O.sortIndex-W.sortIndex;return J!==0?J:O.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var C=Date,y=C.now();a.unstable_now=function(){return C.now()-y}}var k=[],T=[],x=1,N=null,g=3,B=!1,A=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(O){for(var W=o(T);W!==null;){if(W.callback===null)u(T);else if(W.startTime<=O)u(T),W.sortIndex=W.expirationTime,d(k,W);else break;W=o(T)}}function Y(O){if(v=!1,q(O),!A)if(o(k)!==null)A=!0,K(R);else{var W=o(T);W!==null&&M(Y,W.startTime-O)}}function R(O,W){A=!1,v&&(v=!1,$(te),te=-1),B=!0;var J=g;try{for(q(W),N=o(k);N!==null&&(!(N.expirationTime>W)||O&&!he());){var j=N.callback;if(typeof j=="function"){N.callback=null,g=N.priorityLevel;var _=j(N.expirationTime<=W);W=a.unstable_now(),typeof _=="function"?N.callback=_:N===o(k)&&u(k),q(W)}else u(k);N=o(k)}if(N!==null)var oe=!0;else{var V=o(T);V!==null&&M(Y,V.startTime-W),oe=!1}return oe}finally{N=null,g=J,B=!1}}var X=!1,ee=null,te=-1,me=5,w=-1;function he(){return!(a.unstable_now()-w<me)}function je(){if(ee!==null){var O=a.unstable_now();w=O;var W=!0;try{W=ee(!0,O)}finally{W?be():(X=!1,ee=null)}}else X=!1}var be;if(typeof G=="function")be=function(){G(je)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Te=Ce.port2;Ce.port1.onmessage=je,be=function(){Te.postMessage(null)}}else be=function(){E(je,0)};function K(O){ee=O,X||(X=!0,be())}function M(O,W){te=E(function(){O(a.unstable_now())},W)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_continueExecution=function(){A||B||(A=!0,K(R))},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return g},a.unstable_getFirstCallbackNode=function(){return o(k)},a.unstable_next=function(O){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var J=g;g=W;try{return O()}finally{g=J}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(O,W){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=g;g=O;try{return W()}finally{g=J}},a.unstable_scheduleCallback=function(O,W,J){var j=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?j+J:j):J=j,O){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=J+_,O={id:x++,callback:W,priorityLevel:O,startTime:J,expirationTime:_,sortIndex:-1},J>j?(O.sortIndex=J,d(T,O),o(k)===null&&O===o(T)&&(v?($(te),te=-1):v=!0,M(Y,J-j))):(O.sortIndex=_,d(k,O),A||B||(A=!0,K(R))),O},a.unstable_shouldYield=he,a.unstable_wrapCallback=function(O){var W=g;return function(){var J=g;g=W;try{return O.apply(this,arguments)}finally{g=J}}}})(ti)),ti}var nd;function Cp(){return nd||(nd=1,ei.exports=Sp()),ei.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad;function Tp(){if(ad)return ft;ad=1;var a=oi(),d=Cp();function o(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,f={};function c(e,r){C(e,r),C(e+"Capture",r)}function C(e,r){for(f[e]=r,e=0;e<r.length;e++)u.add(r[e])}var y=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k=Object.prototype.hasOwnProperty,T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},N={};function g(e){return k.call(N,e)?!0:k.call(x,e)?!1:T.test(e)?N[e]=!0:(x[e]=!0,!1)}function B(e,r,l,s){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return s?!1:l!==null?!l.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,r,l,s){if(r===null||typeof r>"u"||B(e,r,l,s))return!0;if(s)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function v(e,r,l,s,n,i,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=l,this.propertyName=e,this.type=r,this.sanitizeURL=i,this.removeEmptyString=p}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){E[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];E[r]=new v(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){E[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){E[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){E[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){E[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){E[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){E[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){E[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var $=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace($,G);E[r]=new v(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace($,G);E[r]=new v(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace($,G);E[r]=new v(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){E[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),E.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){E[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function q(e,r,l,s){var n=E.hasOwnProperty(r)?E[r]:null;(n!==null?n.type!==0:s||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(A(r,l,n,s)&&(l=null),s||n===null?g(r)&&(l===null?e.removeAttribute(r):e.setAttribute(r,""+l)):n.mustUseProperty?e[n.propertyName]=l===null?n.type===3?!1:"":l:(r=n.attributeName,s=n.attributeNamespace,l===null?e.removeAttribute(r):(n=n.type,l=n===3||n===4&&l===!0?"":""+l,s?e.setAttributeNS(s,r,l):e.setAttribute(r,l))))}var Y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),X=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),he=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),O=Symbol.iterator;function W(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var J=Object.assign,j;function _(e){if(j===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);j=r&&r[1]||""}return`
`+j+e}var oe=!1;function V(e,r){if(!e||oe)return"";oe=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(L){var s=L}Reflect.construct(e,[],r)}else{try{r.call()}catch(L){s=L}e.call(r.prototype)}else{try{throw Error()}catch(L){s=L}e()}}catch(L){if(L&&s&&typeof L.stack=="string"){for(var n=L.stack.split(`
`),i=s.stack.split(`
`),p=n.length-1,h=i.length-1;1<=p&&0<=h&&n[p]!==i[h];)h--;for(;1<=p&&0<=h;p--,h--)if(n[p]!==i[h]){if(p!==1||h!==1)do if(p--,h--,0>h||n[p]!==i[h]){var b=`
`+n[p].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=p&&0<=h);break}}}finally{oe=!1,Error.prepareStackTrace=l}return(e=e?e.displayName||e.name:"")?_(e):""}function ye(e){switch(e.tag){case 5:return _(e.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1),e;case 11:return e=V(e.type.render,!1),e;case 1:return e=V(e.type,!0),e;default:return""}}function ge(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ee:return"Fragment";case X:return"Portal";case me:return"Profiler";case te:return"StrictMode";case be:return"Suspense";case Ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case he:return(e.displayName||"Context")+".Consumer";case w:return(e._context.displayName||"Context")+".Provider";case je:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Te:return r=e.displayName||null,r!==null?r:ge(e.type)||"Memo";case K:r=e._payload,e=e._init;try{return ge(e(r))}catch{}}return null}function Se(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(r);case 8:return r===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ve(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function fe(e){var r=U(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),s=""+e[r];if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var n=l.get,i=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return n.call(this)},set:function(p){s=""+p,i.call(this,p)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function we(e){e._valueTracker||(e._valueTracker=fe(e))}function Fe(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var l=r.getValue(),s="";return e&&(s=U(e)?e.checked?"true":"false":e.value),e=s,e!==l?(r.setValue(e),!0):!1}function Re(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dt(e,r){var l=r.checked;return J({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??e._wrapperState.initialChecked})}function m(e,r){var l=r.defaultValue==null?"":r.defaultValue,s=r.checked!=null?r.checked:r.defaultChecked;l=ve(r.value!=null?r.value:l),e._wrapperState={initialChecked:s,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function I(e,r){r=r.checked,r!=null&&q(e,"checked",r,!1)}function pe(e,r){I(e,r);var l=ve(r.value),s=r.type;if(l!=null)s==="number"?(l===0&&e.value===""||e.value!=l)&&(e.value=""+l):e.value!==""+l&&(e.value=""+l);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Ue(e,r.type,l):r.hasOwnProperty("defaultValue")&&Ue(e,r.type,ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Ve(e,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var s=r.type;if(!(s!=="submit"&&s!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,l||r===e.value||(e.value=r),e.defaultValue=r}l=e.name,l!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,l!==""&&(e.name=l)}function Ue(e,r,l){(r!=="number"||Re(e.ownerDocument)!==e)&&(l==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+l&&(e.defaultValue=""+l))}var Ge=Array.isArray;function $e(e,r,l,s){if(e=e.options,r){r={};for(var n=0;n<l.length;n++)r["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=r.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+ve(l),r=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}r!==null||e[n].disabled||(r=e[n])}r!==null&&(r.selected=!0)}}function Er(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return J({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jt(e,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(o(92));if(Ge(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),l=r}e._wrapperState={initialValue:ve(l)}}function di(e,r){var l=ve(r.value),s=ve(r.defaultValue);l!=null&&(l=""+l,l!==e.value&&(e.value=l),r.defaultValue==null&&e.defaultValue!==l&&(e.defaultValue=l)),s!=null&&(e.defaultValue=""+s)}function ui(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function pi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function on(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?pi(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $l,mi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,s,n){MSApp.execUnsafeLocalFunction(function(){return e(r,l,s,n)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=$l.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function rl(e,r){if(r){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=r;return}}e.textContent=r}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cd=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(e){Cd.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),ll[r]=ll[e]})});function xi(e,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||ll.hasOwnProperty(e)&&ll[e]?(""+r).trim():r+"px"}function hi(e,r){e=e.style;for(var l in r)if(r.hasOwnProperty(l)){var s=l.indexOf("--")===0,n=xi(l,r[l],s);l==="float"&&(l="cssFloat"),s?e.setProperty(l,n):e[l]=n}}var Td=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cn(e,r){if(r){if(Td[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function dn(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mn=null,Rr=null,Lr=null;function fi(e){if(e=Tl(e)){if(typeof mn!="function")throw Error(o(280));var r=e.stateNode;r&&(r=fs(r),mn(e.stateNode,e.type,r))}}function gi(e){Rr?Lr?Lr.push(e):Lr=[e]:Rr=e}function yi(){if(Rr){var e=Rr,r=Lr;if(Lr=Rr=null,fi(e),r)for(e=0;e<r.length;e++)fi(r[e])}}function bi(e,r){return e(r)}function vi(){}var xn=!1;function Ni(e,r,l){if(xn)return e(r,l);xn=!0;try{return bi(e,r,l)}finally{xn=!1,(Rr!==null||Lr!==null)&&(vi(),yi())}}function sl(e,r){var l=e.stateNode;if(l===null)return null;var s=fs(l);if(s===null)return null;l=s[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,r,typeof l));return l}var hn=!1;if(y)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){hn=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{hn=!1}function wd(e,r,l,s,n,i,p,h,b){var L=Array.prototype.slice.call(arguments,3);try{r.apply(l,L)}catch(z){this.onError(z)}}var al=!1,Wl=null,ql=!1,fn=null,kd={onError:function(e){al=!0,Wl=e}};function Pd(e,r,l,s,n,i,p,h,b){al=!1,Wl=null,wd.apply(kd,arguments)}function Dd(e,r,l,s,n,i,p,h,b){if(Pd.apply(this,arguments),al){if(al){var L=Wl;al=!1,Wl=null}else throw Error(o(198));ql||(ql=!0,fn=L)}}function gr(e){var r=e,l=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(l=r.return),e=r.return;while(e)}return r.tag===3?l:null}function ji(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Si(e){if(gr(e)!==e)throw Error(o(188))}function Ed(e){var r=e.alternate;if(!r){if(r=gr(e),r===null)throw Error(o(188));return r!==e?null:e}for(var l=e,s=r;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return Si(n),e;if(i===s)return Si(n),r;i=i.sibling}throw Error(o(188))}if(l.return!==s.return)l=n,s=i;else{for(var p=!1,h=n.child;h;){if(h===l){p=!0,l=n,s=i;break}if(h===s){p=!0,s=n,l=i;break}h=h.sibling}if(!p){for(h=i.child;h;){if(h===l){p=!0,l=i,s=n;break}if(h===s){p=!0,s=i,l=n;break}h=h.sibling}if(!p)throw Error(o(189))}}if(l.alternate!==s)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:r}function Ci(e){return e=Ed(e),e!==null?Ti(e):null}function Ti(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Ti(e);if(r!==null)return r;e=e.sibling}return null}var wi=d.unstable_scheduleCallback,ki=d.unstable_cancelCallback,Rd=d.unstable_shouldYield,Ld=d.unstable_requestPaint,ze=d.unstable_now,Md=d.unstable_getCurrentPriorityLevel,gn=d.unstable_ImmediatePriority,Pi=d.unstable_UserBlockingPriority,Yl=d.unstable_NormalPriority,Ad=d.unstable_LowPriority,Di=d.unstable_IdlePriority,Xl=null,_t=null;function Id(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Xl,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:_d,Fd=Math.log,Od=Math.LN2;function _d(e){return e>>>=0,e===0?32:31-(Fd(e)/Od|0)|0}var Zl=64,Jl=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function es(e,r){var l=e.pendingLanes;if(l===0)return 0;var s=0,n=e.suspendedLanes,i=e.pingedLanes,p=l&268435455;if(p!==0){var h=p&~n;h!==0?s=il(h):(i&=p,i!==0&&(s=il(i)))}else p=l&~n,p!==0?s=il(p):i!==0&&(s=il(i));if(s===0)return 0;if(r!==0&&r!==s&&(r&n)===0&&(n=s&-s,i=r&-r,n>=i||n===16&&(i&4194240)!==0))return r;if((s&4)!==0&&(s|=l&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=s;0<r;)l=31-Dt(r),n=1<<l,s|=e[l],r&=~n;return s}function Bd(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vd(e,r){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes;0<i;){var p=31-Dt(i),h=1<<p,b=n[p];b===-1?((h&l)===0||(h&s)!==0)&&(n[p]=Bd(h,r)):b<=r&&(e.expiredLanes|=h),i&=~h}}function yn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ei(){var e=Zl;return Zl<<=1,(Zl&4194240)===0&&(Zl=64),e}function bn(e){for(var r=[],l=0;31>l;l++)r.push(e);return r}function ol(e,r,l){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Dt(r),e[r]=l}function Ud(e,r){var l=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<l;){var n=31-Dt(l),i=1<<n;r[n]=0,s[n]=-1,e[n]=-1,l&=~i}}function vn(e,r){var l=e.entangledLanes|=r;for(e=e.entanglements;l;){var s=31-Dt(l),n=1<<s;n&r|e[s]&r&&(e[s]|=r),l&=~n}}var Ee=0;function Ri(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Li,Nn,Mi,Ai,Ii,jn=!1,ts=[],Zt=null,Jt=null,er=null,cl=new Map,dl=new Map,tr=[],Gd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fi(e,r){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":cl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(r.pointerId)}}function ul(e,r,l,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:r,domEventName:l,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},r!==null&&(r=Tl(r),r!==null&&Nn(r)),e):(e.eventSystemFlags|=s,r=e.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),e)}function Hd(e,r,l,s,n){switch(r){case"focusin":return Zt=ul(Zt,e,r,l,s,n),!0;case"dragenter":return Jt=ul(Jt,e,r,l,s,n),!0;case"mouseover":return er=ul(er,e,r,l,s,n),!0;case"pointerover":var i=n.pointerId;return cl.set(i,ul(cl.get(i)||null,e,r,l,s,n)),!0;case"gotpointercapture":return i=n.pointerId,dl.set(i,ul(dl.get(i)||null,e,r,l,s,n)),!0}return!1}function Oi(e){var r=yr(e.target);if(r!==null){var l=gr(r);if(l!==null){if(r=l.tag,r===13){if(r=ji(l),r!==null){e.blockedOn=r,Ii(e.priority,function(){Mi(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rs(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var l=Cn(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);un=s,l.target.dispatchEvent(s),un=null}else return r=Tl(l),r!==null&&Nn(r),e.blockedOn=l,!1;r.shift()}return!0}function _i(e,r,l){rs(e)&&l.delete(r)}function zd(){jn=!1,Zt!==null&&rs(Zt)&&(Zt=null),Jt!==null&&rs(Jt)&&(Jt=null),er!==null&&rs(er)&&(er=null),cl.forEach(_i),dl.forEach(_i)}function pl(e,r){e.blockedOn===r&&(e.blockedOn=null,jn||(jn=!0,d.unstable_scheduleCallback(d.unstable_NormalPriority,zd)))}function ml(e){function r(n){return pl(n,e)}if(0<ts.length){pl(ts[0],e);for(var l=1;l<ts.length;l++){var s=ts[l];s.blockedOn===e&&(s.blockedOn=null)}}for(Zt!==null&&pl(Zt,e),Jt!==null&&pl(Jt,e),er!==null&&pl(er,e),cl.forEach(r),dl.forEach(r),l=0;l<tr.length;l++)s=tr[l],s.blockedOn===e&&(s.blockedOn=null);for(;0<tr.length&&(l=tr[0],l.blockedOn===null);)Oi(l),l.blockedOn===null&&tr.shift()}var Mr=Y.ReactCurrentBatchConfig,ls=!0;function Kd(e,r,l,s){var n=Ee,i=Mr.transition;Mr.transition=null;try{Ee=1,Sn(e,r,l,s)}finally{Ee=n,Mr.transition=i}}function Qd(e,r,l,s){var n=Ee,i=Mr.transition;Mr.transition=null;try{Ee=4,Sn(e,r,l,s)}finally{Ee=n,Mr.transition=i}}function Sn(e,r,l,s){if(ls){var n=Cn(e,r,l,s);if(n===null)Un(e,r,s,ss,l),Fi(e,s);else if(Hd(n,e,r,l,s))s.stopPropagation();else if(Fi(e,s),r&4&&-1<Gd.indexOf(e)){for(;n!==null;){var i=Tl(n);if(i!==null&&Li(i),i=Cn(e,r,l,s),i===null&&Un(e,r,s,ss,l),i===n)break;n=i}n!==null&&s.stopPropagation()}else Un(e,r,s,null,l)}}var ss=null;function Cn(e,r,l,s){if(ss=null,e=pn(s),e=yr(e),e!==null)if(r=gr(e),r===null)e=null;else if(l=r.tag,l===13){if(e=ji(r),e!==null)return e;e=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return ss=e,null}function Bi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Md()){case gn:return 1;case Pi:return 4;case Yl:case Ad:return 16;case Di:return 536870912;default:return 16}default:return 16}}var rr=null,Tn=null,ns=null;function Vi(){if(ns)return ns;var e,r=Tn,l=r.length,s,n="value"in rr?rr.value:rr.textContent,i=n.length;for(e=0;e<l&&r[e]===n[e];e++);var p=l-e;for(s=1;s<=p&&r[l-s]===n[i-s];s++);return ns=n.slice(e,1<s?1-s:void 0)}function as(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function Ui(){return!1}function gt(e){function r(l,s,n,i,p){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=p,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(l=e[h],this[h]=l?l(i):i[h]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:Ui,this.isPropagationStopped=Ui,this}return J(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),r}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wn=gt(Ar),xl=J({},Ar,{view:0,detail:0}),$d=gt(xl),kn,Pn,hl,os=J({},xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hl&&(hl&&e.type==="mousemove"?(kn=e.screenX-hl.screenX,Pn=e.screenY-hl.screenY):Pn=kn=0,hl=e),kn)},movementY:function(e){return"movementY"in e?e.movementY:Pn}}),Gi=gt(os),Wd=J({},os,{dataTransfer:0}),qd=gt(Wd),Yd=J({},xl,{relatedTarget:0}),Dn=gt(Yd),Xd=J({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Zd=gt(Xd),Jd=J({},Ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eu=gt(Jd),tu=J({},Ar,{data:0}),Hi=gt(tu),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=su[e])?!!r[e]:!1}function En(){return nu}var au=J({},xl,{key:function(e){if(e.key){var r=ru[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iu=gt(au),ou=J({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=gt(ou),cu=J({},xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En}),du=gt(cu),uu=J({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=gt(uu),mu=J({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xu=gt(mu),hu=[9,13,27,32],Rn=y&&"CompositionEvent"in window,fl=null;y&&"documentMode"in document&&(fl=document.documentMode);var fu=y&&"TextEvent"in window&&!fl,Ki=y&&(!Rn||fl&&8<fl&&11>=fl),Qi=" ",$i=!1;function Wi(e,r){switch(e){case"keyup":return hu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qi(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ir=!1;function gu(e,r){switch(e){case"compositionend":return qi(r);case"keypress":return r.which!==32?null:($i=!0,Qi);case"textInput":return e=r.data,e===Qi&&$i?null:e;default:return null}}function yu(e,r){if(Ir)return e==="compositionend"||!Rn&&Wi(e,r)?(e=Vi(),ns=Tn=rr=null,Ir=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ki&&r.locale!=="ko"?null:r.data;default:return null}}var bu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yi(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!bu[e.type]:r==="textarea"}function Xi(e,r,l,s){gi(s),r=ms(r,"onChange"),0<r.length&&(l=new wn("onChange","change",null,l,s),e.push({event:l,listeners:r}))}var gl=null,yl=null;function vu(e){fo(e,0)}function cs(e){var r=Vr(e);if(Fe(r))return e}function Nu(e,r){if(e==="change")return r}var Zi=!1;if(y){var Ln;if(y){var Mn="oninput"in document;if(!Mn){var Ji=document.createElement("div");Ji.setAttribute("oninput","return;"),Mn=typeof Ji.oninput=="function"}Ln=Mn}else Ln=!1;Zi=Ln&&(!document.documentMode||9<document.documentMode)}function eo(){gl&&(gl.detachEvent("onpropertychange",to),yl=gl=null)}function to(e){if(e.propertyName==="value"&&cs(yl)){var r=[];Xi(r,yl,e,pn(e)),Ni(vu,r)}}function ju(e,r,l){e==="focusin"?(eo(),gl=r,yl=l,gl.attachEvent("onpropertychange",to)):e==="focusout"&&eo()}function Su(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cs(yl)}function Cu(e,r){if(e==="click")return cs(r)}function Tu(e,r){if(e==="input"||e==="change")return cs(r)}function wu(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Et=typeof Object.is=="function"?Object.is:wu;function bl(e,r){if(Et(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var l=Object.keys(e),s=Object.keys(r);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!k.call(r,n)||!Et(e[n],r[n]))return!1}return!0}function ro(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lo(e,r){var l=ro(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=r&&s>=r)return{node:l,offset:r-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ro(l)}}function so(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?so(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function no(){for(var e=window,r=Re();r instanceof e.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)e=r.contentWindow;else break;r=Re(e.document)}return r}function An(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function ku(e){var r=no(),l=e.focusedElem,s=e.selectionRange;if(r!==l&&l&&l.ownerDocument&&so(l.ownerDocument.documentElement,l)){if(s!==null&&An(l)){if(r=s.start,e=s.end,e===void 0&&(e=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(e,l.value.length);else if(e=(r=l.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var n=l.textContent.length,i=Math.min(s.start,n);s=s.end===void 0?i:Math.min(s.end,n),!e.extend&&i>s&&(n=s,s=i,i=n),n=lo(l,i);var p=lo(l,s);n&&p&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),e.removeAllRanges(),i>s?(e.addRange(r),e.extend(p.node,p.offset)):(r.setEnd(p.node,p.offset),e.addRange(r)))}}for(r=[],e=l;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)e=r[l],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pu=y&&"documentMode"in document&&11>=document.documentMode,Fr=null,In=null,vl=null,Fn=!1;function ao(e,r,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Fn||Fr==null||Fr!==Re(s)||(s=Fr,"selectionStart"in s&&An(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),vl&&bl(vl,s)||(vl=s,s=ms(In,"onSelect"),0<s.length&&(r=new wn("onSelect","select",null,r,l),e.push({event:r,listeners:s}),r.target=Fr)))}function ds(e,r){var l={};return l[e.toLowerCase()]=r.toLowerCase(),l["Webkit"+e]="webkit"+r,l["Moz"+e]="moz"+r,l}var Or={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionend:ds("Transition","TransitionEnd")},On={},io={};y&&(io=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function us(e){if(On[e])return On[e];if(!Or[e])return e;var r=Or[e],l;for(l in r)if(r.hasOwnProperty(l)&&l in io)return On[e]=r[l];return e}var oo=us("animationend"),co=us("animationiteration"),uo=us("animationstart"),po=us("transitionend"),mo=new Map,xo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(e,r){mo.set(e,r),c(r,[e])}for(var _n=0;_n<xo.length;_n++){var Bn=xo[_n],Du=Bn.toLowerCase(),Eu=Bn[0].toUpperCase()+Bn.slice(1);lr(Du,"on"+Eu)}lr(oo,"onAnimationEnd"),lr(co,"onAnimationIteration"),lr(uo,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(po,"onTransitionEnd"),C("onMouseEnter",["mouseout","mouseover"]),C("onMouseLeave",["mouseout","mouseover"]),C("onPointerEnter",["pointerout","pointerover"]),C("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function ho(e,r,l){var s=e.type||"unknown-event";e.currentTarget=l,Dd(s,r,void 0,e),e.currentTarget=null}function fo(e,r){r=(r&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var i=void 0;if(r)for(var p=s.length-1;0<=p;p--){var h=s[p],b=h.instance,L=h.currentTarget;if(h=h.listener,b!==i&&n.isPropagationStopped())break e;ho(n,h,L),i=b}else for(p=0;p<s.length;p++){if(h=s[p],b=h.instance,L=h.currentTarget,h=h.listener,b!==i&&n.isPropagationStopped())break e;ho(n,h,L),i=b}}}if(ql)throw e=fn,ql=!1,fn=null,e}function Me(e,r){var l=r[$n];l===void 0&&(l=r[$n]=new Set);var s=e+"__bubble";l.has(s)||(go(r,e,2,!1),l.add(s))}function Vn(e,r,l){var s=0;r&&(s|=4),go(l,e,s,r)}var ps="_reactListening"+Math.random().toString(36).slice(2);function jl(e){if(!e[ps]){e[ps]=!0,u.forEach(function(l){l!=="selectionchange"&&(Ru.has(l)||Vn(l,!1,e),Vn(l,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[ps]||(r[ps]=!0,Vn("selectionchange",!1,r))}}function go(e,r,l,s){switch(Bi(r)){case 1:var n=Kd;break;case 4:n=Qd;break;default:n=Sn}l=n.bind(null,r,l,e),n=void 0,!hn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(r,l,{capture:!0,passive:n}):e.addEventListener(r,l,!0):n!==void 0?e.addEventListener(r,l,{passive:n}):e.addEventListener(r,l,!1)}function Un(e,r,l,s,n){var i=s;if((r&1)===0&&(r&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var h=s.stateNode.containerInfo;if(h===n||h.nodeType===8&&h.parentNode===n)break;if(p===4)for(p=s.return;p!==null;){var b=p.tag;if((b===3||b===4)&&(b=p.stateNode.containerInfo,b===n||b.nodeType===8&&b.parentNode===n))return;p=p.return}for(;h!==null;){if(p=yr(h),p===null)return;if(b=p.tag,b===5||b===6){s=i=p;continue e}h=h.parentNode}}s=s.return}Ni(function(){var L=i,z=pn(l),Q=[];e:{var H=mo.get(e);if(H!==void 0){var re=wn,ne=e;switch(e){case"keypress":if(as(l)===0)break e;case"keydown":case"keyup":re=iu;break;case"focusin":ne="focus",re=Dn;break;case"focusout":ne="blur",re=Dn;break;case"beforeblur":case"afterblur":re=Dn;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=Gi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=du;break;case oo:case co:case uo:re=Zd;break;case po:re=pu;break;case"scroll":re=$d;break;case"wheel":re=xu;break;case"copy":case"cut":case"paste":re=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=zi}var ae=(r&4)!==0,Ke=!ae&&e==="scroll",P=ae?H!==null?H+"Capture":null:H;ae=[];for(var S=L,D;S!==null;){D=S;var Z=D.stateNode;if(D.tag===5&&Z!==null&&(D=Z,P!==null&&(Z=sl(S,P),Z!=null&&ae.push(Sl(S,Z,D)))),Ke)break;S=S.return}0<ae.length&&(H=new re(H,ne,null,l,z),Q.push({event:H,listeners:ae}))}}if((r&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",re=e==="mouseout"||e==="pointerout",H&&l!==un&&(ne=l.relatedTarget||l.fromElement)&&(yr(ne)||ne[Ht]))break e;if((re||H)&&(H=z.window===z?z:(H=z.ownerDocument)?H.defaultView||H.parentWindow:window,re?(ne=l.relatedTarget||l.toElement,re=L,ne=ne?yr(ne):null,ne!==null&&(Ke=gr(ne),ne!==Ke||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(re=null,ne=L),re!==ne)){if(ae=Gi,Z="onMouseLeave",P="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ae=zi,Z="onPointerLeave",P="onPointerEnter",S="pointer"),Ke=re==null?H:Vr(re),D=ne==null?H:Vr(ne),H=new ae(Z,S+"leave",re,l,z),H.target=Ke,H.relatedTarget=D,Z=null,yr(z)===L&&(ae=new ae(P,S+"enter",ne,l,z),ae.target=D,ae.relatedTarget=Ke,Z=ae),Ke=Z,re&&ne)t:{for(ae=re,P=ne,S=0,D=ae;D;D=_r(D))S++;for(D=0,Z=P;Z;Z=_r(Z))D++;for(;0<S-D;)ae=_r(ae),S--;for(;0<D-S;)P=_r(P),D--;for(;S--;){if(ae===P||P!==null&&ae===P.alternate)break t;ae=_r(ae),P=_r(P)}ae=null}else ae=null;re!==null&&yo(Q,H,re,ae,!1),ne!==null&&Ke!==null&&yo(Q,Ke,ne,ae,!0)}}e:{if(H=L?Vr(L):window,re=H.nodeName&&H.nodeName.toLowerCase(),re==="select"||re==="input"&&H.type==="file")var ie=Nu;else if(Yi(H))if(Zi)ie=Tu;else{ie=Su;var ce=ju}else(re=H.nodeName)&&re.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ie=Cu);if(ie&&(ie=ie(e,L))){Xi(Q,ie,l,z);break e}ce&&ce(e,H,L),e==="focusout"&&(ce=H._wrapperState)&&ce.controlled&&H.type==="number"&&Ue(H,"number",H.value)}switch(ce=L?Vr(L):window,e){case"focusin":(Yi(ce)||ce.contentEditable==="true")&&(Fr=ce,In=L,vl=null);break;case"focusout":vl=In=Fr=null;break;case"mousedown":Fn=!0;break;case"contextmenu":case"mouseup":case"dragend":Fn=!1,ao(Q,l,z);break;case"selectionchange":if(Pu)break;case"keydown":case"keyup":ao(Q,l,z)}var de;if(Rn)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ir?Wi(e,l)&&(xe="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(Ki&&l.locale!=="ko"&&(Ir||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ir&&(de=Vi()):(rr=z,Tn="value"in rr?rr.value:rr.textContent,Ir=!0)),ce=ms(L,xe),0<ce.length&&(xe=new Hi(xe,e,null,l,z),Q.push({event:xe,listeners:ce}),de?xe.data=de:(de=qi(l),de!==null&&(xe.data=de)))),(de=fu?gu(e,l):yu(e,l))&&(L=ms(L,"onBeforeInput"),0<L.length&&(z=new Hi("onBeforeInput","beforeinput",null,l,z),Q.push({event:z,listeners:L}),z.data=de))}fo(Q,r)})}function Sl(e,r,l){return{instance:e,listener:r,currentTarget:l}}function ms(e,r){for(var l=r+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=sl(e,l),i!=null&&s.unshift(Sl(e,i,n)),i=sl(e,r),i!=null&&s.push(Sl(e,i,n))),e=e.return}return s}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yo(e,r,l,s,n){for(var i=r._reactName,p=[];l!==null&&l!==s;){var h=l,b=h.alternate,L=h.stateNode;if(b!==null&&b===s)break;h.tag===5&&L!==null&&(h=L,n?(b=sl(l,i),b!=null&&p.unshift(Sl(l,b,h))):n||(b=sl(l,i),b!=null&&p.push(Sl(l,b,h)))),l=l.return}p.length!==0&&e.push({event:r,listeners:p})}var Lu=/\r\n?/g,Mu=/\u0000|\uFFFD/g;function bo(e){return(typeof e=="string"?e:""+e).replace(Lu,`
`).replace(Mu,"")}function xs(e,r,l){if(r=bo(r),bo(e)!==r&&l)throw Error(o(425))}function hs(){}var Gn=null,Hn=null;function zn(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Kn=typeof setTimeout=="function"?setTimeout:void 0,Au=typeof clearTimeout=="function"?clearTimeout:void 0,vo=typeof Promise=="function"?Promise:void 0,Iu=typeof queueMicrotask=="function"?queueMicrotask:typeof vo<"u"?function(e){return vo.resolve(null).then(e).catch(Fu)}:Kn;function Fu(e){setTimeout(function(){throw e})}function Qn(e,r){var l=r,s=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"){if(s===0){e.removeChild(n),ml(r);return}s--}else l!=="$"&&l!=="$?"&&l!=="$!"||s++;l=n}while(l);ml(r)}function sr(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function No(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return e;r--}else l==="/$"&&r++}e=e.previousSibling}return null}var Br=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Br,Cl="__reactProps$"+Br,Ht="__reactContainer$"+Br,$n="__reactEvents$"+Br,Ou="__reactListeners$"+Br,_u="__reactHandles$"+Br;function yr(e){var r=e[Bt];if(r)return r;for(var l=e.parentNode;l;){if(r=l[Ht]||l[Bt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(e=No(e);e!==null;){if(l=e[Bt])return l;e=No(e)}return r}e=l,l=e.parentNode}return null}function Tl(e){return e=e[Bt]||e[Ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function fs(e){return e[Cl]||null}var Wn=[],Ur=-1;function nr(e){return{current:e}}function Ae(e){0>Ur||(e.current=Wn[Ur],Wn[Ur]=null,Ur--)}function Le(e,r){Ur++,Wn[Ur]=e.current,e.current=r}var ar={},rt=nr(ar),ut=nr(!1),br=ar;function Gr(e,r){var l=e.type.contextTypes;if(!l)return ar;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===r)return s.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in l)n[i]=r[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=n),n}function pt(e){return e=e.childContextTypes,e!=null}function gs(){Ae(ut),Ae(rt)}function jo(e,r,l){if(rt.current!==ar)throw Error(o(168));Le(rt,r),Le(ut,l)}function So(e,r,l){var s=e.stateNode;if(r=r.childContextTypes,typeof s.getChildContext!="function")return l;s=s.getChildContext();for(var n in s)if(!(n in r))throw Error(o(108,Se(e)||"Unknown",n));return J({},l,s)}function ys(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,br=rt.current,Le(rt,e),Le(ut,ut.current),!0}function Co(e,r,l){var s=e.stateNode;if(!s)throw Error(o(169));l?(e=So(e,r,br),s.__reactInternalMemoizedMergedChildContext=e,Ae(ut),Ae(rt),Le(rt,e)):Ae(ut),Le(ut,l)}var zt=null,bs=!1,qn=!1;function To(e){zt===null?zt=[e]:zt.push(e)}function Bu(e){bs=!0,To(e)}function ir(){if(!qn&&zt!==null){qn=!0;var e=0,r=Ee;try{var l=zt;for(Ee=1;e<l.length;e++){var s=l[e];do s=s(!0);while(s!==null)}zt=null,bs=!1}catch(n){throw zt!==null&&(zt=zt.slice(e+1)),wi(gn,ir),n}finally{Ee=r,qn=!1}}return null}var Hr=[],zr=0,vs=null,Ns=0,St=[],Ct=0,vr=null,Kt=1,Qt="";function Nr(e,r){Hr[zr++]=Ns,Hr[zr++]=vs,vs=e,Ns=r}function wo(e,r,l){St[Ct++]=Kt,St[Ct++]=Qt,St[Ct++]=vr,vr=e;var s=Kt;e=Qt;var n=32-Dt(s)-1;s&=~(1<<n),l+=1;var i=32-Dt(r)+n;if(30<i){var p=n-n%5;i=(s&(1<<p)-1).toString(32),s>>=p,n-=p,Kt=1<<32-Dt(r)+n|l<<n|s,Qt=i+e}else Kt=1<<i|l<<n|s,Qt=e}function Yn(e){e.return!==null&&(Nr(e,1),wo(e,1,0))}function Xn(e){for(;e===vs;)vs=Hr[--zr],Hr[zr]=null,Ns=Hr[--zr],Hr[zr]=null;for(;e===vr;)vr=St[--Ct],St[Ct]=null,Qt=St[--Ct],St[Ct]=null,Kt=St[--Ct],St[Ct]=null}var yt=null,bt=null,Oe=!1,Rt=null;function ko(e,r){var l=Pt(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=e,r=e.deletions,r===null?(e.deletions=[l],e.flags|=16):r.push(l)}function Po(e,r){switch(e.tag){case 5:var l=e.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,yt=e,bt=sr(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,yt=e,bt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=vr!==null?{id:Kt,overflow:Qt}:null,e.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=Pt(18,null,null,0),l.stateNode=r,l.return=e,e.child=l,yt=e,bt=null,!0):!1;default:return!1}}function Zn(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jn(e){if(Oe){var r=bt;if(r){var l=r;if(!Po(e,r)){if(Zn(e))throw Error(o(418));r=sr(l.nextSibling);var s=yt;r&&Po(e,r)?ko(s,l):(e.flags=e.flags&-4097|2,Oe=!1,yt=e)}}else{if(Zn(e))throw Error(o(418));e.flags=e.flags&-4097|2,Oe=!1,yt=e}}}function Do(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function js(e){if(e!==yt)return!1;if(!Oe)return Do(e),Oe=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!zn(e.type,e.memoizedProps)),r&&(r=bt)){if(Zn(e))throw Eo(),Error(o(418));for(;r;)ko(e,r),r=sr(r.nextSibling)}if(Do(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"){if(r===0){bt=sr(e.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}e=e.nextSibling}bt=null}}else bt=yt?sr(e.stateNode.nextSibling):null;return!0}function Eo(){for(var e=bt;e;)e=sr(e.nextSibling)}function Kr(){bt=yt=null,Oe=!1}function ea(e){Rt===null?Rt=[e]:Rt.push(e)}var Vu=Y.ReactCurrentBatchConfig;function wl(e,r,l){if(e=l.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(o(309));var s=l.stateNode}if(!s)throw Error(o(147,e));var n=s,i=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(p){var h=n.refs;p===null?delete h[i]:h[i]=p},r._stringRef=i,r)}if(typeof e!="string")throw Error(o(284));if(!l._owner)throw Error(o(290,e))}return e}function Ss(e,r){throw e=Object.prototype.toString.call(r),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Ro(e){var r=e._init;return r(e._payload)}function Lo(e){function r(P,S){if(e){var D=P.deletions;D===null?(P.deletions=[S],P.flags|=16):D.push(S)}}function l(P,S){if(!e)return null;for(;S!==null;)r(P,S),S=S.sibling;return null}function s(P,S){for(P=new Map;S!==null;)S.key!==null?P.set(S.key,S):P.set(S.index,S),S=S.sibling;return P}function n(P,S){return P=hr(P,S),P.index=0,P.sibling=null,P}function i(P,S,D){return P.index=D,e?(D=P.alternate,D!==null?(D=D.index,D<S?(P.flags|=2,S):D):(P.flags|=2,S)):(P.flags|=1048576,S)}function p(P){return e&&P.alternate===null&&(P.flags|=2),P}function h(P,S,D,Z){return S===null||S.tag!==6?(S=Ka(D,P.mode,Z),S.return=P,S):(S=n(S,D),S.return=P,S)}function b(P,S,D,Z){var ie=D.type;return ie===ee?z(P,S,D.props.children,Z,D.key):S!==null&&(S.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===K&&Ro(ie)===S.type)?(Z=n(S,D.props),Z.ref=wl(P,S,D),Z.return=P,Z):(Z=$s(D.type,D.key,D.props,null,P.mode,Z),Z.ref=wl(P,S,D),Z.return=P,Z)}function L(P,S,D,Z){return S===null||S.tag!==4||S.stateNode.containerInfo!==D.containerInfo||S.stateNode.implementation!==D.implementation?(S=Qa(D,P.mode,Z),S.return=P,S):(S=n(S,D.children||[]),S.return=P,S)}function z(P,S,D,Z,ie){return S===null||S.tag!==7?(S=Dr(D,P.mode,Z,ie),S.return=P,S):(S=n(S,D),S.return=P,S)}function Q(P,S,D){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ka(""+S,P.mode,D),S.return=P,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case R:return D=$s(S.type,S.key,S.props,null,P.mode,D),D.ref=wl(P,null,S),D.return=P,D;case X:return S=Qa(S,P.mode,D),S.return=P,S;case K:var Z=S._init;return Q(P,Z(S._payload),D)}if(Ge(S)||W(S))return S=Dr(S,P.mode,D,null),S.return=P,S;Ss(P,S)}return null}function H(P,S,D,Z){var ie=S!==null?S.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return ie!==null?null:h(P,S,""+D,Z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case R:return D.key===ie?b(P,S,D,Z):null;case X:return D.key===ie?L(P,S,D,Z):null;case K:return ie=D._init,H(P,S,ie(D._payload),Z)}if(Ge(D)||W(D))return ie!==null?null:z(P,S,D,Z,null);Ss(P,D)}return null}function re(P,S,D,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return P=P.get(D)||null,h(S,P,""+Z,ie);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return P=P.get(Z.key===null?D:Z.key)||null,b(S,P,Z,ie);case X:return P=P.get(Z.key===null?D:Z.key)||null,L(S,P,Z,ie);case K:var ce=Z._init;return re(P,S,D,ce(Z._payload),ie)}if(Ge(Z)||W(Z))return P=P.get(D)||null,z(S,P,Z,ie,null);Ss(S,Z)}return null}function ne(P,S,D,Z){for(var ie=null,ce=null,de=S,xe=S=0,Je=null;de!==null&&xe<D.length;xe++){de.index>xe?(Je=de,de=null):Je=de.sibling;var Pe=H(P,de,D[xe],Z);if(Pe===null){de===null&&(de=Je);break}e&&de&&Pe.alternate===null&&r(P,de),S=i(Pe,S,xe),ce===null?ie=Pe:ce.sibling=Pe,ce=Pe,de=Je}if(xe===D.length)return l(P,de),Oe&&Nr(P,xe),ie;if(de===null){for(;xe<D.length;xe++)de=Q(P,D[xe],Z),de!==null&&(S=i(de,S,xe),ce===null?ie=de:ce.sibling=de,ce=de);return Oe&&Nr(P,xe),ie}for(de=s(P,de);xe<D.length;xe++)Je=re(de,P,xe,D[xe],Z),Je!==null&&(e&&Je.alternate!==null&&de.delete(Je.key===null?xe:Je.key),S=i(Je,S,xe),ce===null?ie=Je:ce.sibling=Je,ce=Je);return e&&de.forEach(function(fr){return r(P,fr)}),Oe&&Nr(P,xe),ie}function ae(P,S,D,Z){var ie=W(D);if(typeof ie!="function")throw Error(o(150));if(D=ie.call(D),D==null)throw Error(o(151));for(var ce=ie=null,de=S,xe=S=0,Je=null,Pe=D.next();de!==null&&!Pe.done;xe++,Pe=D.next()){de.index>xe?(Je=de,de=null):Je=de.sibling;var fr=H(P,de,Pe.value,Z);if(fr===null){de===null&&(de=Je);break}e&&de&&fr.alternate===null&&r(P,de),S=i(fr,S,xe),ce===null?ie=fr:ce.sibling=fr,ce=fr,de=Je}if(Pe.done)return l(P,de),Oe&&Nr(P,xe),ie;if(de===null){for(;!Pe.done;xe++,Pe=D.next())Pe=Q(P,Pe.value,Z),Pe!==null&&(S=i(Pe,S,xe),ce===null?ie=Pe:ce.sibling=Pe,ce=Pe);return Oe&&Nr(P,xe),ie}for(de=s(P,de);!Pe.done;xe++,Pe=D.next())Pe=re(de,P,xe,Pe.value,Z),Pe!==null&&(e&&Pe.alternate!==null&&de.delete(Pe.key===null?xe:Pe.key),S=i(Pe,S,xe),ce===null?ie=Pe:ce.sibling=Pe,ce=Pe);return e&&de.forEach(function(bp){return r(P,bp)}),Oe&&Nr(P,xe),ie}function Ke(P,S,D,Z){if(typeof D=="object"&&D!==null&&D.type===ee&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case R:e:{for(var ie=D.key,ce=S;ce!==null;){if(ce.key===ie){if(ie=D.type,ie===ee){if(ce.tag===7){l(P,ce.sibling),S=n(ce,D.props.children),S.return=P,P=S;break e}}else if(ce.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===K&&Ro(ie)===ce.type){l(P,ce.sibling),S=n(ce,D.props),S.ref=wl(P,ce,D),S.return=P,P=S;break e}l(P,ce);break}else r(P,ce);ce=ce.sibling}D.type===ee?(S=Dr(D.props.children,P.mode,Z,D.key),S.return=P,P=S):(Z=$s(D.type,D.key,D.props,null,P.mode,Z),Z.ref=wl(P,S,D),Z.return=P,P=Z)}return p(P);case X:e:{for(ce=D.key;S!==null;){if(S.key===ce)if(S.tag===4&&S.stateNode.containerInfo===D.containerInfo&&S.stateNode.implementation===D.implementation){l(P,S.sibling),S=n(S,D.children||[]),S.return=P,P=S;break e}else{l(P,S);break}else r(P,S);S=S.sibling}S=Qa(D,P.mode,Z),S.return=P,P=S}return p(P);case K:return ce=D._init,Ke(P,S,ce(D._payload),Z)}if(Ge(D))return ne(P,S,D,Z);if(W(D))return ae(P,S,D,Z);Ss(P,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,S!==null&&S.tag===6?(l(P,S.sibling),S=n(S,D),S.return=P,P=S):(l(P,S),S=Ka(D,P.mode,Z),S.return=P,P=S),p(P)):l(P,S)}return Ke}var Qr=Lo(!0),Mo=Lo(!1),Cs=nr(null),Ts=null,$r=null,ta=null;function ra(){ta=$r=Ts=null}function la(e){var r=Cs.current;Ae(Cs),e._currentValue=r}function sa(e,r,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,s!==null&&(s.childLanes|=r)):s!==null&&(s.childLanes&r)!==r&&(s.childLanes|=r),e===l)break;e=e.return}}function Wr(e,r){Ts=e,ta=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(mt=!0),e.firstContext=null)}function Tt(e){var r=e._currentValue;if(ta!==e)if(e={context:e,memoizedValue:r,next:null},$r===null){if(Ts===null)throw Error(o(308));$r=e,Ts.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return r}var jr=null;function na(e){jr===null?jr=[e]:jr.push(e)}function Ao(e,r,l,s){var n=r.interleaved;return n===null?(l.next=l,na(r)):(l.next=n.next,n.next=l),r.interleaved=l,$t(e,s)}function $t(e,r){e.lanes|=r;var l=e.alternate;for(l!==null&&(l.lanes|=r),l=e,e=e.return;e!==null;)e.childLanes|=r,l=e.alternate,l!==null&&(l.childLanes|=r),l=e,e=e.return;return l.tag===3?l.stateNode:null}var or=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Io(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function cr(e,r,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ke&2)!==0){var n=s.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),s.pending=r,$t(e,l)}return n=s.interleaved,n===null?(r.next=r,na(s)):(r.next=n.next,n.next=r),s.interleaved=r,$t(e,l)}function ws(e,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var s=r.lanes;s&=e.pendingLanes,l|=s,r.lanes=l,vn(e,l)}}function Fo(e,r){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var p={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};i===null?n=i=p:i=i.next=p,l=l.next}while(l!==null);i===null?n=i=r:i=i.next=r}else n=i=r;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=r:e.next=r,l.lastBaseUpdate=r}function ks(e,r,l,s){var n=e.updateQueue;or=!1;var i=n.firstBaseUpdate,p=n.lastBaseUpdate,h=n.shared.pending;if(h!==null){n.shared.pending=null;var b=h,L=b.next;b.next=null,p===null?i=L:p.next=L,p=b;var z=e.alternate;z!==null&&(z=z.updateQueue,h=z.lastBaseUpdate,h!==p&&(h===null?z.firstBaseUpdate=L:h.next=L,z.lastBaseUpdate=b))}if(i!==null){var Q=n.baseState;p=0,z=L=b=null,h=i;do{var H=h.lane,re=h.eventTime;if((s&H)===H){z!==null&&(z=z.next={eventTime:re,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var ne=e,ae=h;switch(H=r,re=l,ae.tag){case 1:if(ne=ae.payload,typeof ne=="function"){Q=ne.call(re,Q,H);break e}Q=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ae.payload,H=typeof ne=="function"?ne.call(re,Q,H):ne,H==null)break e;Q=J({},Q,H);break e;case 2:or=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,H=n.effects,H===null?n.effects=[h]:H.push(h))}else re={eventTime:re,lane:H,tag:h.tag,payload:h.payload,callback:h.callback,next:null},z===null?(L=z=re,b=Q):z=z.next=re,p|=H;if(h=h.next,h===null){if(h=n.shared.pending,h===null)break;H=h,h=H.next,H.next=null,n.lastBaseUpdate=H,n.shared.pending=null}}while(!0);if(z===null&&(b=Q),n.baseState=b,n.firstBaseUpdate=L,n.lastBaseUpdate=z,r=n.shared.interleaved,r!==null){n=r;do p|=n.lane,n=n.next;while(n!==r)}else i===null&&(n.shared.lanes=0);Tr|=p,e.lanes=p,e.memoizedState=Q}}function Oo(e,r,l){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var s=e[r],n=s.callback;if(n!==null){if(s.callback=null,s=l,typeof n!="function")throw Error(o(191,n));n.call(s)}}}var kl={},Vt=nr(kl),Pl=nr(kl),Dl=nr(kl);function Sr(e){if(e===kl)throw Error(o(174));return e}function ia(e,r){switch(Le(Dl,r),Le(Pl,e),Le(Vt,kl),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:on(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=on(r,e)}Ae(Vt),Le(Vt,r)}function qr(){Ae(Vt),Ae(Pl),Ae(Dl)}function _o(e){Sr(Dl.current);var r=Sr(Vt.current),l=on(r,e.type);r!==l&&(Le(Pl,e),Le(Vt,l))}function oa(e){Pl.current===e&&(Ae(Vt),Ae(Pl))}var _e=nr(0);function Ps(e){for(var r=e;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ca=[];function da(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var Ds=Y.ReactCurrentDispatcher,ua=Y.ReactCurrentBatchConfig,Cr=0,Be=null,We=null,Xe=null,Es=!1,El=!1,Rl=0,Uu=0;function lt(){throw Error(o(321))}function pa(e,r){if(r===null)return!1;for(var l=0;l<r.length&&l<e.length;l++)if(!Et(e[l],r[l]))return!1;return!0}function ma(e,r,l,s,n,i){if(Cr=i,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ds.current=e===null||e.memoizedState===null?Ku:Qu,e=l(s,n),El){i=0;do{if(El=!1,Rl=0,25<=i)throw Error(o(301));i+=1,Xe=We=null,r.updateQueue=null,Ds.current=$u,e=l(s,n)}while(El)}if(Ds.current=Ms,r=We!==null&&We.next!==null,Cr=0,Xe=We=Be=null,Es=!1,r)throw Error(o(300));return e}function xa(){var e=Rl!==0;return Rl=0,e}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Be.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function wt(){if(We===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var r=Xe===null?Be.memoizedState:Xe.next;if(r!==null)Xe=r,We=e;else{if(e===null)throw Error(o(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Xe===null?Be.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function Ll(e,r){return typeof r=="function"?r(e):r}function ha(e){var r=wt(),l=r.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var s=We,n=s.baseQueue,i=l.pending;if(i!==null){if(n!==null){var p=n.next;n.next=i.next,i.next=p}s.baseQueue=n=i,l.pending=null}if(n!==null){i=n.next,s=s.baseState;var h=p=null,b=null,L=i;do{var z=L.lane;if((Cr&z)===z)b!==null&&(b=b.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),s=L.hasEagerState?L.eagerState:e(s,L.action);else{var Q={lane:z,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};b===null?(h=b=Q,p=s):b=b.next=Q,Be.lanes|=z,Tr|=z}L=L.next}while(L!==null&&L!==i);b===null?p=s:b.next=h,Et(s,r.memoizedState)||(mt=!0),r.memoizedState=s,r.baseState=p,r.baseQueue=b,l.lastRenderedState=s}if(e=l.interleaved,e!==null){n=e;do i=n.lane,Be.lanes|=i,Tr|=i,n=n.next;while(n!==e)}else n===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function fa(e){var r=wt(),l=r.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,i=r.memoizedState;if(n!==null){l.pending=null;var p=n=n.next;do i=e(i,p.action),p=p.next;while(p!==n);Et(i,r.memoizedState)||(mt=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),l.lastRenderedState=i}return[i,s]}function Bo(){}function Vo(e,r){var l=Be,s=wt(),n=r(),i=!Et(s.memoizedState,n);if(i&&(s.memoizedState=n,mt=!0),s=s.queue,ga(Ho.bind(null,l,s,e),[e]),s.getSnapshot!==r||i||Xe!==null&&Xe.memoizedState.tag&1){if(l.flags|=2048,Ml(9,Go.bind(null,l,s,n,r),void 0,null),Ze===null)throw Error(o(349));(Cr&30)!==0||Uo(l,r,n)}return n}function Uo(e,r,l){e.flags|=16384,e={getSnapshot:r,value:l},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.stores=[e]):(l=r.stores,l===null?r.stores=[e]:l.push(e))}function Go(e,r,l,s){r.value=l,r.getSnapshot=s,zo(r)&&Ko(e)}function Ho(e,r,l){return l(function(){zo(r)&&Ko(e)})}function zo(e){var r=e.getSnapshot;e=e.value;try{var l=r();return!Et(e,l)}catch{return!0}}function Ko(e){var r=$t(e,1);r!==null&&It(r,e,1,-1)}function Qo(e){var r=Ut();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},r.queue=e,e=e.dispatch=zu.bind(null,Be,e),[r.memoizedState,e]}function Ml(e,r,l,s){return e={tag:e,create:r,destroy:l,deps:s,next:null},r=Be.updateQueue,r===null?(r={lastEffect:null,stores:null},Be.updateQueue=r,r.lastEffect=e.next=e):(l=r.lastEffect,l===null?r.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,r.lastEffect=e)),e}function $o(){return wt().memoizedState}function Rs(e,r,l,s){var n=Ut();Be.flags|=e,n.memoizedState=Ml(1|r,l,void 0,s===void 0?null:s)}function Ls(e,r,l,s){var n=wt();s=s===void 0?null:s;var i=void 0;if(We!==null){var p=We.memoizedState;if(i=p.destroy,s!==null&&pa(s,p.deps)){n.memoizedState=Ml(r,l,i,s);return}}Be.flags|=e,n.memoizedState=Ml(1|r,l,i,s)}function Wo(e,r){return Rs(8390656,8,e,r)}function ga(e,r){return Ls(2048,8,e,r)}function qo(e,r){return Ls(4,2,e,r)}function Yo(e,r){return Ls(4,4,e,r)}function Xo(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Zo(e,r,l){return l=l!=null?l.concat([e]):null,Ls(4,4,Xo.bind(null,r,e),l)}function ya(){}function Jo(e,r){var l=wt();r=r===void 0?null:r;var s=l.memoizedState;return s!==null&&r!==null&&pa(r,s[1])?s[0]:(l.memoizedState=[e,r],e)}function ec(e,r){var l=wt();r=r===void 0?null:r;var s=l.memoizedState;return s!==null&&r!==null&&pa(r,s[1])?s[0]:(e=e(),l.memoizedState=[e,r],e)}function tc(e,r,l){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,mt=!0),e.memoizedState=l):(Et(l,r)||(l=Ei(),Be.lanes|=l,Tr|=l,e.baseState=!0),r)}function Gu(e,r){var l=Ee;Ee=l!==0&&4>l?l:4,e(!0);var s=ua.transition;ua.transition={};try{e(!1),r()}finally{Ee=l,ua.transition=s}}function rc(){return wt().memoizedState}function Hu(e,r,l){var s=mr(e);if(l={lane:s,action:l,hasEagerState:!1,eagerState:null,next:null},lc(e))sc(r,l);else if(l=Ao(e,r,l,s),l!==null){var n=ot();It(l,e,s,n),nc(l,r,s)}}function zu(e,r,l){var s=mr(e),n={lane:s,action:l,hasEagerState:!1,eagerState:null,next:null};if(lc(e))sc(r,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var p=r.lastRenderedState,h=i(p,l);if(n.hasEagerState=!0,n.eagerState=h,Et(h,p)){var b=r.interleaved;b===null?(n.next=n,na(r)):(n.next=b.next,b.next=n),r.interleaved=n;return}}catch{}finally{}l=Ao(e,r,n,s),l!==null&&(n=ot(),It(l,e,s,n),nc(l,r,s))}}function lc(e){var r=e.alternate;return e===Be||r!==null&&r===Be}function sc(e,r){El=Es=!0;var l=e.pending;l===null?r.next=r:(r.next=l.next,l.next=r),e.pending=r}function nc(e,r,l){if((l&4194240)!==0){var s=r.lanes;s&=e.pendingLanes,l|=s,r.lanes=l,vn(e,l)}}var Ms={readContext:Tt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Ku={readContext:Tt,useCallback:function(e,r){return Ut().memoizedState=[e,r===void 0?null:r],e},useContext:Tt,useEffect:Wo,useImperativeHandle:function(e,r,l){return l=l!=null?l.concat([e]):null,Rs(4194308,4,Xo.bind(null,r,e),l)},useLayoutEffect:function(e,r){return Rs(4194308,4,e,r)},useInsertionEffect:function(e,r){return Rs(4,2,e,r)},useMemo:function(e,r){var l=Ut();return r=r===void 0?null:r,e=e(),l.memoizedState=[e,r],e},useReducer:function(e,r,l){var s=Ut();return r=l!==void 0?l(r):r,s.memoizedState=s.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Hu.bind(null,Be,e),[s.memoizedState,e]},useRef:function(e){var r=Ut();return e={current:e},r.memoizedState=e},useState:Qo,useDebugValue:ya,useDeferredValue:function(e){return Ut().memoizedState=e},useTransition:function(){var e=Qo(!1),r=e[0];return e=Gu.bind(null,e[1]),Ut().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,l){var s=Be,n=Ut();if(Oe){if(l===void 0)throw Error(o(407));l=l()}else{if(l=r(),Ze===null)throw Error(o(349));(Cr&30)!==0||Uo(s,r,l)}n.memoizedState=l;var i={value:l,getSnapshot:r};return n.queue=i,Wo(Ho.bind(null,s,i,e),[e]),s.flags|=2048,Ml(9,Go.bind(null,s,i,l,r),void 0,null),l},useId:function(){var e=Ut(),r=Ze.identifierPrefix;if(Oe){var l=Qt,s=Kt;l=(s&~(1<<32-Dt(s)-1)).toString(32)+l,r=":"+r+"R"+l,l=Rl++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=Uu++,r=":"+r+"r"+l.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Qu={readContext:Tt,useCallback:Jo,useContext:Tt,useEffect:ga,useImperativeHandle:Zo,useInsertionEffect:qo,useLayoutEffect:Yo,useMemo:ec,useReducer:ha,useRef:$o,useState:function(){return ha(Ll)},useDebugValue:ya,useDeferredValue:function(e){var r=wt();return tc(r,We.memoizedState,e)},useTransition:function(){var e=ha(Ll)[0],r=wt().memoizedState;return[e,r]},useMutableSource:Bo,useSyncExternalStore:Vo,useId:rc,unstable_isNewReconciler:!1},$u={readContext:Tt,useCallback:Jo,useContext:Tt,useEffect:ga,useImperativeHandle:Zo,useInsertionEffect:qo,useLayoutEffect:Yo,useMemo:ec,useReducer:fa,useRef:$o,useState:function(){return fa(Ll)},useDebugValue:ya,useDeferredValue:function(e){var r=wt();return We===null?r.memoizedState=e:tc(r,We.memoizedState,e)},useTransition:function(){var e=fa(Ll)[0],r=wt().memoizedState;return[e,r]},useMutableSource:Bo,useSyncExternalStore:Vo,useId:rc,unstable_isNewReconciler:!1};function Lt(e,r){if(e&&e.defaultProps){r=J({},r),e=e.defaultProps;for(var l in e)r[l]===void 0&&(r[l]=e[l]);return r}return r}function ba(e,r,l,s){r=e.memoizedState,l=l(s,r),l=l==null?r:J({},r,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var As={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,r,l){e=e._reactInternals;var s=ot(),n=mr(e),i=Wt(s,n);i.payload=r,l!=null&&(i.callback=l),r=cr(e,i,n),r!==null&&(It(r,e,n,s),ws(r,e,n))},enqueueReplaceState:function(e,r,l){e=e._reactInternals;var s=ot(),n=mr(e),i=Wt(s,n);i.tag=1,i.payload=r,l!=null&&(i.callback=l),r=cr(e,i,n),r!==null&&(It(r,e,n,s),ws(r,e,n))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var l=ot(),s=mr(e),n=Wt(l,s);n.tag=2,r!=null&&(n.callback=r),r=cr(e,n,s),r!==null&&(It(r,e,s,l),ws(r,e,s))}};function ac(e,r,l,s,n,i,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,p):r.prototype&&r.prototype.isPureReactComponent?!bl(l,s)||!bl(n,i):!0}function ic(e,r,l){var s=!1,n=ar,i=r.contextType;return typeof i=="object"&&i!==null?i=Tt(i):(n=pt(r)?br:rt.current,s=r.contextTypes,i=(s=s!=null)?Gr(e,n):ar),r=new r(l,i),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=As,e.stateNode=r,r._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=i),r}function oc(e,r,l,s){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,s),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,s),r.state!==e&&As.enqueueReplaceState(r,r.state,null)}function va(e,r,l,s){var n=e.stateNode;n.props=l,n.state=e.memoizedState,n.refs={},aa(e);var i=r.contextType;typeof i=="object"&&i!==null?n.context=Tt(i):(i=pt(r)?br:rt.current,n.context=Gr(e,i)),n.state=e.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(ba(e,r,i,l),n.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&As.enqueueReplaceState(n,n.state,null),ks(e,l,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Yr(e,r){try{var l="",s=r;do l+=ye(s),s=s.return;while(s);var n=l}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:r,stack:n,digest:null}}function Na(e,r,l){return{value:e,source:null,stack:l??null,digest:r??null}}function ja(e,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var Wu=typeof WeakMap=="function"?WeakMap:Map;function cc(e,r,l){l=Wt(-1,l),l.tag=3,l.payload={element:null};var s=r.value;return l.callback=function(){Us||(Us=!0,Oa=s),ja(e,r)},l}function dc(e,r,l){l=Wt(-1,l),l.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=r.value;l.payload=function(){return s(n)},l.callback=function(){ja(e,r)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(l.callback=function(){ja(e,r),typeof s!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var p=r.stack;this.componentDidCatch(r.value,{componentStack:p!==null?p:""})}),l}function uc(e,r,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Wu;var n=new Set;s.set(r,n)}else n=s.get(r),n===void 0&&(n=new Set,s.set(r,n));n.has(l)||(n.add(l),e=op.bind(null,e,r,l),r.then(e,e))}function pc(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function mc(e,r,l,s,n){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Wt(-1,1),r.tag=2,cr(l,r,1))),l.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}var qu=Y.ReactCurrentOwner,mt=!1;function it(e,r,l,s){r.child=e===null?Mo(r,null,l,s):Qr(r,e.child,l,s)}function xc(e,r,l,s,n){l=l.render;var i=r.ref;return Wr(r,n),s=ma(e,r,l,s,i,n),l=xa(),e!==null&&!mt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,qt(e,r,n)):(Oe&&l&&Yn(r),r.flags|=1,it(e,r,s,n),r.child)}function hc(e,r,l,s,n){if(e===null){var i=l.type;return typeof i=="function"&&!za(i)&&i.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=i,fc(e,r,i,s,n)):(e=$s(l.type,null,s,r,r.mode,n),e.ref=r.ref,e.return=r,r.child=e)}if(i=e.child,(e.lanes&n)===0){var p=i.memoizedProps;if(l=l.compare,l=l!==null?l:bl,l(p,s)&&e.ref===r.ref)return qt(e,r,n)}return r.flags|=1,e=hr(i,s),e.ref=r.ref,e.return=r,r.child=e}function fc(e,r,l,s,n){if(e!==null){var i=e.memoizedProps;if(bl(i,s)&&e.ref===r.ref)if(mt=!1,r.pendingProps=s=i,(e.lanes&n)!==0)(e.flags&131072)!==0&&(mt=!0);else return r.lanes=e.lanes,qt(e,r,n)}return Sa(e,r,l,s,n)}function gc(e,r,l){var s=r.pendingProps,n=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Zr,vt),vt|=l;else{if((l&1073741824)===0)return e=i!==null?i.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Le(Zr,vt),vt|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:l,Le(Zr,vt),vt|=s}else i!==null?(s=i.baseLanes|l,r.memoizedState=null):s=l,Le(Zr,vt),vt|=s;return it(e,r,n,l),r.child}function yc(e,r){var l=r.ref;(e===null&&l!==null||e!==null&&e.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function Sa(e,r,l,s,n){var i=pt(l)?br:rt.current;return i=Gr(r,i),Wr(r,n),l=ma(e,r,l,s,i,n),s=xa(),e!==null&&!mt?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~n,qt(e,r,n)):(Oe&&s&&Yn(r),r.flags|=1,it(e,r,l,n),r.child)}function bc(e,r,l,s,n){if(pt(l)){var i=!0;ys(r)}else i=!1;if(Wr(r,n),r.stateNode===null)Fs(e,r),ic(r,l,s),va(r,l,s,n),s=!0;else if(e===null){var p=r.stateNode,h=r.memoizedProps;p.props=h;var b=p.context,L=l.contextType;typeof L=="object"&&L!==null?L=Tt(L):(L=pt(l)?br:rt.current,L=Gr(r,L));var z=l.getDerivedStateFromProps,Q=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function";Q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(h!==s||b!==L)&&oc(r,p,s,L),or=!1;var H=r.memoizedState;p.state=H,ks(r,s,p,n),b=r.memoizedState,h!==s||H!==b||ut.current||or?(typeof z=="function"&&(ba(r,l,z,s),b=r.memoizedState),(h=or||ac(r,l,h,s,H,b,L))?(Q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=s,r.memoizedState=b),p.props=s,p.state=b,p.context=L,s=h):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),s=!1)}else{p=r.stateNode,Io(e,r),h=r.memoizedProps,L=r.type===r.elementType?h:Lt(r.type,h),p.props=L,Q=r.pendingProps,H=p.context,b=l.contextType,typeof b=="object"&&b!==null?b=Tt(b):(b=pt(l)?br:rt.current,b=Gr(r,b));var re=l.getDerivedStateFromProps;(z=typeof re=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(h!==Q||H!==b)&&oc(r,p,s,b),or=!1,H=r.memoizedState,p.state=H,ks(r,s,p,n);var ne=r.memoizedState;h!==Q||H!==ne||ut.current||or?(typeof re=="function"&&(ba(r,l,re,s),ne=r.memoizedState),(L=or||ac(r,l,L,s,H,ne,b)||!1)?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,ne,b),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,ne,b)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||h===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),r.memoizedProps=s,r.memoizedState=ne),p.props=s,p.state=ne,p.context=b,s=L):(typeof p.componentDidUpdate!="function"||h===e.memoizedProps&&H===e.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&H===e.memoizedState||(r.flags|=1024),s=!1)}return Ca(e,r,l,s,i,n)}function Ca(e,r,l,s,n,i){yc(e,r);var p=(r.flags&128)!==0;if(!s&&!p)return n&&Co(r,l,!1),qt(e,r,i);s=r.stateNode,qu.current=r;var h=p&&typeof l.getDerivedStateFromError!="function"?null:s.render();return r.flags|=1,e!==null&&p?(r.child=Qr(r,e.child,null,i),r.child=Qr(r,null,h,i)):it(e,r,h,i),r.memoizedState=s.state,n&&Co(r,l,!0),r.child}function vc(e){var r=e.stateNode;r.pendingContext?jo(e,r.pendingContext,r.pendingContext!==r.context):r.context&&jo(e,r.context,!1),ia(e,r.containerInfo)}function Nc(e,r,l,s,n){return Kr(),ea(n),r.flags|=256,it(e,r,l,s),r.child}var Ta={dehydrated:null,treeContext:null,retryLane:0};function wa(e){return{baseLanes:e,cachePool:null,transitions:null}}function jc(e,r,l){var s=r.pendingProps,n=_e.current,i=!1,p=(r.flags&128)!==0,h;if((h=p)||(h=e!==null&&e.memoizedState===null?!1:(n&2)!==0),h?(i=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Le(_e,n&1),e===null)return Jn(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(p=s.children,e=s.fallback,i?(s=r.mode,i=r.child,p={mode:"hidden",children:p},(s&1)===0&&i!==null?(i.childLanes=0,i.pendingProps=p):i=Ws(p,s,0,null),e=Dr(e,s,l,null),i.return=r,e.return=r,i.sibling=e,r.child=i,r.child.memoizedState=wa(l),r.memoizedState=Ta,e):ka(r,p));if(n=e.memoizedState,n!==null&&(h=n.dehydrated,h!==null))return Yu(e,r,p,s,h,n,l);if(i){i=s.fallback,p=r.mode,n=e.child,h=n.sibling;var b={mode:"hidden",children:s.children};return(p&1)===0&&r.child!==n?(s=r.child,s.childLanes=0,s.pendingProps=b,r.deletions=null):(s=hr(n,b),s.subtreeFlags=n.subtreeFlags&14680064),h!==null?i=hr(h,i):(i=Dr(i,p,l,null),i.flags|=2),i.return=r,s.return=r,s.sibling=i,r.child=s,s=i,i=r.child,p=e.child.memoizedState,p=p===null?wa(l):{baseLanes:p.baseLanes|l,cachePool:null,transitions:p.transitions},i.memoizedState=p,i.childLanes=e.childLanes&~l,r.memoizedState=Ta,s}return i=e.child,e=i.sibling,s=hr(i,{mode:"visible",children:s.children}),(r.mode&1)===0&&(s.lanes=l),s.return=r,s.sibling=null,e!==null&&(l=r.deletions,l===null?(r.deletions=[e],r.flags|=16):l.push(e)),r.child=s,r.memoizedState=null,s}function ka(e,r){return r=Ws({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Is(e,r,l,s){return s!==null&&ea(s),Qr(r,e.child,null,l),e=ka(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Yu(e,r,l,s,n,i,p){if(l)return r.flags&256?(r.flags&=-257,s=Na(Error(o(422))),Is(e,r,p,s)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(i=s.fallback,n=r.mode,s=Ws({mode:"visible",children:s.children},n,0,null),i=Dr(i,n,p,null),i.flags|=2,s.return=r,i.return=r,s.sibling=i,r.child=s,(r.mode&1)!==0&&Qr(r,e.child,null,p),r.child.memoizedState=wa(p),r.memoizedState=Ta,i);if((r.mode&1)===0)return Is(e,r,p,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var h=s.dgst;return s=h,i=Error(o(419)),s=Na(i,s,void 0),Is(e,r,p,s)}if(h=(p&e.childLanes)!==0,mt||h){if(s=Ze,s!==null){switch(p&-p){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=(n&(s.suspendedLanes|p))!==0?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,$t(e,n),It(s,e,n,-1))}return Ha(),s=Na(Error(o(421))),Is(e,r,p,s)}return n.data==="$?"?(r.flags|=128,r.child=e.child,r=cp.bind(null,e),n._reactRetry=r,null):(e=i.treeContext,bt=sr(n.nextSibling),yt=r,Oe=!0,Rt=null,e!==null&&(St[Ct++]=Kt,St[Ct++]=Qt,St[Ct++]=vr,Kt=e.id,Qt=e.overflow,vr=r),r=ka(r,s.children),r.flags|=4096,r)}function Sc(e,r,l){e.lanes|=r;var s=e.alternate;s!==null&&(s.lanes|=r),sa(e.return,r,l)}function Pa(e,r,l,s,n){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=l,i.tailMode=n)}function Cc(e,r,l){var s=r.pendingProps,n=s.revealOrder,i=s.tail;if(it(e,r,s.children,l),s=_e.current,(s&2)!==0)s=s&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sc(e,l,r);else if(e.tag===19)Sc(e,l,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Le(_e,s),(r.mode&1)===0)r.memoizedState=null;else switch(n){case"forwards":for(l=r.child,n=null;l!==null;)e=l.alternate,e!==null&&Ps(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=r.child,r.child=null):(n=l.sibling,l.sibling=null),Pa(r,!1,n,l,i);break;case"backwards":for(l=null,n=r.child,r.child=null;n!==null;){if(e=n.alternate,e!==null&&Ps(e)===null){r.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Pa(r,!0,l,null,i);break;case"together":Pa(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fs(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function qt(e,r,l){if(e!==null&&(r.dependencies=e.dependencies),Tr|=r.lanes,(l&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(o(153));if(r.child!==null){for(e=r.child,l=hr(e,e.pendingProps),r.child=l,l.return=r;e.sibling!==null;)e=e.sibling,l=l.sibling=hr(e,e.pendingProps),l.return=r;l.sibling=null}return r.child}function Xu(e,r,l){switch(r.tag){case 3:vc(r),Kr();break;case 5:_o(r);break;case 1:pt(r.type)&&ys(r);break;case 4:ia(r,r.stateNode.containerInfo);break;case 10:var s=r.type._context,n=r.memoizedProps.value;Le(Cs,s._currentValue),s._currentValue=n;break;case 13:if(s=r.memoizedState,s!==null)return s.dehydrated!==null?(Le(_e,_e.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?jc(e,r,l):(Le(_e,_e.current&1),e=qt(e,r,l),e!==null?e.sibling:null);Le(_e,_e.current&1);break;case 19:if(s=(l&r.childLanes)!==0,(e.flags&128)!==0){if(s)return Cc(e,r,l);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Le(_e,_e.current),s)break;return null;case 22:case 23:return r.lanes=0,gc(e,r,l)}return qt(e,r,l)}var Tc,Da,wc,kc;Tc=function(e,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)e.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Da=function(){},wc=function(e,r,l,s){var n=e.memoizedProps;if(n!==s){e=r.stateNode,Sr(Vt.current);var i=null;switch(l){case"input":n=dt(e,n),s=dt(e,s),i=[];break;case"select":n=J({},n,{value:void 0}),s=J({},s,{value:void 0}),i=[];break;case"textarea":n=Er(e,n),s=Er(e,s),i=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=hs)}cn(l,s);var p;l=null;for(L in n)if(!s.hasOwnProperty(L)&&n.hasOwnProperty(L)&&n[L]!=null)if(L==="style"){var h=n[L];for(p in h)h.hasOwnProperty(p)&&(l||(l={}),l[p]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(f.hasOwnProperty(L)?i||(i=[]):(i=i||[]).push(L,null));for(L in s){var b=s[L];if(h=n!=null?n[L]:void 0,s.hasOwnProperty(L)&&b!==h&&(b!=null||h!=null))if(L==="style")if(h){for(p in h)!h.hasOwnProperty(p)||b&&b.hasOwnProperty(p)||(l||(l={}),l[p]="");for(p in b)b.hasOwnProperty(p)&&h[p]!==b[p]&&(l||(l={}),l[p]=b[p])}else l||(i||(i=[]),i.push(L,l)),l=b;else L==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,h=h?h.__html:void 0,b!=null&&h!==b&&(i=i||[]).push(L,b)):L==="children"?typeof b!="string"&&typeof b!="number"||(i=i||[]).push(L,""+b):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(f.hasOwnProperty(L)?(b!=null&&L==="onScroll"&&Me("scroll",e),i||h===b||(i=[])):(i=i||[]).push(L,b))}l&&(i=i||[]).push("style",l);var L=i;(r.updateQueue=L)&&(r.flags|=4)}},kc=function(e,r,l,s){l!==s&&(r.flags|=4)};function Al(e,r){if(!Oe)switch(e.tailMode){case"hidden":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function st(e){var r=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(r)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,r}function Zu(e,r,l){var s=r.pendingProps;switch(Xn(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(r),null;case 1:return pt(r.type)&&gs(),st(r),null;case 3:return s=r.stateNode,qr(),Ae(ut),Ae(rt),da(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(js(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Rt!==null&&(Va(Rt),Rt=null))),Da(e,r),st(r),null;case 5:oa(r);var n=Sr(Dl.current);if(l=r.type,e!==null&&r.stateNode!=null)wc(e,r,l,s,n),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!s){if(r.stateNode===null)throw Error(o(166));return st(r),null}if(e=Sr(Vt.current),js(r)){s=r.stateNode,l=r.type;var i=r.memoizedProps;switch(s[Bt]=r,s[Cl]=i,e=(r.mode&1)!==0,l){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(n=0;n<Nl.length;n++)Me(Nl[n],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":m(s,i),Me("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Me("invalid",s);break;case"textarea":jt(s,i),Me("invalid",s)}cn(l,i),n=null;for(var p in i)if(i.hasOwnProperty(p)){var h=i[p];p==="children"?typeof h=="string"?s.textContent!==h&&(i.suppressHydrationWarning!==!0&&xs(s.textContent,h,e),n=["children",h]):typeof h=="number"&&s.textContent!==""+h&&(i.suppressHydrationWarning!==!0&&xs(s.textContent,h,e),n=["children",""+h]):f.hasOwnProperty(p)&&h!=null&&p==="onScroll"&&Me("scroll",s)}switch(l){case"input":we(s),Ve(s,i,!0);break;case"textarea":we(s),ui(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=hs)}s=n,r.updateQueue=s,s!==null&&(r.flags|=4)}else{p=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pi(l)),e==="http://www.w3.org/1999/xhtml"?l==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=p.createElement(l,{is:s.is}):(e=p.createElement(l),l==="select"&&(p=e,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):e=p.createElementNS(e,l),e[Bt]=r,e[Cl]=s,Tc(e,r,!1,!1),r.stateNode=e;e:{switch(p=dn(l,s),l){case"dialog":Me("cancel",e),Me("close",e),n=s;break;case"iframe":case"object":case"embed":Me("load",e),n=s;break;case"video":case"audio":for(n=0;n<Nl.length;n++)Me(Nl[n],e);n=s;break;case"source":Me("error",e),n=s;break;case"img":case"image":case"link":Me("error",e),Me("load",e),n=s;break;case"details":Me("toggle",e),n=s;break;case"input":m(e,s),n=dt(e,s),Me("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=J({},s,{value:void 0}),Me("invalid",e);break;case"textarea":jt(e,s),n=Er(e,s),Me("invalid",e);break;default:n=s}cn(l,n),h=n;for(i in h)if(h.hasOwnProperty(i)){var b=h[i];i==="style"?hi(e,b):i==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&mi(e,b)):i==="children"?typeof b=="string"?(l!=="textarea"||b!=="")&&rl(e,b):typeof b=="number"&&rl(e,""+b):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(f.hasOwnProperty(i)?b!=null&&i==="onScroll"&&Me("scroll",e):b!=null&&q(e,i,b,p))}switch(l){case"input":we(e),Ve(e,s,!1);break;case"textarea":we(e),ui(e);break;case"option":s.value!=null&&e.setAttribute("value",""+ve(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?$e(e,!!s.multiple,i,!1):s.defaultValue!=null&&$e(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=hs)}switch(l){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return st(r),null;case 6:if(e&&r.stateNode!=null)kc(e,r,e.memoizedProps,s);else{if(typeof s!="string"&&r.stateNode===null)throw Error(o(166));if(l=Sr(Dl.current),Sr(Vt.current),js(r)){if(s=r.stateNode,l=r.memoizedProps,s[Bt]=r,(i=s.nodeValue!==l)&&(e=yt,e!==null))switch(e.tag){case 3:xs(s.nodeValue,l,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xs(s.nodeValue,l,(e.mode&1)!==0)}i&&(r.flags|=4)}else s=(l.nodeType===9?l:l.ownerDocument).createTextNode(s),s[Bt]=r,r.stateNode=s}return st(r),null;case 13:if(Ae(_e),s=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&bt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Eo(),Kr(),r.flags|=98560,i=!1;else if(i=js(r),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(o(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));i[Bt]=r}else Kr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;st(r),i=!1}else Rt!==null&&(Va(Rt),Rt=null),i=!0;if(!i)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(_e.current&1)!==0?qe===0&&(qe=3):Ha())),r.updateQueue!==null&&(r.flags|=4),st(r),null);case 4:return qr(),Da(e,r),e===null&&jl(r.stateNode.containerInfo),st(r),null;case 10:return la(r.type._context),st(r),null;case 17:return pt(r.type)&&gs(),st(r),null;case 19:if(Ae(_e),i=r.memoizedState,i===null)return st(r),null;if(s=(r.flags&128)!==0,p=i.rendering,p===null)if(s)Al(i,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(p=Ps(e),p!==null){for(r.flags|=128,Al(i,!1),s=p.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),r.subtreeFlags=0,s=l,l=r.child;l!==null;)i=l,e=s,i.flags&=14680066,p=i.alternate,p===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=p.childLanes,i.lanes=p.lanes,i.child=p.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=p.memoizedProps,i.memoizedState=p.memoizedState,i.updateQueue=p.updateQueue,i.type=p.type,e=p.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),l=l.sibling;return Le(_e,_e.current&1|2),r.child}e=e.sibling}i.tail!==null&&ze()>Jr&&(r.flags|=128,s=!0,Al(i,!1),r.lanes=4194304)}else{if(!s)if(e=Ps(p),e!==null){if(r.flags|=128,s=!0,l=e.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!p.alternate&&!Oe)return st(r),null}else 2*ze()-i.renderingStartTime>Jr&&l!==1073741824&&(r.flags|=128,s=!0,Al(i,!1),r.lanes=4194304);i.isBackwards?(p.sibling=r.child,r.child=p):(l=i.last,l!==null?l.sibling=p:r.child=p,i.last=p)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=ze(),r.sibling=null,l=_e.current,Le(_e,s?l&1|2:l&1),r):(st(r),null);case 22:case 23:return Ga(),s=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(r.flags|=8192),s&&(r.mode&1)!==0?(vt&1073741824)!==0&&(st(r),r.subtreeFlags&6&&(r.flags|=8192)):st(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function Ju(e,r){switch(Xn(r),r.tag){case 1:return pt(r.type)&&gs(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return qr(),Ae(ut),Ae(rt),da(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return oa(r),null;case 13:if(Ae(_e),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(o(340));Kr()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Ae(_e),null;case 4:return qr(),null;case 10:return la(r.type._context),null;case 22:case 23:return Ga(),null;case 24:return null;default:return null}}var Os=!1,nt=!1,ep=typeof WeakSet=="function"?WeakSet:Set,le=null;function Xr(e,r){var l=e.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(s){He(e,r,s)}else l.current=null}function Ea(e,r,l){try{l()}catch(s){He(e,r,s)}}var Pc=!1;function tp(e,r){if(Gn=ls,e=no(),An(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var p=0,h=-1,b=-1,L=0,z=0,Q=e,H=null;t:for(;;){for(var re;Q!==l||n!==0&&Q.nodeType!==3||(h=p+n),Q!==i||s!==0&&Q.nodeType!==3||(b=p+s),Q.nodeType===3&&(p+=Q.nodeValue.length),(re=Q.firstChild)!==null;)H=Q,Q=re;for(;;){if(Q===e)break t;if(H===l&&++L===n&&(h=p),H===i&&++z===s&&(b=p),(re=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=re}l=h===-1||b===-1?null:{start:h,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hn={focusedElem:e,selectionRange:l},ls=!1,le=r;le!==null;)if(r=le,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,le=e;else for(;le!==null;){r=le;try{var ne=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var ae=ne.memoizedProps,Ke=ne.memoizedState,P=r.stateNode,S=P.getSnapshotBeforeUpdate(r.elementType===r.type?ae:Lt(r.type,ae),Ke);P.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var D=r.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){He(r,r.return,Z)}if(e=r.sibling,e!==null){e.return=r.return,le=e;break}le=r.return}return ne=Pc,Pc=!1,ne}function Il(e,r,l){var s=r.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,i!==void 0&&Ea(r,l,i)}n=n.next}while(n!==s)}}function _s(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&e)===e){var s=l.create;l.destroy=s()}l=l.next}while(l!==r)}}function Ra(e){var r=e.ref;if(r!==null){var l=e.stateNode;switch(e.tag){case 5:e=l;break;default:e=l}typeof r=="function"?r(e):r.current=e}}function Dc(e){var r=e.alternate;r!==null&&(e.alternate=null,Dc(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Bt],delete r[Cl],delete r[$n],delete r[Ou],delete r[_u])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ec(e){return e.tag===5||e.tag===3||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ec(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function La(e,r,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(e,r):l.insertBefore(e,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(e,l)):(r=l,r.appendChild(e)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=hs));else if(s!==4&&(e=e.child,e!==null))for(La(e,r,l),e=e.sibling;e!==null;)La(e,r,l),e=e.sibling}function Ma(e,r,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,r?l.insertBefore(e,r):l.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ma(e,r,l),e=e.sibling;e!==null;)Ma(e,r,l),e=e.sibling}var et=null,Mt=!1;function dr(e,r,l){for(l=l.child;l!==null;)Lc(e,r,l),l=l.sibling}function Lc(e,r,l){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Xl,l)}catch{}switch(l.tag){case 5:nt||Xr(l,r);case 6:var s=et,n=Mt;et=null,dr(e,r,l),et=s,Mt=n,et!==null&&(Mt?(e=et,l=l.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)):et.removeChild(l.stateNode));break;case 18:et!==null&&(Mt?(e=et,l=l.stateNode,e.nodeType===8?Qn(e.parentNode,l):e.nodeType===1&&Qn(e,l),ml(e)):Qn(et,l.stateNode));break;case 4:s=et,n=Mt,et=l.stateNode.containerInfo,Mt=!0,dr(e,r,l),et=s,Mt=n;break;case 0:case 11:case 14:case 15:if(!nt&&(s=l.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var i=n,p=i.destroy;i=i.tag,p!==void 0&&((i&2)!==0||(i&4)!==0)&&Ea(l,r,p),n=n.next}while(n!==s)}dr(e,r,l);break;case 1:if(!nt&&(Xr(l,r),s=l.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=l.memoizedProps,s.state=l.memoizedState,s.componentWillUnmount()}catch(h){He(l,r,h)}dr(e,r,l);break;case 21:dr(e,r,l);break;case 22:l.mode&1?(nt=(s=nt)||l.memoizedState!==null,dr(e,r,l),nt=s):dr(e,r,l);break;default:dr(e,r,l)}}function Mc(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var l=e.stateNode;l===null&&(l=e.stateNode=new ep),r.forEach(function(s){var n=dp.bind(null,e,s);l.has(s)||(l.add(s),s.then(n,n))})}}function At(e,r){var l=r.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s];try{var i=e,p=r,h=p;e:for(;h!==null;){switch(h.tag){case 5:et=h.stateNode,Mt=!1;break e;case 3:et=h.stateNode.containerInfo,Mt=!0;break e;case 4:et=h.stateNode.containerInfo,Mt=!0;break e}h=h.return}if(et===null)throw Error(o(160));Lc(i,p,n),et=null,Mt=!1;var b=n.alternate;b!==null&&(b.return=null),n.return=null}catch(L){He(n,r,L)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Ac(r,e),r=r.sibling}function Ac(e,r){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(r,e),Gt(e),s&4){try{Il(3,e,e.return),_s(3,e)}catch(ae){He(e,e.return,ae)}try{Il(5,e,e.return)}catch(ae){He(e,e.return,ae)}}break;case 1:At(r,e),Gt(e),s&512&&l!==null&&Xr(l,l.return);break;case 5:if(At(r,e),Gt(e),s&512&&l!==null&&Xr(l,l.return),e.flags&32){var n=e.stateNode;try{rl(n,"")}catch(ae){He(e,e.return,ae)}}if(s&4&&(n=e.stateNode,n!=null)){var i=e.memoizedProps,p=l!==null?l.memoizedProps:i,h=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{h==="input"&&i.type==="radio"&&i.name!=null&&I(n,i),dn(h,p);var L=dn(h,i);for(p=0;p<b.length;p+=2){var z=b[p],Q=b[p+1];z==="style"?hi(n,Q):z==="dangerouslySetInnerHTML"?mi(n,Q):z==="children"?rl(n,Q):q(n,z,Q,L)}switch(h){case"input":pe(n,i);break;case"textarea":di(n,i);break;case"select":var H=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var re=i.value;re!=null?$e(n,!!i.multiple,re,!1):H!==!!i.multiple&&(i.defaultValue!=null?$e(n,!!i.multiple,i.defaultValue,!0):$e(n,!!i.multiple,i.multiple?[]:"",!1))}n[Cl]=i}catch(ae){He(e,e.return,ae)}}break;case 6:if(At(r,e),Gt(e),s&4){if(e.stateNode===null)throw Error(o(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(ae){He(e,e.return,ae)}}break;case 3:if(At(r,e),Gt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{ml(r.containerInfo)}catch(ae){He(e,e.return,ae)}break;case 4:At(r,e),Gt(e);break;case 13:At(r,e),Gt(e),n=e.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Fa=ze())),s&4&&Mc(e);break;case 22:if(z=l!==null&&l.memoizedState!==null,e.mode&1?(nt=(L=nt)||z,At(r,e),nt=L):At(r,e),Gt(e),s&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!z&&(e.mode&1)!==0)for(le=e,z=e.child;z!==null;){for(Q=le=z;le!==null;){switch(H=le,re=H.child,H.tag){case 0:case 11:case 14:case 15:Il(4,H,H.return);break;case 1:Xr(H,H.return);var ne=H.stateNode;if(typeof ne.componentWillUnmount=="function"){s=H,l=H.return;try{r=s,ne.props=r.memoizedProps,ne.state=r.memoizedState,ne.componentWillUnmount()}catch(ae){He(s,l,ae)}}break;case 5:Xr(H,H.return);break;case 22:if(H.memoizedState!==null){Oc(Q);continue}}re!==null?(re.return=H,le=re):Oc(Q)}z=z.sibling}e:for(z=null,Q=e;;){if(Q.tag===5){if(z===null){z=Q;try{n=Q.stateNode,L?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(h=Q.stateNode,b=Q.memoizedProps.style,p=b!=null&&b.hasOwnProperty("display")?b.display:null,h.style.display=xi("display",p))}catch(ae){He(e,e.return,ae)}}}else if(Q.tag===6){if(z===null)try{Q.stateNode.nodeValue=L?"":Q.memoizedProps}catch(ae){He(e,e.return,ae)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;z===Q&&(z=null),Q=Q.return}z===Q&&(z=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:At(r,e),Gt(e),s&4&&Mc(e);break;case 21:break;default:At(r,e),Gt(e)}}function Gt(e){var r=e.flags;if(r&2){try{e:{for(var l=e.return;l!==null;){if(Ec(l)){var s=l;break e}l=l.return}throw Error(o(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(rl(n,""),s.flags&=-33);var i=Rc(e);Ma(e,i,n);break;case 3:case 4:var p=s.stateNode.containerInfo,h=Rc(e);La(e,h,p);break;default:throw Error(o(161))}}catch(b){He(e,e.return,b)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function rp(e,r,l){le=e,Ic(e)}function Ic(e,r,l){for(var s=(e.mode&1)!==0;le!==null;){var n=le,i=n.child;if(n.tag===22&&s){var p=n.memoizedState!==null||Os;if(!p){var h=n.alternate,b=h!==null&&h.memoizedState!==null||nt;h=Os;var L=nt;if(Os=p,(nt=b)&&!L)for(le=n;le!==null;)p=le,b=p.child,p.tag===22&&p.memoizedState!==null?_c(n):b!==null?(b.return=p,le=b):_c(n);for(;i!==null;)le=i,Ic(i),i=i.sibling;le=n,Os=h,nt=L}Fc(e)}else(n.subtreeFlags&8772)!==0&&i!==null?(i.return=n,le=i):Fc(e)}}function Fc(e){for(;le!==null;){var r=le;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:nt||_s(5,r);break;case 1:var s=r.stateNode;if(r.flags&4&&!nt)if(l===null)s.componentDidMount();else{var n=r.elementType===r.type?l.memoizedProps:Lt(r.type,l.memoizedProps);s.componentDidUpdate(n,l.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&Oo(r,i,s);break;case 3:var p=r.updateQueue;if(p!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}Oo(r,p,l)}break;case 5:var h=r.stateNode;if(l===null&&r.flags&4){l=h;var b=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&l.focus();break;case"img":b.src&&(l.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var L=r.alternate;if(L!==null){var z=L.memoizedState;if(z!==null){var Q=z.dehydrated;Q!==null&&ml(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}nt||r.flags&512&&Ra(r)}catch(H){He(r,r.return,H)}}if(r===e){le=null;break}if(l=r.sibling,l!==null){l.return=r.return,le=l;break}le=r.return}}function Oc(e){for(;le!==null;){var r=le;if(r===e){le=null;break}var l=r.sibling;if(l!==null){l.return=r.return,le=l;break}le=r.return}}function _c(e){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{_s(4,r)}catch(b){He(r,l,b)}break;case 1:var s=r.stateNode;if(typeof s.componentDidMount=="function"){var n=r.return;try{s.componentDidMount()}catch(b){He(r,n,b)}}var i=r.return;try{Ra(r)}catch(b){He(r,i,b)}break;case 5:var p=r.return;try{Ra(r)}catch(b){He(r,p,b)}}}catch(b){He(r,r.return,b)}if(r===e){le=null;break}var h=r.sibling;if(h!==null){h.return=r.return,le=h;break}le=r.return}}var lp=Math.ceil,Bs=Y.ReactCurrentDispatcher,Aa=Y.ReactCurrentOwner,kt=Y.ReactCurrentBatchConfig,ke=0,Ze=null,Qe=null,tt=0,vt=0,Zr=nr(0),qe=0,Fl=null,Tr=0,Vs=0,Ia=0,Ol=null,xt=null,Fa=0,Jr=1/0,Yt=null,Us=!1,Oa=null,ur=null,Gs=!1,pr=null,Hs=0,_l=0,_a=null,zs=-1,Ks=0;function ot(){return(ke&6)!==0?ze():zs!==-1?zs:zs=ze()}function mr(e){return(e.mode&1)===0?1:(ke&2)!==0&&tt!==0?tt&-tt:Vu.transition!==null?(Ks===0&&(Ks=Ei()),Ks):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Bi(e.type)),e)}function It(e,r,l,s){if(50<_l)throw _l=0,_a=null,Error(o(185));ol(e,l,s),((ke&2)===0||e!==Ze)&&(e===Ze&&((ke&2)===0&&(Vs|=l),qe===4&&xr(e,tt)),ht(e,s),l===1&&ke===0&&(r.mode&1)===0&&(Jr=ze()+500,bs&&ir()))}function ht(e,r){var l=e.callbackNode;Vd(e,r);var s=es(e,e===Ze?tt:0);if(s===0)l!==null&&ki(l),e.callbackNode=null,e.callbackPriority=0;else if(r=s&-s,e.callbackPriority!==r){if(l!=null&&ki(l),r===1)e.tag===0?Bu(Vc.bind(null,e)):To(Vc.bind(null,e)),Iu(function(){(ke&6)===0&&ir()}),l=null;else{switch(Ri(s)){case 1:l=gn;break;case 4:l=Pi;break;case 16:l=Yl;break;case 536870912:l=Di;break;default:l=Yl}l=Wc(l,Bc.bind(null,e))}e.callbackPriority=r,e.callbackNode=l}}function Bc(e,r){if(zs=-1,Ks=0,(ke&6)!==0)throw Error(o(327));var l=e.callbackNode;if(el()&&e.callbackNode!==l)return null;var s=es(e,e===Ze?tt:0);if(s===0)return null;if((s&30)!==0||(s&e.expiredLanes)!==0||r)r=Qs(e,s);else{r=s;var n=ke;ke|=2;var i=Gc();(Ze!==e||tt!==r)&&(Yt=null,Jr=ze()+500,kr(e,r));do try{ap();break}catch(h){Uc(e,h)}while(!0);ra(),Bs.current=i,ke=n,Qe!==null?r=0:(Ze=null,tt=0,r=qe)}if(r!==0){if(r===2&&(n=yn(e),n!==0&&(s=n,r=Ba(e,n))),r===1)throw l=Fl,kr(e,0),xr(e,s),ht(e,ze()),l;if(r===6)xr(e,s);else{if(n=e.current.alternate,(s&30)===0&&!sp(n)&&(r=Qs(e,s),r===2&&(i=yn(e),i!==0&&(s=i,r=Ba(e,i))),r===1))throw l=Fl,kr(e,0),xr(e,s),ht(e,ze()),l;switch(e.finishedWork=n,e.finishedLanes=s,r){case 0:case 1:throw Error(o(345));case 2:Pr(e,xt,Yt);break;case 3:if(xr(e,s),(s&130023424)===s&&(r=Fa+500-ze(),10<r)){if(es(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){ot(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Kn(Pr.bind(null,e,xt,Yt),r);break}Pr(e,xt,Yt);break;case 4:if(xr(e,s),(s&4194240)===s)break;for(r=e.eventTimes,n=-1;0<s;){var p=31-Dt(s);i=1<<p,p=r[p],p>n&&(n=p),s&=~i}if(s=n,s=ze()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*lp(s/1960))-s,10<s){e.timeoutHandle=Kn(Pr.bind(null,e,xt,Yt),s);break}Pr(e,xt,Yt);break;case 5:Pr(e,xt,Yt);break;default:throw Error(o(329))}}}return ht(e,ze()),e.callbackNode===l?Bc.bind(null,e):null}function Ba(e,r){var l=Ol;return e.current.memoizedState.isDehydrated&&(kr(e,r).flags|=256),e=Qs(e,r),e!==2&&(r=xt,xt=l,r!==null&&Va(r)),e}function Va(e){xt===null?xt=e:xt.push.apply(xt,e)}function sp(e){for(var r=e;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var s=0;s<l.length;s++){var n=l[s],i=n.getSnapshot;n=n.value;try{if(!Et(i(),n))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xr(e,r){for(r&=~Ia,r&=~Vs,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var l=31-Dt(r),s=1<<l;e[l]=-1,r&=~s}}function Vc(e){if((ke&6)!==0)throw Error(o(327));el();var r=es(e,0);if((r&1)===0)return ht(e,ze()),null;var l=Qs(e,r);if(e.tag!==0&&l===2){var s=yn(e);s!==0&&(r=s,l=Ba(e,s))}if(l===1)throw l=Fl,kr(e,0),xr(e,r),ht(e,ze()),l;if(l===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Pr(e,xt,Yt),ht(e,ze()),null}function Ua(e,r){var l=ke;ke|=1;try{return e(r)}finally{ke=l,ke===0&&(Jr=ze()+500,bs&&ir())}}function wr(e){pr!==null&&pr.tag===0&&(ke&6)===0&&el();var r=ke;ke|=1;var l=kt.transition,s=Ee;try{if(kt.transition=null,Ee=1,e)return e()}finally{Ee=s,kt.transition=l,ke=r,(ke&6)===0&&ir()}}function Ga(){vt=Zr.current,Ae(Zr)}function kr(e,r){e.finishedWork=null,e.finishedLanes=0;var l=e.timeoutHandle;if(l!==-1&&(e.timeoutHandle=-1,Au(l)),Qe!==null)for(l=Qe.return;l!==null;){var s=l;switch(Xn(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&gs();break;case 3:qr(),Ae(ut),Ae(rt),da();break;case 5:oa(s);break;case 4:qr();break;case 13:Ae(_e);break;case 19:Ae(_e);break;case 10:la(s.type._context);break;case 22:case 23:Ga()}l=l.return}if(Ze=e,Qe=e=hr(e.current,null),tt=vt=r,qe=0,Fl=null,Ia=Vs=Tr=0,xt=Ol=null,jr!==null){for(r=0;r<jr.length;r++)if(l=jr[r],s=l.interleaved,s!==null){l.interleaved=null;var n=s.next,i=l.pending;if(i!==null){var p=i.next;i.next=n,s.next=p}l.pending=s}jr=null}return e}function Uc(e,r){do{var l=Qe;try{if(ra(),Ds.current=Ms,Es){for(var s=Be.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Es=!1}if(Cr=0,Xe=We=Be=null,El=!1,Rl=0,Aa.current=null,l===null||l.return===null){qe=1,Fl=r,Qe=null;break}e:{var i=e,p=l.return,h=l,b=r;if(r=tt,h.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=b,z=h,Q=z.tag;if((z.mode&1)===0&&(Q===0||Q===11||Q===15)){var H=z.alternate;H?(z.updateQueue=H.updateQueue,z.memoizedState=H.memoizedState,z.lanes=H.lanes):(z.updateQueue=null,z.memoizedState=null)}var re=pc(p);if(re!==null){re.flags&=-257,mc(re,p,h,i,r),re.mode&1&&uc(i,L,r),r=re,b=L;var ne=r.updateQueue;if(ne===null){var ae=new Set;ae.add(b),r.updateQueue=ae}else ne.add(b);break e}else{if((r&1)===0){uc(i,L,r),Ha();break e}b=Error(o(426))}}else if(Oe&&h.mode&1){var Ke=pc(p);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),mc(Ke,p,h,i,r),ea(Yr(b,h));break e}}i=b=Yr(b,h),qe!==4&&(qe=2),Ol===null?Ol=[i]:Ol.push(i),i=p;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var P=cc(i,b,r);Fo(i,P);break e;case 1:h=b;var S=i.type,D=i.stateNode;if((i.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(ur===null||!ur.has(D)))){i.flags|=65536,r&=-r,i.lanes|=r;var Z=dc(i,h,r);Fo(i,Z);break e}}i=i.return}while(i!==null)}zc(l)}catch(ie){r=ie,Qe===l&&l!==null&&(Qe=l=l.return);continue}break}while(!0)}function Gc(){var e=Bs.current;return Bs.current=Ms,e===null?Ms:e}function Ha(){(qe===0||qe===3||qe===2)&&(qe=4),Ze===null||(Tr&268435455)===0&&(Vs&268435455)===0||xr(Ze,tt)}function Qs(e,r){var l=ke;ke|=2;var s=Gc();(Ze!==e||tt!==r)&&(Yt=null,kr(e,r));do try{np();break}catch(n){Uc(e,n)}while(!0);if(ra(),ke=l,Bs.current=s,Qe!==null)throw Error(o(261));return Ze=null,tt=0,qe}function np(){for(;Qe!==null;)Hc(Qe)}function ap(){for(;Qe!==null&&!Rd();)Hc(Qe)}function Hc(e){var r=$c(e.alternate,e,vt);e.memoizedProps=e.pendingProps,r===null?zc(e):Qe=r,Aa.current=null}function zc(e){var r=e;do{var l=r.alternate;if(e=r.return,(r.flags&32768)===0){if(l=Zu(l,r,vt),l!==null){Qe=l;return}}else{if(l=Ju(l,r),l!==null){l.flags&=32767,Qe=l;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,Qe=null;return}}if(r=r.sibling,r!==null){Qe=r;return}Qe=r=e}while(r!==null);qe===0&&(qe=5)}function Pr(e,r,l){var s=Ee,n=kt.transition;try{kt.transition=null,Ee=1,ip(e,r,l,s)}finally{kt.transition=n,Ee=s}return null}function ip(e,r,l,s){do el();while(pr!==null);if((ke&6)!==0)throw Error(o(327));l=e.finishedWork;var n=e.finishedLanes;if(l===null)return null;if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=l.lanes|l.childLanes;if(Ud(e,i),e===Ze&&(Qe=Ze=null,tt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Gs||(Gs=!0,Wc(Yl,function(){return el(),null})),i=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||i){i=kt.transition,kt.transition=null;var p=Ee;Ee=1;var h=ke;ke|=4,Aa.current=null,tp(e,l),Ac(l,e),ku(Hn),ls=!!Gn,Hn=Gn=null,e.current=l,rp(l),Ld(),ke=h,Ee=p,kt.transition=i}else e.current=l;if(Gs&&(Gs=!1,pr=e,Hs=n),i=e.pendingLanes,i===0&&(ur=null),Id(l.stateNode),ht(e,ze()),r!==null)for(s=e.onRecoverableError,l=0;l<r.length;l++)n=r[l],s(n.value,{componentStack:n.stack,digest:n.digest});if(Us)throw Us=!1,e=Oa,Oa=null,e;return(Hs&1)!==0&&e.tag!==0&&el(),i=e.pendingLanes,(i&1)!==0?e===_a?_l++:(_l=0,_a=e):_l=0,ir(),null}function el(){if(pr!==null){var e=Ri(Hs),r=kt.transition,l=Ee;try{if(kt.transition=null,Ee=16>e?16:e,pr===null)var s=!1;else{if(e=pr,pr=null,Hs=0,(ke&6)!==0)throw Error(o(331));var n=ke;for(ke|=4,le=e.current;le!==null;){var i=le,p=i.child;if((le.flags&16)!==0){var h=i.deletions;if(h!==null){for(var b=0;b<h.length;b++){var L=h[b];for(le=L;le!==null;){var z=le;switch(z.tag){case 0:case 11:case 15:Il(8,z,i)}var Q=z.child;if(Q!==null)Q.return=z,le=Q;else for(;le!==null;){z=le;var H=z.sibling,re=z.return;if(Dc(z),z===L){le=null;break}if(H!==null){H.return=re,le=H;break}le=re}}}var ne=i.alternate;if(ne!==null){var ae=ne.child;if(ae!==null){ne.child=null;do{var Ke=ae.sibling;ae.sibling=null,ae=Ke}while(ae!==null)}}le=i}}if((i.subtreeFlags&2064)!==0&&p!==null)p.return=i,le=p;else e:for(;le!==null;){if(i=le,(i.flags&2048)!==0)switch(i.tag){case 0:case 11:case 15:Il(9,i,i.return)}var P=i.sibling;if(P!==null){P.return=i.return,le=P;break e}le=i.return}}var S=e.current;for(le=S;le!==null;){p=le;var D=p.child;if((p.subtreeFlags&2064)!==0&&D!==null)D.return=p,le=D;else e:for(p=S;le!==null;){if(h=le,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:_s(9,h)}}catch(ie){He(h,h.return,ie)}if(h===p){le=null;break e}var Z=h.sibling;if(Z!==null){Z.return=h.return,le=Z;break e}le=h.return}}if(ke=n,ir(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Xl,e)}catch{}s=!0}return s}finally{Ee=l,kt.transition=r}}return!1}function Kc(e,r,l){r=Yr(l,r),r=cc(e,r,1),e=cr(e,r,1),r=ot(),e!==null&&(ol(e,1,r),ht(e,r))}function He(e,r,l){if(e.tag===3)Kc(e,e,l);else for(;r!==null;){if(r.tag===3){Kc(r,e,l);break}else if(r.tag===1){var s=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ur===null||!ur.has(s))){e=Yr(l,e),e=dc(r,e,1),r=cr(r,e,1),e=ot(),r!==null&&(ol(r,1,e),ht(r,e));break}}r=r.return}}function op(e,r,l){var s=e.pingCache;s!==null&&s.delete(r),r=ot(),e.pingedLanes|=e.suspendedLanes&l,Ze===e&&(tt&l)===l&&(qe===4||qe===3&&(tt&130023424)===tt&&500>ze()-Fa?kr(e,0):Ia|=l),ht(e,r)}function Qc(e,r){r===0&&((e.mode&1)===0?r=1:(r=Jl,Jl<<=1,(Jl&130023424)===0&&(Jl=4194304)));var l=ot();e=$t(e,r),e!==null&&(ol(e,r,l),ht(e,l))}function cp(e){var r=e.memoizedState,l=0;r!==null&&(l=r.retryLane),Qc(e,l)}function dp(e,r){var l=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(o(314))}s!==null&&s.delete(r),Qc(e,l)}var $c;$c=function(e,r,l){if(e!==null)if(e.memoizedProps!==r.pendingProps||ut.current)mt=!0;else{if((e.lanes&l)===0&&(r.flags&128)===0)return mt=!1,Xu(e,r,l);mt=(e.flags&131072)!==0}else mt=!1,Oe&&(r.flags&1048576)!==0&&wo(r,Ns,r.index);switch(r.lanes=0,r.tag){case 2:var s=r.type;Fs(e,r),e=r.pendingProps;var n=Gr(r,rt.current);Wr(r,l),n=ma(null,r,s,e,n,l);var i=xa();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,pt(s)?(i=!0,ys(r)):i=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,aa(r),n.updater=As,r.stateNode=n,n._reactInternals=r,va(r,s,e,l),r=Ca(null,r,s,!0,i,l)):(r.tag=0,Oe&&i&&Yn(r),it(null,r,n,l),r=r.child),r;case 16:s=r.elementType;e:{switch(Fs(e,r),e=r.pendingProps,n=s._init,s=n(s._payload),r.type=s,n=r.tag=pp(s),e=Lt(s,e),n){case 0:r=Sa(null,r,s,e,l);break e;case 1:r=bc(null,r,s,e,l);break e;case 11:r=xc(null,r,s,e,l);break e;case 14:r=hc(null,r,s,Lt(s.type,e),l);break e}throw Error(o(306,s,""))}return r;case 0:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Lt(s,n),Sa(e,r,s,n,l);case 1:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Lt(s,n),bc(e,r,s,n,l);case 3:e:{if(vc(r),e===null)throw Error(o(387));s=r.pendingProps,i=r.memoizedState,n=i.element,Io(e,r),ks(r,s,null,l);var p=r.memoizedState;if(s=p.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){n=Yr(Error(o(423)),r),r=Nc(e,r,s,l,n);break e}else if(s!==n){n=Yr(Error(o(424)),r),r=Nc(e,r,s,l,n);break e}else for(bt=sr(r.stateNode.containerInfo.firstChild),yt=r,Oe=!0,Rt=null,l=Mo(r,null,s,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Kr(),s===n){r=qt(e,r,l);break e}it(e,r,s,l)}r=r.child}return r;case 5:return _o(r),e===null&&Jn(r),s=r.type,n=r.pendingProps,i=e!==null?e.memoizedProps:null,p=n.children,zn(s,n)?p=null:i!==null&&zn(s,i)&&(r.flags|=32),yc(e,r),it(e,r,p,l),r.child;case 6:return e===null&&Jn(r),null;case 13:return jc(e,r,l);case 4:return ia(r,r.stateNode.containerInfo),s=r.pendingProps,e===null?r.child=Qr(r,null,s,l):it(e,r,s,l),r.child;case 11:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Lt(s,n),xc(e,r,s,n,l);case 7:return it(e,r,r.pendingProps,l),r.child;case 8:return it(e,r,r.pendingProps.children,l),r.child;case 12:return it(e,r,r.pendingProps.children,l),r.child;case 10:e:{if(s=r.type._context,n=r.pendingProps,i=r.memoizedProps,p=n.value,Le(Cs,s._currentValue),s._currentValue=p,i!==null)if(Et(i.value,p)){if(i.children===n.children&&!ut.current){r=qt(e,r,l);break e}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var h=i.dependencies;if(h!==null){p=i.child;for(var b=h.firstContext;b!==null;){if(b.context===s){if(i.tag===1){b=Wt(-1,l&-l),b.tag=2;var L=i.updateQueue;if(L!==null){L=L.shared;var z=L.pending;z===null?b.next=b:(b.next=z.next,z.next=b),L.pending=b}}i.lanes|=l,b=i.alternate,b!==null&&(b.lanes|=l),sa(i.return,l,r),h.lanes|=l;break}b=b.next}}else if(i.tag===10)p=i.type===r.type?null:i.child;else if(i.tag===18){if(p=i.return,p===null)throw Error(o(341));p.lanes|=l,h=p.alternate,h!==null&&(h.lanes|=l),sa(p,l,r),p=i.sibling}else p=i.child;if(p!==null)p.return=i;else for(p=i;p!==null;){if(p===r){p=null;break}if(i=p.sibling,i!==null){i.return=p.return,p=i;break}p=p.return}i=p}it(e,r,n.children,l),r=r.child}return r;case 9:return n=r.type,s=r.pendingProps.children,Wr(r,l),n=Tt(n),s=s(n),r.flags|=1,it(e,r,s,l),r.child;case 14:return s=r.type,n=Lt(s,r.pendingProps),n=Lt(s.type,n),hc(e,r,s,n,l);case 15:return fc(e,r,r.type,r.pendingProps,l);case 17:return s=r.type,n=r.pendingProps,n=r.elementType===s?n:Lt(s,n),Fs(e,r),r.tag=1,pt(s)?(e=!0,ys(r)):e=!1,Wr(r,l),ic(r,s,n),va(r,s,n,l),Ca(null,r,s,!0,e,l);case 19:return Cc(e,r,l);case 22:return gc(e,r,l)}throw Error(o(156,r.tag))};function Wc(e,r){return wi(e,r)}function up(e,r,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,r,l,s){return new up(e,r,l,s)}function za(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pp(e){if(typeof e=="function")return za(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===Te)return 14}return 2}function hr(e,r){var l=e.alternate;return l===null?(l=Pt(e.tag,r,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=r,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&14680064,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,r=e.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l}function $s(e,r,l,s,n,i){var p=2;if(s=e,typeof e=="function")za(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case ee:return Dr(l.children,n,i,r);case te:p=8,n|=8;break;case me:return e=Pt(12,l,r,n|2),e.elementType=me,e.lanes=i,e;case be:return e=Pt(13,l,r,n),e.elementType=be,e.lanes=i,e;case Ce:return e=Pt(19,l,r,n),e.elementType=Ce,e.lanes=i,e;case M:return Ws(l,n,i,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:p=10;break e;case he:p=9;break e;case je:p=11;break e;case Te:p=14;break e;case K:p=16,s=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return r=Pt(p,l,r,n),r.elementType=e,r.type=s,r.lanes=i,r}function Dr(e,r,l,s){return e=Pt(7,e,s,r),e.lanes=l,e}function Ws(e,r,l,s){return e=Pt(22,e,s,r),e.elementType=M,e.lanes=l,e.stateNode={isHidden:!1},e}function Ka(e,r,l){return e=Pt(6,e,null,r),e.lanes=l,e}function Qa(e,r,l){return r=Pt(4,e.children!==null?e.children:[],e.key,r),r.lanes=l,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function mp(e,r,l,s,n){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bn(0),this.expirationTimes=bn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bn(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function $a(e,r,l,s,n,i,p,h,b){return e=new mp(e,r,l,h,b),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Pt(3,null,null,r),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(i),e}function xp(e,r,l){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:s==null?null:""+s,children:e,containerInfo:r,implementation:l}}function qc(e){if(!e)return ar;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(o(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(pt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(e.tag===1){var l=e.type;if(pt(l))return So(e,l,r)}return r}function Yc(e,r,l,s,n,i,p,h,b){return e=$a(l,s,!0,e,n,i,p,h,b),e.context=qc(null),l=e.current,s=ot(),n=mr(l),i=Wt(s,n),i.callback=r??null,cr(l,i,n),e.current.lanes=n,ol(e,n,s),ht(e,s),e}function qs(e,r,l,s){var n=r.current,i=ot(),p=mr(n);return l=qc(l),r.context===null?r.context=l:r.pendingContext=l,r=Wt(i,p),r.payload={element:e},s=s===void 0?null:s,s!==null&&(r.callback=s),e=cr(n,r,p),e!==null&&(It(e,n,p,i),ws(e,n,p)),p}function Ys(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Xc(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<r?l:r}}function Wa(e,r){Xc(e,r),(e=e.alternate)&&Xc(e,r)}function hp(){return null}var Zc=typeof reportError=="function"?reportError:function(e){console.error(e)};function qa(e){this._internalRoot=e}Xs.prototype.render=qa.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(o(409));qs(e,r,null,null)},Xs.prototype.unmount=qa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;wr(function(){qs(null,e,null,null)}),r[Ht]=null}};function Xs(e){this._internalRoot=e}Xs.prototype.unstable_scheduleHydration=function(e){if(e){var r=Ai();e={blockedOn:null,target:e,priority:r};for(var l=0;l<tr.length&&r!==0&&r<tr[l].priority;l++);tr.splice(l,0,e),l===0&&Oi(e)}};function Ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jc(){}function fp(e,r,l,s,n){if(n){if(typeof s=="function"){var i=s;s=function(){var L=Ys(p);i.call(L)}}var p=Yc(r,s,e,0,null,!1,!1,"",Jc);return e._reactRootContainer=p,e[Ht]=p.current,jl(e.nodeType===8?e.parentNode:e),wr(),p}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var h=s;s=function(){var L=Ys(b);h.call(L)}}var b=$a(e,0,!1,null,null,!1,!1,"",Jc);return e._reactRootContainer=b,e[Ht]=b.current,jl(e.nodeType===8?e.parentNode:e),wr(function(){qs(r,b,l,s)}),b}function Js(e,r,l,s,n){var i=l._reactRootContainer;if(i){var p=i;if(typeof n=="function"){var h=n;n=function(){var b=Ys(p);h.call(b)}}qs(r,p,e,n)}else p=fp(l,r,e,n,s);return Ys(p)}Li=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var l=il(r.pendingLanes);l!==0&&(vn(r,l|1),ht(r,ze()),(ke&6)===0&&(Jr=ze()+500,ir()))}break;case 13:wr(function(){var s=$t(e,1);if(s!==null){var n=ot();It(s,e,1,n)}}),Wa(e,1)}},Nn=function(e){if(e.tag===13){var r=$t(e,134217728);if(r!==null){var l=ot();It(r,e,134217728,l)}Wa(e,134217728)}},Mi=function(e){if(e.tag===13){var r=mr(e),l=$t(e,r);if(l!==null){var s=ot();It(l,e,r,s)}Wa(e,r)}},Ai=function(){return Ee},Ii=function(e,r){var l=Ee;try{return Ee=e,r()}finally{Ee=l}},mn=function(e,r,l){switch(r){case"input":if(pe(e,l),r=l.name,l.type==="radio"&&r!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var s=l[r];if(s!==e&&s.form===e.form){var n=fs(s);if(!n)throw Error(o(90));Fe(s),pe(s,n)}}}break;case"textarea":di(e,l);break;case"select":r=l.value,r!=null&&$e(e,!!l.multiple,r,!1)}},bi=Ua,vi=wr;var gp={usingClientEntryPoint:!1,Events:[Tl,Vr,fs,gi,yi,Ua]},Bl={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yp={bundleType:Bl.bundleType,version:Bl.version,rendererPackageName:Bl.rendererPackageName,rendererConfig:Bl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ci(e),e===null?null:e.stateNode},findFiberByHostInstance:Bl.findFiberByHostInstance||hp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var en=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!en.isDisabled&&en.supportsFiber)try{Xl=en.inject(yp),_t=en}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gp,ft.createPortal=function(e,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ya(r))throw Error(o(200));return xp(e,r,null,l)},ft.createRoot=function(e,r){if(!Ya(e))throw Error(o(299));var l=!1,s="",n=Zc;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=$a(e,1,!1,null,null,l,!1,s,n),e[Ht]=r.current,jl(e.nodeType===8?e.parentNode:e),new qa(r)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Ci(r),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return wr(e)},ft.hydrate=function(e,r,l){if(!Zs(r))throw Error(o(200));return Js(null,e,r,!0,l)},ft.hydrateRoot=function(e,r,l){if(!Ya(e))throw Error(o(405));var s=l!=null&&l.hydratedSources||null,n=!1,i="",p=Zc;if(l!=null&&(l.unstable_strictMode===!0&&(n=!0),l.identifierPrefix!==void 0&&(i=l.identifierPrefix),l.onRecoverableError!==void 0&&(p=l.onRecoverableError)),r=Yc(r,null,e,1,l??null,n,!1,i,p),e[Ht]=r.current,jl(e),s)for(e=0;e<s.length;e++)l=s[e],n=l._getVersion,n=n(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,n]:r.mutableSourceEagerHydrationData.push(l,n);return new Xs(r)},ft.render=function(e,r,l){if(!Zs(r))throw Error(o(200));return Js(null,e,r,!1,l)},ft.unmountComponentAtNode=function(e){if(!Zs(e))throw Error(o(40));return e._reactRootContainer?(wr(function(){Js(null,null,e,!1,function(){e._reactRootContainer=null,e[Ht]=null})}),!0):!1},ft.unstable_batchedUpdates=Ua,ft.unstable_renderSubtreeIntoContainer=function(e,r,l,s){if(!Zs(l))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return Js(e,r,l,!1,s)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var id;function vd(){if(id)return Ja.exports;id=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(d){console.error(d)}}return a(),Ja.exports=Tp(),Ja.exports}var od;function wp(){if(od)return tn;od=1;var a=vd();return tn.createRoot=a.createRoot,tn.hydrateRoot=a.hydrateRoot,tn}var kp=wp();const Pp=yd(kp),cd={en:{app:{title:"IntelliCarrier",subtitle:"Freight Management Platform",version:"v2.0  SC Group"},modules:{freightOrders:"Freight Orders",shipments:"Shipments",reportIn:"Report-In",settlement:"Settlement"},freightOrders:{pageTitle:"Freight Order Management",pageSubtitle:"Create & manage freight orders from PDF/OCR, Email RPA, TMS API, Manual Entry, and Excel Upload",allOrders:"All Freight Orders",noDocument:"No document (manual entry)",trackCockpit:"Track in Cockpit",filters:{allBU:"All BU",allSources:"All Sources"},newFO:"+ New Freight Order",export:"Export",kpi:{total:"Total Orders",pendingReview:"Pending Review",open:"Open",shipmentCreated:"Shipment Created",dispatched:"Dispatched",reportIn:"Report-In",closed:"Closed",allSources:"All sources",needsValidation:"Needs validation",createShipmentSub:"Create shipment",readyDispatch:"Ready dispatch",reportInPending:"Report-In pending",tripCompleted:"Trip completed"},table:{foId:"FO ID",source:"Source",bu:"BU",customer:"Customer",route:"Route",productType:"Product Type",pickupDate:"Pickup Date",status:"Status",actions:"Actions",shipment:"Shipment",stage:"Stage",soldTo:"Sold-to",shipTo:"Ship-to",billingQty:"Billing Qty",billingDist:"Billing Dist",canGas:"Can Gas",soNumber:"SO Number",report:"Report",soType:"SO Type",sapStatus:"SAP Status",rowsStamped:"Rows Stamped"},actions:{review:"Review",confirmFO:"Confirm FO",createShipment:"Create Shipment",dispatch:"Dispatch",reportIn:"Report-In",close:"Close",edit:"Edit",view:"View"},review:{title:"Manual Review",verifyData:"Verify extracted data against original document",ocrConfidence:"OCR Confidence",extractedData:"Extracted / Entered Data",originalDocument:"Original Document",downloadOriginal:"Download Original",reviewChecklist:"Review Checklist",markReviewed:"Mark as Reviewed",checklistItems:{customer:"Customer information verified",route:"Route & WBS confirmed",cargo:"Product/cargo details correct",dates:"Dates are feasible",bu:"Business unit & type correct",instructions:"Special instructions noted"}},detail:{orderInfo:"Order Info",customersShipTo:"Customers / Ship-To Locations",schedule:"Schedule",specialInstructions:"Special Instructions",readyToCreateShipment:"Ready to Create Shipment",readyDescription:"This order is approved. Create a shipment to assign driver/vehicle and dispatch.",dispatchDescription:"is ready. Dispatch to notify driver and start execution.",shipmentCreatedReady:"Shipment Created  Ready to Dispatch",dispatched:"Dispatched"},channels:{selectBU:"Select BU",selectProduct:"Select Product Type",availableChannels:"Available Channels",excel:"Excel Upload",pdf:"PDF / OCR Upload",tms:"TMS API",email:"Email RPA",line:"LINE Message",form:"Standard Form",manual:"Manual Entry",forecast:"Forecast Upload"},upload:{step1Title:"Select BU & Product",step2Title:"Upload Files",step3Title:"Review Drafts",dragDrop:"Drag & drop files here or click to browse",processing:"Processing...",confirmSelected:"Confirm Selected",uploadMore:"Upload More"}},shipments:{pageTitle:"Shipments",pageSubtitle:"Create & manage shipments from PDF/OCR, Email RPA, TMS API, ...",newShipment:"+ New Shipment",export:"Export",kpi:{total:"Total Shipments",open:"Open",dispatched:"Dispatched",reportIn:"Report-In",completed:"Completed"},table:{shipmentNo:"Shipment No.",source:"Source",product:"Product",bu:"BU",route:"Route",customer:"Customer",truck:"Truck",driver:"Driver",qty:"Qty",created:"Created",status:"Status",actions:"Actions"},actions:{edit:"Edit",dispatch:"Dispatch",reportIn:"Report-In",view:"View"},form:{orderSummary:"Order Summary",shipmentHeader:"Shipment Header",vehicleAssignment:"Vehicle Assignment",driversHelpers:"Drivers & Helpers",stagesRoutePlan:"Stages & Route Plan",transportFee:"Transport Fee & Trip Pay"},detail:{shipmentInfo:"Shipment Info",customersShipTo:"Customers / Ship-To",schedule:"Schedule",specialInstructions:"Special Instructions",readyToDispatch:"Ready to Dispatch",dispatchNow:"Dispatch Now",dispatched:"Dispatched",dispatchDescription:"Driver notified. Monitoring in Fleet Cockpit.",fleet:"Fleet",reportIn:"Report-In"},channels:{selectBU:"Select BU",selectProduct:"Select Product Type",availableChannels:"Available Channels",excel:"Excel Upload",pdf:"PDF / OCR Upload",tms:"TMS API",email:"Email RPA",line:"LINE Message",form:"Standard Form",manual:"Manual Entry",forecast:"Forecast Upload"},upload:{step1Title:"Select BU & Product",step2Title:"Upload Files",step3Title:"Review Drafts",dragDrop:"Drag & drop files here or click to browse",processing:"Processing...",confirmSelected:"Confirm Selected",uploadMore:"Upload More"}},reportIn:{pageTitle:"Report-In  Land Transport (Miles Checking)",autoReady:"Auto Report-In Ready",formTitle:"Report-In",submitSuccess:"Report-In submitted for review.",draftSaved:"Draft saved successfully.",approveSuccess:"Report-In approved and closed. Settlement rows created.",rejectSuccess:"Report-In rejected. Driver must correct and resubmit.",status:{draftInProgress:"Draft in Progress",awaitingEntry:"Awaiting Entry"},filters:{allTypes:"All Types",allBU:"All BU"},refresh:"Refresh",kpi:{awaiting:"Awaiting",inProgress:"In Progress",pendingReview:"Pending Review",completed:"Completed",rejected:"Rejected"},tabs:{awaiting:"Awaiting",draft:"Draft",pendingReview:"Pending Review",rejected:"Rejected",completed:"Completed"},table:{shipmentNo:"Shipment No.",type:"Type",route:"Route",driverPlate:"Driver / Plate",customer:"Customer",dispatchDate:"Dispatch Date",stageProgress:"Stage Progress",status:"Status",actions:"Actions"},form:{vehicleInfo:"Vehicle Info",stages:"Stages",expenses:"Expenses",fuel:"Fuel",parking:"Parking",reviewClose:"Review & Close",summaryStrip:{route:"Route",driver:"Driver",vehicle:"Vehicle",customer:"Customer",lastTruckMiles:"Last Truck Miles"},milesConfig:"Miles Checking Config",validateSave:"Validate & Save",simulateMobile:"Simulate Mobile",addExpense:"+ Add Expense",addFuel:"+ Add Fuel",addParking:"+ Add Parking",cashAdvance:"Cash Advance Summary",stageSummary:"Stage Summary",costSummary:"Cost Summary",grandTotal:"GRAND TOTAL"},vehicleInfo:{sectionHeader:"Vehicle & Driver Information",driver:"Driver",driverId:"Driver ID",vehiclePlate:"Vehicle Plate",trailer:"Trailer",trailerPlaceholder:"N/A if none",vehicleType:"Vehicle Type",vehicleAge:"Vehicle Age",odometerStart:"Odometer Start",odometerEnd:"Odometer End",lastTruckMiles:"Last Truck Miles",milesSource:"Miles Source",manual:"Manual"},validation:{passed:"PASSED  All miles checks OK",failed:"FAILED  Miles validation errors detected",rule001:"First stage: start miles vs last truck miles",rule002:"Stage gap: prev end vs current start",rule003:"Distance variance from standard",rule004:"Dummy route tolerance",rule005:"Broken miles bypass"}},settlement:{pageTitle:"Settlement & Billing Management",flowDescription:"Settle completed shipments  Create SO  Post to SAP  Stamp SO No. back",tabs:{awaiting:"Awaiting Settlement",reports:"Settlement Reports",reportDetail:"Report Detail",salesOrders:"Sales Orders"},kpi:{awaiting:"Awaiting",lpgAwaiting:"LPG Awaiting",ngvAwaiting:"NGV Awaiting",reportsCreated:"Reports Created",soPosted:"SO Posted"},flowSteps:{awaiting:"Awaiting",createReport:"Create Report",displayRecheck:"Display & Recheck",createSO:"Create SO",postToSAP:"Post to SAP",stampSO:"Stamp SO",completed:"Completed"},infoNote:"LPG & NGV only. Only customer stage rows appear.",createReport:"Create Settlement Report",soSplitRules:{lpg:"1 SO per sold-to; / = separate SO",ngv:"200km  SO #1 | >200km  SO #2 (max 2 SO)"},table:{reportNo:"Report No.",product:"Product",period:"Period",site:"Site",rows:"# Rows",total:"Total",status:"Status",soNo:"SO No.",actions:"Actions",shipment:"Shipment",stage:"Stage",soldTo:"Sold-to",shipTo:"Ship-to",billingQty:"Billing Qty",billingDist:"Billing Dist",canGas:"Can Gas",soNumber:"SO Number",report:"Report",soType:"SO Type",sapStatus:"SAP Status",rowsStamped:"Rows Stamped",date:"Date",customerDoc:"Customer Doc",ticketQty:"Ticket Qty",gasUnload:"Gas Unload"},awaiting:{customerStageNote:"Customer stage ship-to rows only"},gasUnload:{can:"Can",cannot:"Cannot",canUnload:"Can unload gas",cannotUnload:"Cannot unload gas",cannotShort:"Cannot"},columnSettings:"Column Settings",exportExcel:"Export Excel",reportDetail:{selectReport:"Select a report from the Reports tab to view details.",backToReports:"Back to Reports",selectedRows:"# Selected Rows",ngvRate:"NGV Rate",ngvRateUnit:"THB/m",soSplitRules:"SO Split Rules",rows:"rows",colsVisible:"columns visible",soStampedBack:"SO Stamped Back"},splitRules:{lpg:{rule1:"1 SO per Sold-to party",rule2:"Can/Cannot unload gas are split into separate SOs",rule3:"Each SO groups all ship-to rows for the same sold-to + unload status"},ngv:{rule2:"Max 2 SO per report (one per distance bucket)",rule3:"NGV must input rate before settle"}},createModal:{subtitle:"Filter & select customer stage ship-tos to settle",site:"Site",fromDate:"From Date",toDate:"To Date",product:"Product",route:"Route",wbs:"WBS",wbsPlaceholder:"e.g. WBS-001",ngvRatePlaceholder:"Required for NGV",selectShipTos:"Select Ship-tos to Settle",rowsFound:"rows found",selected:"selected",shipToName:"Ship-to Name",volume:"Volume",noRowsMatch:"No awaiting rows match filters",createButton:"Settle  Create Report"},soDetail:{title:"Sales Order Detail",soPrefix:"SO",soNumber:"SO Number",report:"Report",product:"Product",soldTo:"Sold-to",soType:"SO Type",sapStatus:"SAP Status",rowsStamped:"Rows Stamped",custDoc:"Customer Doc",quantity:"Quantity"},status:{posted:"Posted",pending:"Pending"},salesOrders:{empty:"No sales orders found"},postToSAP:{button:"Post to SAP",postAll:"Post All to SAP",posting:"Posting...",success:"Successfully posted to SAP!",pendingOrders:"SO(s) pending SAP posting",postedOrders:"posted to SAP",readyTitle:"Ready to Post to SAP",readyDesc:"This sales order has been created and is ready for SAP posting."},createSalesOrder:"Create Sales Order"},common:{save:"Save",cancel:"Cancel",create:"Create",confirm:"Confirm",delete:"Delete",search:"Search",export:"Export",edit:"Edit",close:"Close",view:"View",back:"Back",backToList:"Back to List",all:"All",yes:"Yes",no:"No",next:"Next",remove:"Remove",clear:"Clear",total:"Total",saveDraft:"Save Draft",submitForReview:"Submit for Review",reject:"Reject",approveClose:"Approve & Close",createShipment:"Create Shipment",createDispatch:"Create & Dispatch",saveChanges:"Save Changes",dispatch:"Dispatch",selectAll:"Select All",noDataFound:"No data found",loading:"Loading...",status:{label:"Status",open:"Open",dispatched:"Dispatched",reportIn:"Report-In",completed:"Completed",pending:"Pending",draft:"Draft",review:"Pending Review",rejected:"Rejected",awaiting:"Awaiting",inReport:"In Report",settled:"Settled",pendingSO:"Pending SO",soPosted:"SO Posted"},products:{LPG:"LPG",CHEM:"Chemical",FUEL:"Fuel/WO",NGV:"NGV",CONTAINER:"Container",SCA:"Car Carrier"},sources:{pdf:"PDF Upload",email:"Email RPA",tms:"TMS API",manual:"Manual Entry",excel:"Excel Upload",forecast:"Forecast Upload"}},stage:{chip:{stage:"Stage"},nav:{next:"Next"},type:{first:"First (Depot Out)",load:"Load (Loading)",cust:"Cust (Customer Delivery)",last:"Last (Return)",hub:"Hub (Transfer)"},dataSource:{manual:"Manual Entry",mobile:"Mobile App"},productDesc:{LPG:"LPG Tanker Transport - Pressurized gas delivery with weight-based measurement",CHEM:"Chemical Tank Transport - Hazardous materials requiring special handling protocols",FUEL:"Fuel / Work Order Transport - Petroleum product delivery with volume-based measurement",NGV:"NGV Tube Trailer Transport - Compressed natural gas delivery by cubic meter",CONTAINER:"Container Chassis Transport - TEU-based container logistics",SCA:"Car Carrier Transport - Vehicle logistics with unit-based counting"},form:{dataSource:"Data Source",origin:"Origin",destination:"Destination",stdDistance:"Std Distance",departure:"Departure",arrival:"Arrival",milesStart:"Miles Start",milesEnd:"Miles End",gpsDistance:"GPS Distance (optional)",actualDistance:"Actual Distance"},section:{locationDistance:"Location & Distance",dateTime:"Date & Time",mileage:"Mileage"},validation:{passed:"Miles Validation PASSED",failed:"Miles Validation FAILED",rule:"Rule",bypassActive:"Broken miles bypass active - violations recorded as warnings"},loading:{sectionHeader:"Loading Section",weightBefore:"Weight Before Loading",weightAfter:"Weight After Loading"},customer:{sectionHeader:"Customer Delivery Section",ticketInfo:"Ticket Information",poNo:"PO No",poPlaceholder:"Purchase Order",quantity:"Quantity",timing:"Timing",remarks:"Remarks",remarksPlaceholder:"Additional notes about this delivery..."},fields:{ticketDocNo:"Ticket Doc No.",ticketDocDate:"Ticket Doc Date",faceQty:"Face Qty",actualQty:"Actual Qty",weightBeforeUnload:"Weight Before Unload",weightAfterUnload:"Weight After Unload",waitDiscount:"Wait Discount",cannotUnload:"Cannot Unload",planArrival:"Plan Arrival Time",customerPlanTime:"Customer Plan Time",waitStartTime:"Wait Start Time",unloadStartTime:"Unload Start Time"},actions:{simulateMobile:"Simulate Auto Report-In",clear:"Clear",checkMiles:"Check Miles",saveStage:"Save Stage"}},expense:{kpi:{tolls:"TOLLS",meals:"MEALS",overnight:"OVERNIGHT",other:"OTHER",total:"TOTAL"},infoStrip:{title:"Record all trip expenses.",body:"Tolls, meals, overnight stays, and other expenses should be documented with receipts where possible."},table:{type:"Type",description:"Description / Vendor",payType:"Pay Type",amount:"Amount",receipt:"Receipt",status:"Status",descriptionPlaceholder:"Description...",totalExpenses:"Total Expenses"},cashAdvance:{cashAdvance:"Cash Advance",totalSpent:"Total Spent",balance:"Balance",receipts:"Receipts"}},fuel:{infoStrip:{title:"Record fuel purchases for this trip.",body:"Fleet card entries are auto-linked; cash entries require receipt upload."},header:{vehicle:"VEHICLE",lastMileage:"LAST MILEAGE",fuelPrice:"FUEL PRICE",fleetCard:"FLEET CARD"},entry:{title:"Fuel Entry",remove:"Remove"},form:{fillType:"Fill Type",station:"Station",stationPlaceholder:"Gas station name",fuelType:"Fuel Type",liters:"Liters",amount:"Amount (auto-calc)",mileageBefore:"Mileage Before",mileageAfter:"Mileage After",consumption:"Consumption (auto-calc)",fleetCardNo:"Fleet Card No",naCash:"N/A (Cash)",receipt:"Receipt",receiptAttached:"Receipt attached",noReceipt:"No receipt"},total:{liters:"Liters"}},parking:{placeType:{warehouse:"Warehouse",factory:"Factory",port:"Port",depot:"Depot",other:"Other"},infoStrip:{title:"Record parking and waiting times.",body:"Document where and how long the vehicle was parked during the trip, including reasons for delays."},table:{stage:"Stage",location:"Location / Place",type:"Type",start:"Start",end:"End",duration:"Duration",reason:"Reason",amount:"Amount",stagePrefix:"Stage",locationPlaceholder:"Location name...",reasonPlaceholder:"Reason..."},summary:{entry:"parking entry",entries:"parking entries",totalParking:"Total Parking"}},review:{summary:{totalStdDist:"Total Std Distance",totalActual:"Total Actual"},table:{stage:"Stage",from:"From",to:"To",type:"Type",stdDist:"Std Dist",milesStart:"Miles Start",milesEnd:"Miles End",actualDist:"Actual Dist",variance:"Variance",status:"Status",totals:"Totals"},costs:{category:"Category",amount:"Amount",expenses:"Expenses (Tolls, Meals, Overnight, etc.)",fuel:"Fuel",parking:"Parking"},stats:{completion:"Completion",distanceVariance:"Distance Variance",costPerKm:"Cost per km",receiptsRatio:"Receipts Ratio"}},shipmentDetail:{panel:{shipmentInfo:"Shipment Information",vehicleCrew:"Vehicle & Crew",scheduleFees:"Schedule & Fees",customersShipTo:"Customers / Ship-To",specialInstructions:"Special Instructions"},fields:{shipmentNo:"Shipment No.",source:"Source",product:"Product",businessUnit:"Business Unit",site:"Site",route:"Route",shipmentType:"Shipment Type",totalQty:"Total Qty",created:"Created",ocrConfidence:"OCR Confidence",fos:"FOs",shipToCode:"Ship-To Code",truckPlate:"Truck Plate",trailer:"Trailer",vehicleNo:"Vehicle No.",truckType:"Truck Type",driver1:"Driver 1",driver1Id:"Driver 1 ID",stagesRoutePlan:"Stages & Route Plan",pickupDate:"Pickup Date",deliveryDate:"Delivery Date",totalWeight:"Total Weight",plannedDate:"Planned Date",contractWbs:"Contract/WBS",transportFee:"Transport Fee",tripPay:"Trip Pay",brokenMiles:"Broken Miles"},ngv:{title:"NGV Data (ZLSDE006)",desc:"Tube Trailer with quality readings"},fuel:{title:"Fuel/WO Data (ZLSDE017)",desc:"Compartment delivery assignments"},container:{title:"Container Data (ZLSDE015)",desc:"Booking & container list"},sca:{title:"Car Carrier Data (ZLSDE012)",desc:"Vehicle positions & collection status"}},cashAdvance:{pageTitle:"Cash Advance  Expense, Fuel & Parking Management",summary:"Cash Advance Summary",balancesByShipment:"Cash Advance Balances by Shipment",tabs:{expenses:"Expenses",fuel:"Fuel",parking:"Parking"},tolls:"Tolls",meals:"Meals",overnight:"Overnight",other:"Other",total:"Total",receipts:"Receipts",totalAdvanced:"Total Advanced",totalSpent:"Total Spent",remaining:"Remaining",advanced:"Advanced",spent:"Spent",pendingReview:"Pending Review",totalLiters:"Total Liters",shipments:"Shipments",fuelCost:"Fuel Cost",fuelEntries:"Fuel Entries",allTypes:"All Types",allStatus:"All Status",allShipments:"All Shipments",addExpense:"+ Add Expense",addFuel:"+ Add Fuel",addParking:"+ Add Parking",exportCSV:"Export CSV",addNewExpense:"Add New Expense",editExpense:"Edit Expense",addNewFuel:"Add New Fuel Entry",editFuel:"Edit Fuel Entry",addNewParking:"Add New Parking Entry",editParking:"Edit Parking Entry",table:{shipmentNo:"Shipment",driver:"Driver",type:"Type",description:"Description",payType:"Pay Type",amount:"Amount",receipt:"Receipt",status:"Status",date:"Date",station:"Station",fuelType:"Fuel Type",liters:"Liters",pricePerLiter:"Price/L",totalCost:"Total Cost",location:"Location",placeType:"Place Type",start:"Start",end:"End",reason:"Reason",duration:"Duration",plate:"Plate",fillType:"Fill Type",milesBefore:"Miles Before",milesAfter:"Miles After",fleetCard:"Fleet Card"},formLabels:{shipment:"Shipment",type:"Type",description:"Description",payType:"Pay Type",amount:"Amount",date:"Date",hasReceipt:"Has Receipt",station:"Station",fuelType:"Fuel Type",liters:"Liters",pricePerLiter:"Price/Liter",plate:"Plate",fillType:"Fill Type",milesBefore:"Miles Before",milesAfter:"Miles After",fleetCard:"Fleet Card",location:"Location",placeType:"Place Type",startTime:"Start Time",endTime:"End Time",reason:"Reason",stage:"Stage"}},shipmentForm:{createShipment:"Create Shipment",editShipment:"Edit Shipment",consolidateDesc:"Consolidate freight orders and assign vehicle & driver",backToFOList:"Back to FO List",selectBUProduct:"1. Select Business Unit & Product Type",businessUnit:"Business Unit",productType:"Product Type",siteOptional:"Site (Optional)",selectBU:" Select BU ",selectProduct:" Select Product ",allSites:"All Sites",selectedFO:"2. Selected Freight Order (Primary)",foSelected:"FO Selected",consolidateInfo:"Consolidate multiple FOs into one shipment. When route changes, matching FOs will refresh.",buSite:"BU / Site",route:"Route",customer:"Customer",shipTo:"Ship-To",quantity:"Quantity",plannedDate:"Planned Date",contractWBS:"Contract/WBS",approved:"Approved",matchingFOs:"Matching FOs for Route",available:"available",shipmentHeader:"3. Shipment Header",shipmentNo:"Shipment No.",shipmentType:"Shipment Type",shippingType:"Shipping Type",contractDate:"Contract Date",plannedDateTime:"Planned Date/Time",customRoute:"Create Custom Route  Select Connection Points",stage1Origin:"Stage 1 (Origin)",stage2Loading:"Stage 2 (Loading/Customer)",stage3Transfer:"Stage 3 (Transfer)",stage4Return:"Stage 4 (Return)",createDummyRoute:"Create Dummy Route",additionalFields:"Additional Fields (Edit Mode)",vehicleAssignment:"4. Vehicle Assignment",vehicleInfo:"Enter Truck Plate to auto-fill Trailer & Vehicle No. OR Vehicle No. to auto-fill plates. Use <strong>Fleet Suggest</strong> to find available trucks.",truckPlate:"Truck Plate",trailerPlate:"Trailer Plate",vehicleNoLabel:"Vehicle No.",truckType:"Truck Type",search:"Search",fleetSuggest:"Fleet Suggest",driversHelpers:"5. Drivers & Helpers",driverCheckInfo:"Check driver license expiry before assignment (zlsde01_t006). Intern checkbox = trainee.",role:"Role",employeeId:"Employee ID",name:"Name",phone:"Phone",intern:"Intern",license:"License",validLicense:"Valid",expiredLicense:"Expired",stagesRoutePlan:"6. Stages & Route Plan",stageLabel:"Stage",depNo:"Dep. No",departure:"Departure",destNo:"Dest. No",destination:"Destination",type:"Type",plannedArrival:"Planned Arrival",plannedDeparture:"Planned Departure",distance:"Distance",actions:"Actions",addStage:"+ Add Stage",totalDistance:"Total Distance",stagesInfo:"Stages from Route Master. Swap stages to recalculate distance. Distance is read-only from route detail master.",ngvData:"NGV Data  ZLSDE006",ngvTubeTrailer:"NGV Tube Trailer",ngvInfo:"NGV-specific fields: Tube data, customer PSI, quality readings. Ref No. auto from delivery.",ngvTubeData:"NGV Tube Data",qualityReadings:"Quality Readings",normalStatus:"Normal",fuelWOData:"Fuel/WO Data  ZLSDE017",fuelWOBadge:"",fuelWOInfo:"Fuel/WO fields: Customer delivery assignments, compartment allocation per stage. Comp 14 with product type & quantity.",shipmentCustomer:"Shipment Customer",custName:"Cust Name",custCode:"Cust Code",customerDelivery:"Customer Delivery",addDelivery:"+ Add Delivery",fuelPriceRef:"Fuel Price Ref",containerData:"Container Data  ZLSDE015",containerTransport:"Container Transport",containerInfo:"Container-specific: Ship To/Sold To/Payer/Bill To party assignments, container list with seal & weight, booking reference.",partyAssignments:"Party Assignments",shipToName:"Ship To Name",soldToName:"Sold To Name",payerName:"Payer Name",billToName:"Bill To Name",bookingRef:"Booking Ref.",shippingLine:"Shipping Line",vesselVoyage:"Vessel / Voyage",noContainers:"No. of Containers",containerList:"Container List",containerNo:"Container No.",size:"Size",sealNo:"Seal No.",weight:"Weight",tare:"Tare",vgm:"VGM",loaded:"Loaded",addContainer:"+ Add Container",carCarrierData:"Car Carrier Data  ZLSDE012",scaCarCarrier:"SCA Car Carrier",scaInfo:"SCA Car Carrier: Vehicle data (VIN/Model/Engine/Color), yard/checkpoint, position layout, calling no., transport fee & collection status.",shipmentParams:"Shipment Parameters",yardNo:"Yard No.",transType:"Trans. Type",callingNo:"Calling No.",groupNoTrip:"Group No. / Trip",transportFee:"Transport Fee",tripPay:"Trip Pay",shipType:"Ship Type",brokenMiles:"Broken Miles",brokenMilesNote:"If checked, validates with broken miles criteria (config 004, 005)",positionLayout:"Position Layout",carCarrier11:"Car Carrier  11 Positions",upperDeck:"Upper Deck",lowerDeck:"Lower Deck",loadedSlots:"Loaded",slots:"slots",emptySlot:"Empty",vehicleData:"Vehicle Data",totalVehicles:"Total Vehicles",shipToDestinations:"Ship To (Destinations)",soldToLabel:"Sold To",collectionFlag:"Collection Flag",soSettlementReady:"SO. Settlement Ready",transportFeeSection:"7. Transport Fee & Trip Pay",statusLabel:"Status",newStatus:"New",fosLabel:"FOs",totalQty:"Total Qty",cancel:"Cancel",saveDraft:"Save Draft",createAndDispatch:"Create & Dispatch",saveChanges:"Save Changes",dispatch:"Dispatch",billToCode:"Bill To Code",driverRole1:"* Driver 1",driverRole2:"Driver 2",driverRole3:"Driver 3",driverRole4:"Driver 4",helperRole1:"Helper 1",helperRole2:"Helper 2",poNo:"PO No.",ticketNo:"Ticket Document No.",ticketDate:"Ticket Document Date",ngvReceiveDate:"Receive Date/Time",ngvRefDate:"Ref. Date/Time",ngvDispatchDate:"Dispatch Date/Time",ngvRefNo:"Ref No.",ngvCustNotify:"Customer Notify Date/Time",ngvCustPSI:"Customer PSI",ngvPairedVehicle:"Paired Vehicle",ngvSentFrom:"Sent From",ngvCustOrder:"Customer Order",ngvBrokenTubeDate:"Broken Tube Date/Time",ngvRemark:"Remark",returnTruck:"Return Truck",notReturnTruck:"Not Return Truck"},truckSearch:{title:"Search Truck / Vehicle",truckPlate:"Truck Plate",trailer:"Trailer",vehicleNo:"Vehicle No.",available:"Available",inUse:"In Use",select:"Select",noTrucksFound:"No trucks found"},fleetSuggest:{title:"Fleet Suggest  Available Trucks",confirmSelection:"Confirm Selection",showingTrucks:"Showing trucks for",noAvailableTrucks:"No available trucks for",trailer:"Trailer",vehicle:"Vehicle",type:"Type",capacity:"Capacity",location:"Location",last:"Last"},employeeSearch:{title:"Employee Search",intern:"Intern",noEmployeesFound:"No employees found"},stageSwap:{title:"Stage Order Changed",confirmSearchRoute:"Confirm & Search Route",warning:"Stage order has been changed. System will auto-search for matching route.",swapStages:"will be swapped with Stage",dummyRouteInfo:"If no matching route found, a <strong>dummy route</strong> will be created. Distance will be recalculated from route detail master."},columnSettings:{title:"Column Settings",subtitle:"Show/Hide columns",visible:"visible",showAll:"Show All",hideAll:"Hide All",close:"Close",apply:"Apply"},cashAdvanceModule:{expenseFuelParking:"Expense, Fuel & Parking Management",moduleDescription:"Manage driver cash advances and trip expenses across all shipments. Track spending, reconcile fleet cards, and review parking costs.",crossShipmentInfo:"This module provides a cross-shipment overview of all cash-advance related transactions. For per-shipment editing, use the Report-In module.",expenses:"Expenses",fuelEntries:"Fuel Entries",parking:"Parking",pendingReview:"Pending Review",totalLiters:"Total Liters",shipments:"Shipments"},expenseManager:{tolls:"Tolls",meals:"Meals",overnight:"Overnight",other:"Other",total:"Total",receipts:"Receipts",allTypes:"All Types",allStatus:"All Status",allShipments:"All Shipments",addExpense:"+ Add Expense",exportCSV:"Export CSV",editExpense:"Edit Expense",addNewExpense:"Add New Expense",shipment:"Shipment",type:"Type",description:"Description",payType:"Pay Type",amount:"Amount",date:"Date",hasReceipt:"Has Receipt",select:"Select...",noExpensesMatch:"No expenses match the current filters.",showingOf:"Showing {0} of {1} expenses"},fuelManager:{totalLiters:"Total Liters",totalCost:"Total Cost",avgPrice:"Avg Price/L",kmPerLiter:"km/Liter",fullFills:"Full Fills",partialFills:"Partial Fills",fleetCardReconciliation:"Fleet Card Reconciliation",fills:"Fills",liters:"Liters",cost:"Cost",allFuelTypes:"All Fuel Types",allShipments:"All Shipments",addFuelEntry:"+ Add Fuel Entry",exportCSV:"Export CSV",editFuelEntry:"Edit Fuel Entry",addNewFuelEntry:"Add New Fuel Entry",shipment:"Shipment",fillType:"Fill Type",station:"Station",fuelType:"Fuel Type",pricePerLiter:"Price/Liter",milesBefore:"Miles Before",milesAfter:"Miles After",fill:"Fill",kmDriven:"km Driven",select:"Select...",noFuelMatch:"No fuel entries match the current filters.",showingOf:"Showing {0} of {1} fuel entries"},parkingManager:{totalEntries:"Total Entries",totalHours:"Total Hours",totalCost:"Total Cost",paidStops:"Paid Stops",freeStops:"Free Stops",summaryByLocation:"Summary by Location Type",summaryByStage:"Summary by Stage",stops:"stops",allPlaceTypes:"All Place Types",allShipments:"All Shipments",addParkingEntry:"+ Add Parking Entry",exportCSV:"Export CSV",editParkingEntry:"Edit Parking Entry",addNewParkingEntry:"Add New Parking Entry",shipment:"Shipment",stage:"Stage",location:"Location",placeType:"Place Type",start:"Start",end:"End",reason:"Reason",amount:"Amount",autoCalculatedDuration:"Auto-calculated duration",noParkingMatch:"No parking entries match the current filters.",showingOf:"Showing {0} of {1} parking entries",free:"Free"},editDraft:{title:"Create Freight Order  Review Extracted Data",ocrConfidence:"OCR Extraction Confidence",reviewFields:"Review and edit extracted fields below",buProduct:"Business Unit & Product Type",fromUpload:"(from upload selection)",customerInfo:"Customer Information",routeAddresses:"Route & Addresses",scheduleCargo:"Schedule & Cargo",saveAsDraft:"Save as Draft",confirmCreateFO:"Confirm & Create Freight Order",savedToDraft:"Changes saved to draft!",requiredFields:"Please fill in required fields: Customer Name and Route",productCargo:"Product & Cargo Details",orderTotal:"Order Total",deliveryLocations:"Delivery Locations (Ship-To)",addShipTo:"+ Add Ship-To",primaryDelivery:"Primary delivery",productsVolumes:"Products & Volumes",orderInfo:"Order Information",truckDriverNote:"Truck & driver assignment will be done in Create Shipment after this order is confirmed."},manualEntry:{title:"Create Manual Freight Order",subtitle:"Enter order details for phone, walk-in, or non-digital orders",buServiceType:"Business Unit & Service Type",select:" Select ",createOrder:"Create Order"},tmsModal:{title:"TMS API  Fetch Orders",subtitle:"Connect to external TMS system to retrieve pending orders",apiInfo:"API will fetch new orders from the connected TMS system and create Freight Orders automatically.",tmsSystem:"TMS System",dateRange:"Date Range",buFilter:"Business Unit Filter",fetching:"Fetching...",fetchFromTMS:"Fetch from TMS",foundOrders:"Found {0} new orders from TMS. Ready to import to review queue.",importOrders:"Import {0} Orders"},uploadModal:{title:"Upload Customer Documents",subtitle:"Extract freight orders from PDF, Excel, or Email",selectType:"Select Type",uploadFile:"Upload File",reviewDrafts:"Review Drafts",company:"Company (Business Unit)",productType:"Product Type",selectCompany:" Select Company ",selectProductType:" Select Product Type ",whySelect:"Why select Company & Product Type first?",whySelectDesc:"Different product types have different data fields. The OCR engine uses this to extract the correct information.",dropFiles:"Drop files here or click to upload",fileFormats:"PDF, XLSX, CSV  Multiple files  Max 10MB each",runDemo:"Run Demo with Sample",processing:"Processing documents...",selectAll:"Select All",selected:"selected",uploadMore:"Upload More",confirmSelected:"Confirm Selected",next:"Next",upload:"Upload"}},th:{app:{title:"IntelliCarrier",subtitle:"",version:"v2.0  SC Group"},modules:{freightOrders:"",shipments:"",reportIn:"",settlement:""},freightOrders:{pageTitle:"",pageSubtitle:" PDF/OCR, Email RPA, TMS API,   Excel",allOrders:"",noDocument:" ()",trackCockpit:"",filters:{allBU:"",allSources:""},newFO:"+ ",export:"",kpi:{total:"",pendingReview:"",open:"",shipmentCreated:"",dispatched:"",reportIn:"",closed:"",allSources:"",needsValidation:"",createShipmentSub:"",readyDispatch:"",reportInPending:"",tripCompleted:""},table:{foId:"",source:"",bu:"",customer:"",route:"",productType:"",pickupDate:"",status:"",actions:"",shipment:"",stage:"",soldTo:"",shipTo:"",billingQty:"",billingDist:"",canGas:"",soNumber:" SO",report:"",soType:" SO",sapStatus:" SAP",rowsStamped:""},actions:{review:"",confirmFO:"",createShipment:"",dispatch:"",reportIn:"",close:"",edit:"",view:""},review:{title:"",verifyData:"",ocrConfidence:" OCR",extractedData:" / ",originalDocument:"",downloadOriginal:"",reviewChecklist:"",markReviewed:"",checklistItems:{customer:"",route:" WBS ",cargo:"",dates:"",bu:"",instructions:""}},detail:{orderInfo:"",customersShipTo:" / ",schedule:"",specialInstructions:"",readyToCreateShipment:"",readyDescription:" /",dispatchDescription:" ",shipmentCreatedReady:"  ",dispatched:""},channels:{selectBU:"",selectProduct:"",availableChannels:"",excel:" Excel",pdf:" PDF / OCR",tms:"TMS API",email:"Email RPA",line:" LINE",form:"",manual:"",forecast:""},upload:{step1Title:"",step2Title:"",step3Title:"",dragDrop:" ",processing:"...",confirmSelected:"",uploadMore:""}},shipments:{pageTitle:"",pageSubtitle:" PDF/OCR, Email RPA, TMS API, ...",newShipment:"+ ",export:"",kpi:{total:"",open:"",dispatched:"",reportIn:"",completed:""},table:{shipmentNo:"",source:"",product:"",bu:"",route:"",customer:"",truck:"",driver:"",qty:"",created:"",status:"",actions:""},actions:{edit:"",dispatch:"",reportIn:"",view:""},form:{orderSummary:"",shipmentHeader:"",vehicleAssignment:"",driversHelpers:"",stagesRoutePlan:"",transportFee:""},detail:{shipmentInfo:"",customersShipTo:" / ",schedule:"",specialInstructions:"",readyToDispatch:"",dispatchNow:"",dispatched:"",dispatchDescription:"  Fleet Cockpit",fleet:"",reportIn:""},channels:{selectBU:"",selectProduct:"",availableChannels:"",excel:" Excel",pdf:" PDF / OCR",tms:"TMS API",email:"Email RPA",line:" LINE",form:"",manual:"",forecast:""},upload:{step1Title:"",step2Title:"",step3Title:"",dragDrop:" ",processing:"...",confirmSelected:"",uploadMore:""}},reportIn:{pageTitle:"   ()",autoReady:"",formTitle:"",submitSuccess:"",draftSaved:"",approveSuccess:" ",rejectSuccess:" ",status:{draftInProgress:"",awaitingEntry:""},filters:{allTypes:"",allBU:""},refresh:"",kpi:{awaiting:"",inProgress:"",pendingReview:"",completed:"",rejected:""},tabs:{awaiting:"",draft:"",pendingReview:"",rejected:"",completed:""},table:{shipmentNo:"",type:"",route:"",driverPlate:" / ",customer:"",dispatchDate:"",stageProgress:"",status:"",actions:""},form:{vehicleInfo:"",stages:"",expenses:"",fuel:"",parking:"",reviewClose:"",summaryStrip:{route:"",driver:"",vehicle:"",customer:"",lastTruckMiles:""},milesConfig:"",validateSave:"",simulateMobile:"",addExpense:"+ ",addFuel:"+ ",addParking:"+ ",cashAdvance:"",stageSummary:"",costSummary:"",grandTotal:""},vehicleInfo:{sectionHeader:"",driver:"",driverId:"",vehiclePlate:"",trailer:"",trailerPlaceholder:"",vehicleType:"",vehicleAge:"",odometerStart:"",odometerEnd:"",lastTruckMiles:"",milesSource:"",manual:""},validation:{passed:"  ",failed:"  ",rule001:":  vs ",rule002:":  vs ",rule003:"",rule004:" Dummy",rule005:""}},settlement:{pageTitle:"",flowDescription:"   SO   SAP   SO ",tabs:{awaiting:"",reports:"",reportDetail:"",salesOrders:""},kpi:{awaiting:"",lpgAwaiting:"LPG ",ngvAwaiting:"NGV ",reportsCreated:"",soPosted:"SO "},flowSteps:{awaiting:"",createReport:"",displayRecheck:"",createSO:" SO",postToSAP:" SAP",stampSO:" SO",completed:""},infoNote:" LPG  NGV  ",createReport:"",soSplitRules:{lpg:"1 SO  sold-to; / =  SO",ngv:"200 .  SO #1 | >200 .  SO #2 ( 2 SO)"},table:{reportNo:"",product:"",period:"",site:"",rows:"",total:"",status:"",soNo:" SO",actions:"",shipment:"",stage:"",soldTo:"",shipTo:"",billingQty:"",billingDist:"",canGas:"",soNumber:" SO",report:"",soType:" SO",sapStatus:" SAP",rowsStamped:"",date:"",customerDoc:"",ticketQty:"",gasUnload:""},awaiting:{customerStageNote:" ship-to "},gasUnload:{can:"",cannot:"",canUnload:"",cannotUnload:"",cannotShort:""},columnSettings:"",exportExcel:" Excel",reportDetail:{selectReport:"",backToReports:"",selectedRows:"",ngvRate:" NGV",ngvRateUnit:"/..",soSplitRules:" SO",rows:"",colsVisible:"",soStampedBack:" SO "},splitRules:{lpg:{rule1:"1 SO  Sold-to",rule2:"/  SO ",rule3:" SO  ship-to  sold-to + "},ngv:{rule2:" 2 SO  ()",rule3:"NGV "}},createModal:{subtitle:"",site:"",fromDate:"",toDate:"",product:"",route:"",wbs:"WBS",wbsPlaceholder:" WBS-001",ngvRatePlaceholder:" NGV",selectShipTos:" Ship-to ",rowsFound:"",selected:"",shipToName:" Ship-to",volume:"",noRowsMatch:"",createButton:"  "},soDetail:{title:"",soPrefix:"SO",soNumber:" SO",report:"",product:"",soldTo:"",soType:" SO",sapStatus:" SAP",rowsStamped:"",custDoc:"",quantity:""},status:{posted:"",pending:""},salesOrders:{empty:""},postToSAP:{button:" SAP",postAll:" SAP ",posting:"...",success:" SAP !",pendingOrders:"SO  SAP",postedOrders:" SAP ",readyTitle:" SAP",readyDesc:" SAP"},createSalesOrder:""},common:{save:"",cancel:"",create:"",confirm:"",delete:"",search:"",export:"",edit:"",close:"",view:"",back:"",backToList:"",all:"",yes:"",no:"",next:"",remove:"",clear:"",total:"",saveDraft:"",submitForReview:"",reject:"",approveClose:"",createShipment:"",createDispatch:"",saveChanges:"",dispatch:"",selectAll:"",noDataFound:"",loading:"...",status:{label:"",open:"",dispatched:"",reportIn:"",completed:"",pending:"",draft:"",review:"",rejected:"",awaiting:"",inReport:"",settled:"",pendingSO:" SO",soPosted:" SO "},products:{LPG:"LPG",CHEM:"",FUEL:"/WO",NGV:"NGV",CONTAINER:"",SCA:""},sources:{pdf:" PDF",email:"Email RPA",tms:"TMS API",manual:"",excel:" Excel",forecast:""}},stage:{chip:{stage:""},nav:{next:""},type:{first:" ()",load:" ()",cust:" ()",last:" ()",hub:" ()"},dataSource:{manual:"",mobile:""},productDesc:{LPG:" LPG - ",CHEM:" - ",FUEL:"/ - ",NGV:" Tube Trailer NGV - ",CONTAINER:" -  TEU",SCA:" - "},form:{dataSource:"",origin:"",destination:"",stdDistance:"",departure:"",arrival:"",milesStart:"",milesEnd:"",gpsDistance:" GPS ()",actualDistance:""},section:{locationDistance:"",dateTime:"",mileage:""},validation:{passed:"",failed:"",rule:"",bypassActive:" - "},loading:{sectionHeader:"",weightBefore:"",weightAfter:""},customer:{sectionHeader:"",ticketInfo:"",poNo:" PO",poPlaceholder:"",quantity:"",timing:"",remarks:"",remarksPlaceholder:"..."},fields:{ticketDocNo:"",ticketDocDate:"",faceQty:"",actualQty:"",weightBeforeUnload:".",weightAfterUnload:".",waitDiscount:" (Wait Discount)",cannotUnload:" (Cannot Unload)",planArrival:"Plan ",customerPlanTime:"",waitStartTime:"",unloadStartTime:""},actions:{simulateMobile:"",clear:"",checkMiles:"",saveStage:""}},expense:{kpi:{tolls:"",meals:"",overnight:"",other:"",total:""},infoStrip:{title:"",body:"    "},table:{type:"",description:" / ",payType:"",amount:"",receipt:"",status:"",descriptionPlaceholder:"...",totalExpenses:""},cashAdvance:{cashAdvance:"",totalSpent:"",balance:"",receipts:""}},fuel:{infoStrip:{title:"",body:" "},header:{vehicle:"",lastMileage:"",fuelPrice:"",fleetCard:""},entry:{title:"",remove:""},form:{fillType:"",station:"",stationPlaceholder:"",fuelType:"",liters:"",amount:" ()",mileageBefore:"",mileageAfter:"",consumption:" ()",fleetCardNo:"",naCash:" ()",receipt:"",receiptAttached:"",noReceipt:""},total:{liters:""}},parking:{placeType:{warehouse:"",factory:"",port:"",depot:"",other:""},infoStrip:{title:"",body:"  "},table:{stage:"",location:" / ",type:"",start:"",end:"",duration:"",reason:"",amount:"",stagePrefix:"",locationPlaceholder:"...",reasonPlaceholder:"..."},summary:{entry:"",entries:"",totalParking:""}},review:{summary:{totalStdDist:"",totalActual:""},table:{stage:"",from:"",to:"",type:"",stdDist:"",milesStart:"",milesEnd:"",actualDist:"",variance:"",status:"",totals:""},costs:{category:"",amount:"",expenses:" (   )",fuel:"",parking:""},stats:{completion:"",distanceVariance:"",costPerKm:"/.",receiptsRatio:""}},shipmentDetail:{panel:{shipmentInfo:"",vehicleCrew:"",scheduleFees:"",customersShipTo:" / ",specialInstructions:""},fields:{shipmentNo:"",source:"",product:"",businessUnit:"",site:"",route:"",shipmentType:"",totalQty:"",created:"",ocrConfidence:" OCR",fos:"",shipToCode:"",truckPlate:"",trailer:"",vehicleNo:"",truckType:"",driver1:" 1",driver1Id:" 1",stagesRoutePlan:"",pickupDate:"",deliveryDate:"",totalWeight:"",plannedDate:"",contractWbs:"/WBS",transportFee:"",tripPay:"",brokenMiles:""},ngv:{title:" NGV (ZLSDE006)",desc:"Tube Trailer "},fuel:{title:"/WO (ZLSDE017)",desc:""},container:{title:" (ZLSDE015)",desc:""},sca:{title:" (ZLSDE012)",desc:""}},cashAdvance:{pageTitle:"    ",summary:"",balancesByShipment:"",tabs:{expenses:"",fuel:"",parking:""},tolls:"",meals:"",overnight:"",other:"",total:"",receipts:"",totalAdvanced:"",totalSpent:"",remaining:"",advanced:"",spent:"",pendingReview:"",totalLiters:"",shipments:"",fuelCost:"",fuelEntries:"",allTypes:"",allStatus:"",allShipments:"",addExpense:"+ ",addFuel:"+ ",addParking:"+ ",exportCSV:" CSV",addNewExpense:"",editExpense:"",addNewFuel:"",editFuel:"",addNewParking:"",editParking:"",table:{shipmentNo:"",driver:"",type:"",description:"",payType:"",amount:"",receipt:"",status:"",date:"",station:"",fuelType:"",liters:"",pricePerLiter:"/",totalCost:"",location:"",placeType:"",start:"",end:"",reason:"",duration:"",plate:"",fillType:"",milesBefore:"",milesAfter:"",fleetCard:""},formLabels:{shipment:"",type:"",description:"",payType:"",amount:"",date:"",hasReceipt:"",station:"",fuelType:"",liters:"",pricePerLiter:"/",plate:"",fillType:"",milesBefore:"",milesAfter:"",fleetCard:"",location:"",placeType:"",startTime:"",endTime:"",reason:"",stage:""}},shipmentForm:{createShipment:" Shipment",editShipment:" Shipment",consolidateDesc:" Freight Order  & ",backToFOList:" FO",selectBUProduct:"1.  & ",businessUnit:"",productType:"",siteOptional:" ()",selectBU:"  BU ",selectProduct:"  ",allSites:"",selectedFO:"2. Freight Order  ()",foSelected:"FO ",consolidateInfo:" FO  Shipment   FO ",buSite:"BU / ",route:"",customer:"",shipTo:"",quantity:"",plannedDate:"",contractWBS:"/WBS",approved:"",matchingFOs:"FO ",available:"",shipmentHeader:"3.  Shipment",shipmentNo:" Shipment",shipmentType:" Shipment",shippingType:"",contractDate:"",plannedDateTime:"",customRoute:"  ",stage1Origin:"Stage 1 ()",stage2Loading:"Stage 2 (/)",stage3Transfer:"Stage 3 ()",stage4Return:"Stage 4 ()",createDummyRoute:"",additionalFields:" ()",vehicleAssignment:"4. ",vehicleInfo:" &    <strong></strong> ",truckPlate:"",trailerPlate:"",vehicleNoLabel:"",truckType:"",search:"",fleetSuggest:"",driversHelpers:"5.  & ",driverCheckInfo:" (zlsde01_t006)  Intern = ",role:"",employeeId:"",name:"",phone:"",intern:"",license:"",validLicense:"",expiredLicense:"",stagesRoutePlan:"6. Stages & ",stageLabel:"Stage",depNo:"",departure:"",destNo:"",destination:"",type:"",plannedArrival:"",plannedDeparture:"",distance:"",actions:"",addStage:"+  Stage",totalDistance:"",stagesInfo:"Stages  Route Master  Stage   Route Detail Master",ngvData:" NGV  ZLSDE006",ngvTubeTrailer:"NGV Tube Trailer",ngvInfo:" NGV:  (/), PSI ,  Ref No. ",ngvTubeData:" NGV",qualityReadings:"",normalStatus:"",fuelWOData:" Fuel/WO  ZLSDE017",fuelWOBadge:"",fuelWOInfo:" Fuel/WO: ,  Comp  Stage Comp 14  & ",shipmentCustomer:" Shipment",custName:"",custCode:"",customerDelivery:"",addDelivery:"+ ",fuelPriceRef:"",containerData:" Container  ZLSDE015",containerTransport:" Container",containerInfo:" Container: Ship To/Sold To/Payer/Bill To,  & ,  Booking",partyAssignments:"",shipToName:"",soldToName:"",payerName:"",billToName:"",bookingRef:" Booking",shippingLine:"",vesselVoyage:" / ",noContainers:"",containerList:"",containerNo:"",size:"",sealNo:"",weight:"",tare:"",vgm:"VGM",loaded:"",addContainer:"+ ",carCarrierData:" Car Carrier  ZLSDE012",scaCarCarrier:"SCA Car Carrier",scaInfo:"SCA Car Carrier:  (VIN///), Yard/Checkpoint, Layout ,  Calling,  & ",shipmentParams:" Shipment",yardNo:" Yard",transType:"",callingNo:" Calling",groupNoTrip:" / ",transportFee:"",tripPay:"",shipType:"",brokenMiles:"",brokenMilesNote:"  (config 004, 005)",positionLayout:"",carCarrier11:"Car Carrier  11 ",upperDeck:"",lowerDeck:"",loadedSlots:"",slots:"",emptySlot:"",vehicleData:"",totalVehicles:"",shipToDestinations:" ()",soldToLabel:"",collectionFlag:"",soSettlementReady:"SO ",transportFeeSection:"7.  & ",statusLabel:"",newStatus:"",fosLabel:"FO",totalQty:"",cancel:"",saveDraft:"",createAndDispatch:" & ",saveChanges:"",dispatch:"",billToCode:"",driverRole1:"* . 1",driverRole2:". 2",driverRole3:". 3",driverRole4:". 4",helperRole1:". 1 (Helper 1)",helperRole2:". 2 (Helper 2)",poNo:" (PO No.)",ticketNo:"",ticketDate:"",ngvReceiveDate:"/ ",ngvRefDate:"/ Ref.Date",ngvDispatchDate:"/  (Dispatch)",ngvRefNo:"Ref No.",ngvCustNotify:"/ ",ngvCustPSI:"PSI ",ngvPairedVehicle:" (Paired Vehicle)",ngvSentFrom:" (Sent From)",ngvCustOrder:"Customer Order",ngvBrokenTubeDate:"/ ",ngvRemark:"",returnTruck:"",notReturnTruck:""},truckSearch:{title:" / ",truckPlate:"",trailer:"",vehicleNo:"",available:"",inUse:"",select:"",noTrucksFound:""},fleetSuggest:{title:"  ",confirmSelection:"",showingTrucks:"",noAvailableTrucks:"",trailer:"",vehicle:"",type:"",capacity:"",location:"",last:""},employeeSearch:{title:"",intern:"",noEmployeesFound:""},stageSwap:{title:" Stage ",confirmSearchRoute:" & ",warning:" Stage  ",swapStages:" Stage",dummyRouteInfo:"  <strong></strong>   Route Detail Master"},columnSettings:{title:"",subtitle:"/",visible:"",showAll:"",hideAll:"",close:"",apply:""},cashAdvanceModule:{expenseFuelParking:"  & ",moduleDescription:"   ",crossShipmentInfo:" Shipment   Report-In",expenses:"",fuelEntries:"",parking:"",pendingReview:"",totalLiters:"",shipments:"Shipments"},expenseManager:{tolls:"",meals:"",overnight:"",other:"",total:"",receipts:"",allTypes:"",allStatus:"",allShipments:" Shipment",addExpense:"+ ",exportCSV:" CSV",editExpense:"",addNewExpense:"",shipment:"Shipment",type:"",description:"",payType:"",amount:"",date:"",hasReceipt:"",select:"...",noExpensesMatch:"",showingOf:" {0}  {1} "},fuelManager:{totalLiters:"",totalCost:"",avgPrice:"/",kmPerLiter:"./",fullFills:"",partialFills:"",fleetCardReconciliation:"",fills:"",liters:"",cost:"",allFuelTypes:"",allShipments:" Shipment",addFuelEntry:"+ ",exportCSV:" CSV",editFuelEntry:"",addNewFuelEntry:"",shipment:"Shipment",fillType:"",station:"",fuelType:"",pricePerLiter:"/",milesBefore:"",milesAfter:"",fill:"",kmDriven:". ",select:"...",noFuelMatch:"",showingOf:" {0}  {1} "},parkingManager:{totalEntries:"",totalHours:"",totalCost:"",paidStops:"",freeStops:"",summaryByLocation:"",summaryByStage:" Stage",stops:"",allPlaceTypes:"",allShipments:" Shipment",addParkingEntry:"+ ",exportCSV:" CSV",editParkingEntry:"",addNewParkingEntry:"",shipment:"Shipment",stage:"Stage",location:"",placeType:"",start:"",end:"",reason:"",amount:"",autoCalculatedDuration:"",noParkingMatch:"",showingOf:" {0}  {1} ",free:""},editDraft:{title:" Freight Order  ",ocrConfidence:" OCR",reviewFields:"",buProduct:" & ",fromUpload:"()",customerInfo:"",routeAddresses:" & ",scheduleCargo:" & ",saveAsDraft:"",confirmCreateFO:" &  Freight Order",savedToDraft:"!",requiredFields:":  ",productCargo:"",orderTotal:"",deliveryLocations:" (Ship-To)",addShipTo:"+  Ship-To",primaryDelivery:"",productsVolumes:" & ",orderInfo:"",truckDriverNote:" &  Shipment "},manualEntry:{title:" Freight Order ",subtitle:" walk-in ",buServiceType:" & ",select:"  ",createOrder:""},tmsModal:{title:"TMS API  ",subtitle:" TMS ",apiInfo:"API  TMS  Freight Order ",tmsSystem:" TMS",dateRange:"",buFilter:"",fetching:"...",fetchFromTMS:" TMS",foundOrders:" {0}  TMS ",importOrders:" {0} "},uploadModal:{title:"",subtitle:" Freight Order  PDF, Excel  Email",selectType:"",uploadFile:"",reviewDrafts:"",company:" ()",productType:"",selectCompany:"  ",selectProductType:"  ",whySelect:"?",whySelectDesc:"  OCR ",dropFiles:"",fileFormats:"PDF, XLSX, CSV     10MB/",runDemo:"",processing:"...",selectAll:"",selected:"",uploadMore:"",confirmSelected:"",next:"",upload:""}}},Nd=F.createContext();function dd(a,d){if(!a||!d)return;const o=d.split(".");let u=a;for(const f of o){if(u==null||typeof u!="object")return;u=u[f]}return u}function Dp({children:a}){const[d,o]=F.useState(()=>{try{return localStorage.getItem("intellicarrier-lang")||"en"}catch{return"en"}}),u=F.useCallback(()=>{o(c=>{const C=c==="en"?"th":"en";try{localStorage.setItem("intellicarrier-lang",C)}catch{}return C})},[]),f=F.useCallback(c=>{const C=dd(cd[d],c);if(C!==void 0&&typeof C=="string")return C;const y=dd(cd.en,c);return y!==void 0&&typeof y=="string"?y:c},[d]);return t.jsx(Nd.Provider,{value:{language:d,t:f,toggleLanguage:u},children:a})}function De(){const a=F.useContext(Nd);if(!a)throw new Error("useLanguage must be used within LanguageProvider");return a}const jd={LPG:{icon:"",badge:"badge-lpg",label:"LPG",shipType:"0602",unit:"kg",truckType:"LPG Tanker"},CHEM:{icon:"",badge:"badge-chem",label:"Chemical",shipType:"0603",unit:"L",truckType:"Chemical Tank"},FUEL:{icon:"",badge:"badge-fuel",label:"Fuel/WO",shipType:"0605",unit:"L",truckType:"Oil Tanker"},NGV:{icon:"",badge:"badge-ngv",label:"NGV",shipType:"0601",unit:"m",truckType:"NGV Tube Trailer"},CONTAINER:{icon:"",badge:"badge-container",label:"Container",shipType:"ML",unit:"TEU",truckType:"Container Chassis"},SCA:{icon:"",badge:"badge-sca",label:"Car Carrier",shipType:"00",unit:"",truckType:"Car Carrier"},GENERAL:{icon:"",badge:"badge-general",label:"General Cargo",shipType:"0610",unit:"pcs",truckType:"General"},TUG:{icon:"",badge:"badge-tug",label:"Tug Service",shipType:"TUG",unit:"Job",truckType:"Tug Boat"}},Ep={"001":50,"002":10,"003":.15,"004":100,"005":!0},Rp={"PDF Upload":{icon:"",color:"bg-blue-100 text-blue-700"},"Email RPA":{icon:"",color:"bg-purple-100 text-purple-700"},"TMS API":{icon:"",color:"bg-green-100 text-green-700"},"Manual Entry":{icon:"",color:"bg-gray-100 text-gray-700"},"Excel Upload":{icon:"",color:"bg-emerald-100 text-emerald-700"},"Forecast Upload":{icon:"",color:"bg-cyan-100 text-cyan-700"}},Lp={OPEN:{label:"Open",color:"bg-yellow-100 text-yellow-800",dot:"bg-yellow-400"},DISPATCHED:{label:"Dispatched",color:"bg-blue-100 text-blue-800",dot:"bg-blue-400"},REPORT_IN:{label:"Report-In",color:"bg-orange-100 text-orange-800",dot:"bg-orange-400"},COMPLETED:{label:"Completed",color:"bg-green-100 text-green-800",dot:"bg-green-400"}},Mp=[{key:"no",label:"No.",labelTh:"",show:!0},{key:"shipment",label:"Shipment",labelTh:"",show:!0},{key:"stage",label:"Stage",labelTh:"Stage",show:!0},{key:"soldTo",label:"Sold-To",labelTh:"",show:!0},{key:"soldToName",label:"Sold-To Name",labelTh:"",show:!0},{key:"shipTo",label:"Ship-To",labelTh:"",show:!0},{key:"shipToName",label:"Ship-To Name",labelTh:"",show:!0},{key:"custDoc",label:"Cust. Doc",labelTh:"",show:!0},{key:"docDate",label:"Doc Date",labelTh:"",show:!0},{key:"ticketQty",label:"Ticket Qty",labelTh:"",show:!0},{key:"actualQty",label:"Actual Qty",labelTh:"",show:!0},{key:"billingQty",label:"Billing Qty",labelTh:"",show:!0},{key:"billingDate",label:"Billing Date",labelTh:"",show:!0},{key:"vehicleType",label:"Vehicle Type",labelTh:"",show:!0},{key:"vehicleAge",label:"Vehicle Age",labelTh:"",show:!0},{key:"billingDist",label:"Billing Dist (km)",labelTh:" (.)",show:!0},{key:"actualDist",label:"Actual Dist (km)",labelTh:" (.)",show:!0},{key:"fuelPrice",label:"Fuel Price",labelTh:"",show:!1},{key:"fuel025",label:"Fuel 0.25",labelTh:" 0.25",show:!1},{key:"fuel050",label:"Fuel 0.50",labelTh:" 0.50",show:!1},{key:"fuel100",label:"Fuel 1.00",labelTh:" 1.00",show:!1},{key:"tripNo",label:"Trip No.",labelTh:"",show:!0},{key:"cannotUnload",label:"Cannot Unload",labelTh:"",show:!0},{key:"serviceCode",label:"Service Code",labelTh:"",show:!1},{key:"wbs",label:"WBS",labelTh:"WBS",show:!1},{key:"route",label:"Route",labelTh:"",show:!1},{key:"plate",label:"Plate No.",labelTh:"",show:!1},{key:"trailer",label:"Trailer",labelTh:"",show:!1},{key:"driver",label:"Driver",labelTh:"",show:!1},{key:"qtyDiff",label:"Qty Diff",labelTh:"",show:!1},{key:"distDiff",label:"Dist Diff",labelTh:"",show:!1},{key:"ratePerKm",label:"Rate/km",labelTh:".",show:!1},{key:"totalFreight",label:"Total Freight",labelTh:"",show:!1},{key:"fuelSurcharge",label:"Fuel Surcharge",labelTh:"",show:!1},{key:"otherCharge",label:"Other Charge",labelTh:"",show:!1},{key:"grandTotal",label:"Grand Total",labelTh:"",show:!1},{key:"soNo",label:"SO No.",labelTh:" SO",show:!0}],Ap=[{key:"no",label:"No.",labelTh:"",show:!0},{key:"shipment",label:"Shipment",labelTh:"",show:!0},{key:"stage",label:"Stage",labelTh:"Stage",show:!0},{key:"soldTo",label:"Sold-To",labelTh:"",show:!0},{key:"soldToName",label:"Sold-To Name",labelTh:"",show:!0},{key:"shipTo",label:"Ship-To",labelTh:"",show:!0},{key:"shipToName",label:"Ship-To Name",labelTh:"",show:!0},{key:"soShipment",label:"SO Shipment",labelTh:" SO",show:!0},{key:"item",label:"Item",labelTh:"",show:!0},{key:"material",label:"Material",labelTh:"",show:!0},{key:"transportRate",label:"Transport Rate",labelTh:"",show:!0},{key:"distance",label:"Distance (km)",labelTh:" (.)",show:!0},{key:"gasQty",label:"Gas Qty",labelTh:"",show:!0},{key:"stationCost",label:"Station Cost",labelTh:"",show:!0},{key:"totalCost",label:"Total Cost",labelTh:"",show:!0},{key:"distCategory",label:"Dist Category",labelTh:"",show:!0},{key:"rateInput",label:"Rate Input",labelTh:"",show:!0},{key:"soNo",label:"SO No.",labelTh:" SO",show:!0}],Ip=[{id:"R001",code:"010005",name:"Bangkok  Chonburi",routeName:"BTC--BTC",distance:120,stages:[{n:0,type:"first",origin:"",dest:"",stdDist:0},{n:1,type:"load",origin:"",dest:"Laem Chabang",stdDist:120},{n:2,type:"last",origin:"Laem Chabang",dest:"",stdDist:120}]},{id:"R002",code:"010010",name:"Rayong  Saraburi",routeName:"MTP--MTP",distance:230,stages:[{n:0,type:"first",origin:"",dest:"Map Ta Phut",stdDist:0},{n:1,type:"load",origin:"Map Ta Phut",dest:"Wang Muang",stdDist:150},{n:2,type:"customer",origin:"Wang Muang",dest:"Saraburi Depot",stdDist:80},{n:3,type:"last",origin:"Saraburi Depot",dest:"Map Ta Phut",stdDist:230}]},{id:"R003",code:"010015",name:"Bangkok  Nakhon Ratchasima",routeName:"BKK--BKK",distance:260,stages:[{n:0,type:"first",origin:"",dest:"Don Mueang",stdDist:0},{n:1,type:"load",origin:"Don Mueang",dest:"Pak Chong",stdDist:180},{n:2,type:"customer",origin:"Pak Chong",dest:"Korat City",stdDist:80},{n:3,type:"last",origin:"Korat City",dest:"Don Mueang",stdDist:260}]},{id:"R004",code:"010020",name:"Sriracha  Khon Kaen",routeName:"SRC--SRC",distance:480,stages:[{n:0,type:"first",origin:"",dest:"Sriracha Plant",stdDist:0},{n:1,type:"load",origin:"Sriracha Plant",dest:"Nakhon Ratchasima",stdDist:300},{n:2,type:"customer",origin:"Nakhon Ratchasima",dest:"Khon Kaen",stdDist:180},{n:3,type:"last",origin:"Khon Kaen",dest:"Sriracha Plant",stdDist:480}]},{id:"R005",code:"010025",name:"Bangkok  Surat Thani",routeName:"BKK--BKK",distance:640,stages:[{n:0,type:"first",origin:"",dest:"Bangkok Depot",stdDist:0},{n:1,type:"load",origin:"Bangkok Depot",dest:"Hua Hin",stdDist:200},{n:2,type:"customer",origin:"Hua Hin",dest:"Chumphon",stdDist:220},{n:3,type:"customer",origin:"Chumphon",dest:"Surat Thani",stdDist:220},{n:4,type:"last",origin:"Surat Thani",dest:"Bangkok Depot",stdDist:640}]},{id:"R006",code:"099999",name:"Dummy Route",routeName:"DUMMY",distance:0,stages:[{n:0,type:"first",origin:"",dest:"Origin",stdDist:0},{n:1,type:"customer",origin:"Origin",dest:"Destination",stdDist:0},{n:2,type:"last",origin:"Destination",dest:"Origin",stdDist:0}]}],Fp=[{id:"EMP001",name:" ",role:"driver",phone:"081-234-5601",license:"Class 2",intern:!1},{id:"EMP002",name:" ",role:"driver",phone:"081-234-5602",license:"Class 2",intern:!1},{id:"EMP003",name:" ",role:"driver",phone:"081-234-5603",license:"Class 3",intern:!1},{id:"EMP004",name:" ",role:"driver",phone:"081-234-5604",license:"Class 2",intern:!1},{id:"EMP005",name:" ",role:"driver",phone:"081-234-5605",license:"Class 3",intern:!0},{id:"EMP006",name:" ",role:"driver",phone:"081-234-5606",license:"Class 2",intern:!1},{id:"EMP007",name:" ",role:"driver",phone:"081-234-5607",license:"Class 2",intern:!1},{id:"EMP008",name:" ",role:"driver",phone:"081-234-5608",license:"Class 3",intern:!1},{id:"EMP009",name:" ",role:"helper",phone:"081-234-5609",license:null,intern:!1},{id:"EMP010",name:" ",role:"helper",phone:"081-234-5610",license:null,intern:!1},{id:"EMP011",name:" ",role:"helper",phone:"081-234-5611",license:null,intern:!1},{id:"EMP012",name:" ",role:"helper",phone:"081-234-5612",license:null,intern:!0},{id:"EMP013",name:" ",role:"helper",phone:"081-234-5613",license:null,intern:!1},{id:"EMP014",name:" ",role:"driver",phone:"081-234-5614",license:"Class 2",intern:!1},{id:"EMP015",name:" ",role:"helper",phone:"081-234-5615",license:null,intern:!1},{id:"EMP016",name:" ",role:"driver",phone:"081-234-5616",license:"Class 2",intern:!1}],si=[{id:"T001",plate:"1-1234",trailer:"TRL-001",vehicleNo:"V-1001",type:"LPG Tanker",status:"available",product:"LPG",age:3},{id:"T002",plate:"2-5678",trailer:"TRL-002",vehicleNo:"V-1002",type:"LPG Tanker",status:"available",product:"LPG",age:5},{id:"T003",plate:"3-9012",trailer:"TRL-003",vehicleNo:"V-1003",type:"Chemical Tank",status:"available",product:"CHEM",age:2},{id:"T004",plate:"4-3456",trailer:"TRL-004",vehicleNo:"V-1004",type:"Oil Tanker",status:"available",product:"FUEL",age:4},{id:"T005",plate:"5-7890",trailer:"TRL-005",vehicleNo:"V-1005",type:"NGV Tube Trailer",status:"available",product:"NGV",age:1},{id:"T006",plate:"6-2345",trailer:"TRL-006",vehicleNo:"V-1006",type:"NGV Tube Trailer",status:"in_use",product:"NGV",age:6},{id:"T007",plate:"7-6789",trailer:null,vehicleNo:"V-1007",type:"Container Chassis",status:"available",product:"CONTAINER",age:3},{id:"T008",plate:"8-0123",trailer:null,vehicleNo:"V-1008",type:"Car Carrier",status:"available",product:"SCA",age:2}],Op=[{id:"FO-2026-001",status:"PENDING_REVIEW",source:"PDF Upload",sourceIcon:"",bu:"SCC",product:"LPG",customerName:"   ",route:"010005",routeName:"BTC--BTC",pickupDate:"2026-02-03",totalQty:"27,000 kg",ocrConfidence:94.5,created:"04.02.2026",shipmentType:"0602  LPG",productType:"LPG",wbs:"025.SRC.LPG.001"},{id:"FO-2026-002",status:"PENDING_REVIEW",source:"Email RPA",sourceIcon:"",bu:"SCC",product:"NGV",customerName:"PTT Public Co., Ltd.",route:"SRC-LPB",routeName:"SRC--SRC",pickupDate:"2026-02-03",totalQty:"16,000 kg",ocrConfidence:91.2,created:"04.02.2026",shipmentType:"0601  NGV",productType:"NGV",wbs:"025.SRC.NGV.003"},{id:"FO-2026-003",status:"REVIEWED",source:"Email RPA",sourceIcon:"",bu:"SCC",product:"FUEL",customerName:"  ",route:"BCP-EKK",routeName:"BCP--BCP",pickupDate:"2026-02-05",totalQty:"12,000 L",ocrConfidence:96.1,created:"03.02.2026",shipmentType:"0605  Fuel",productType:"Fuel",wbs:"025.BCP.FUEL.030"},{id:"FO-2026-004",status:"OPEN",source:"TMS API",sourceIcon:"",bu:"SCC",product:"CHEM",customerName:"IRPC Public Co., Ltd.",route:"MTP-BKK",routeName:"MTP--MTP",pickupDate:"2026-02-04",totalQty:"28,000 kg",ocrConfidence:null,created:"01.02.2026",shipmentType:"0603  Chemical",productType:"Chemical",wbs:"025.MTP.CHEM.010"},{id:"FO-2026-005",status:"CONFIRMED",source:"Manual Entry",sourceIcon:"",bu:"SCA",product:"SCA",customerName:"Toyota Motor Thailand Co., Ltd.",route:"GTW-LCB",routeName:"GTW--GTW",pickupDate:"2026-02-05",totalQty:"8 ",ocrConfidence:null,created:"30.01.2026",shipmentType:"00  SCA Car",productType:"Car",wbs:"025.GTW.SCA.015"},{id:"FO-2026-006",status:"SHIPMENT_CREATED",source:"Manual Entry",sourceIcon:"",bu:"SCC",product:"CHEM",customerName:"SCG Chemicals Co., Ltd.",route:"RYG-SMK",routeName:"RYG--RYG",pickupDate:"2026-02-06",totalQty:"22,000 kg",ocrConfidence:null,created:"02.02.2026",shipmentType:"0603  Chemical",productType:"Chemical",wbs:"025.RYG.CHEM.015",shipmentId:"SHP-2026-012"},{id:"FO-2026-007",status:"DISPATCHED",source:"Excel Upload",sourceIcon:"",bu:"SCA",product:"SCA",customerName:"Honda Automobile Thailand",route:"AYT-BKK",routeName:"AYT--AYT",pickupDate:"2026-02-04",totalQty:"10 ",ocrConfidence:null,created:"28.01.2026",shipmentType:"00  SCA Car",productType:"Car",wbs:"025.AYT.SCA.020",shipmentId:"SHP-2026-007"},{id:"FO-2026-008",status:"REPORT_IN",source:"Excel Upload",sourceIcon:"",bu:"SCC",product:"NGV",customerName:" . ",route:"SRC-KKN",routeName:"SRC--SRC",pickupDate:"2026-02-08",totalQty:"16,000 kg",ocrConfidence:null,created:"31.01.2026",shipmentType:"0601  NGV",productType:"NGV",wbs:"025.SRC.NGV.020",shipmentId:"SHP-2026-009"},{id:"FO-2026-009",status:"CLOSED",source:"Manual Entry",sourceIcon:"",bu:"SCA",product:"SCA",customerName:"Isuzu Motors (Thailand) Co., Ltd.",route:"GTW-HYI",routeName:"GTW--GTW",pickupDate:"2026-02-09",totalQty:"6 ",ocrConfidence:null,created:"25.01.2026",shipmentType:"00  SCA Car",productType:"Car",wbs:"025.GTW.SCA.025"},{id:"FO-2026-010",status:"REVISION_REQUIRED",source:"PDF Upload",sourceIcon:"",bu:"SCC",product:"CHEM",customerName:"  ",route:"SRC-RYG",routeName:"SRC--SRC",pickupDate:"2026-02-06",totalQty:"25,000 L",ocrConfidence:78.5,created:"02.02.2026",shipmentType:"0603  Chemical",productType:"Chemical",wbs:"025.SRC.CHEM.020",approverComments:"OCR confidence low. Re-verify quantity and UN number."}],_p=[{id:"SHP-2026-001",shipmentNo:"SHP-2026-001",status:"OPEN",product:"LPG",bu:"SCC",site:"Sriracha",source:"PDF Upload",sourceIcon:"",ocrConfidence:94,customerName:". ",customer:". ",route:"R001",routeName:"Bangkok  Chonburi",truck:"1-1234",plate:"1-1234",trailer:"TRL-001",vehicleNo:"V-1001",vehicleType:"LPG Tanker",vehicleAge:3,driver:" ",driver1:"EMP001",driver1Name:" ",driverId:"EMP001",totalQty:18e3,totalWeight:18e3,totalVolume:null,created:"2026-02-15",requestedPickupDate:"2026-02-17",requestedDeliveryDate:"2026-02-18",specialInstructions:"Handle with care - pressurized gas",lastTruckMiles:45230,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"",dest:"Laem Chabang",stdDist:120,status:"pending"},{n:2,type:"last",origin:"Laem Chabang",dest:"",stdDist:120,status:"pending"}]},{id:"SHP-2026-002",shipmentNo:"SHP-2026-002",status:"DISPATCHED",product:"NGV",bu:"SCC",site:"Rayong",source:"Excel Upload",sourceIcon:"",ocrConfidence:null,customerName:" NGV ",customer:" NGV ",route:"R002",routeName:"Rayong  Saraburi",truck:"5-7890",plate:"5-7890",trailer:"TRL-005",vehicleNo:"V-1005",vehicleType:"NGV Tube Trailer",vehicleAge:1,driver:" ",driver1:"EMP002",driver1Name:" ",driverId:"EMP002",totalQty:4200,totalWeight:4200,totalVolume:null,created:"2026-02-14",requestedPickupDate:"2026-02-16",requestedDeliveryDate:"2026-02-17",specialInstructions:"",lastTruckMiles:32100,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"Map Ta Phut",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"Map Ta Phut",dest:"Wang Muang",stdDist:150,status:"pending"},{n:2,type:"customer",origin:"Wang Muang",dest:"Saraburi Depot",stdDist:80,status:"pending"},{n:3,type:"last",origin:"Saraburi Depot",dest:"Map Ta Phut",stdDist:230,status:"pending"}]},{id:"SHP-2026-003",shipmentNo:"SHP-2026-003",status:"REPORT_IN",product:"FUEL",bu:"SCC",site:"Bangkok",source:"TMS API",sourceIcon:"",ocrConfidence:null,customerName:" ",customer:" ",route:"R003",routeName:"Bangkok  Nakhon Ratchasima",truck:"4-3456",plate:"4-3456",trailer:"TRL-004",vehicleNo:"V-1004",vehicleType:"Oil Tanker",vehicleAge:4,driver:" ",driver1:"EMP003",driver1Name:" ",driverId:"EMP003",totalQty:36e3,totalWeight:28800,totalVolume:36e3,created:"2026-02-12",requestedPickupDate:"2026-02-14",requestedDeliveryDate:"2026-02-15",specialInstructions:"Temperature sensitive - maintain 15-25C",lastTruckMiles:67800,riStatus:"in_progress",stages:[{n:0,type:"first",origin:"",dest:"Don Mueang",stdDist:0,status:"completed",milesStart:67800,milesEnd:67800,departureTime:"2026-02-14T06:00",arrivalTime:"2026-02-14T06:00",weightBefore:12e3,weightAfter:40800},{n:1,type:"customer",origin:"Don Mueang",dest:"Pak Chong",stdDist:180,status:"completed",milesStart:67800,milesEnd:67980,departureTime:"2026-02-14T06:30",arrivalTime:"2026-02-14T10:15",ticketNo:"TK-FUEL-001",ticketDate:"2026-02-14",poNo:"PO-FUEL-201",faceQty:2e4,actualQty:19850,weightBeforeUnload:40800,weightAfterUnload:24900,waitDiscount:!1,cannotUnload:!1,planArrival:"2026-02-14T10:00",customerPlanTime:"2026-02-14T10:30",waitStartTime:"2026-02-14T10:20",unloadStartTime:"2026-02-14T10:45",remarks:"Fuel delivered on schedule"},{n:2,type:"customer",origin:"Pak Chong",dest:"Korat City",stdDist:80,status:"pending"},{n:3,type:"last",origin:"Korat City",dest:"Don Mueang",stdDist:260,status:"pending"}]},{id:"SHP-2026-004",shipmentNo:"SHP-2026-004",status:"COMPLETED",product:"LPG",bu:"SCC",site:"Sriracha",source:"Email RPA",sourceIcon:"",ocrConfidence:null,customerName:" ",customer:" ",route:"R004",routeName:"Sriracha  Khon Kaen",truck:"2-5678",plate:"2-5678",trailer:"TRL-002",vehicleNo:"V-1002",vehicleType:"LPG Tanker",vehicleAge:5,driver:" ",driver1:"EMP004",driver1Name:" ",driverId:"EMP004",totalQty:15e3,totalWeight:15e3,totalVolume:null,created:"2026-02-10",requestedPickupDate:"2026-02-12",requestedDeliveryDate:"2026-02-13",specialInstructions:"",lastTruckMiles:89200,riStatus:"completed",stages:[{n:0,type:"first",origin:"",dest:"Sriracha Plant",stdDist:0,status:"completed",milesStart:89200,milesEnd:89200,departureTime:"2026-02-12T06:30",arrivalTime:"2026-02-12T06:30",weightBefore:8200,weightAfter:23200},{n:1,type:"customer",origin:"Sriracha Plant",dest:"Nakhon Ratchasima",stdDist:300,status:"completed",milesStart:89200,milesEnd:89498,departureTime:"2026-02-12T07:00",arrivalTime:"2026-02-12T12:30",ticketNo:"TK-LPG-001",ticketDate:"2026-02-12",poNo:"PO-55001",faceQty:9e3,actualQty:8850,weightBeforeUnload:23200,weightAfterUnload:14500,waitDiscount:!1,cannotUnload:!1,planArrival:"2026-02-12T12:00",customerPlanTime:"2026-02-12T12:30",waitStartTime:"2026-02-12T12:35",unloadStartTime:"2026-02-12T13:00",remarks:"Delivered successfully"},{n:2,type:"customer",origin:"Nakhon Ratchasima",dest:"Khon Kaen",stdDist:180,status:"completed",milesStart:89498,milesEnd:89680,departureTime:"2026-02-12T14:00",arrivalTime:"2026-02-12T17:15",ticketNo:"TK-LPG-002",ticketDate:"2026-02-12",poNo:"PO-55002",faceQty:6e3,actualQty:5950,weightBeforeUnload:14500,weightAfterUnload:8400,waitDiscount:!1,cannotUnload:!1,planArrival:"2026-02-12T17:00",customerPlanTime:"2026-02-12T17:30",waitStartTime:"2026-02-12T17:20",unloadStartTime:"2026-02-12T17:45",remarks:"Minor delay due to traffic"},{n:3,type:"last",origin:"Khon Kaen",dest:"Sriracha Plant",stdDist:480,status:"completed",milesStart:89680,milesEnd:90158,departureTime:"2026-02-12T18:30",arrivalTime:"2026-02-13T02:00"}]},{id:"SHP-2026-005",shipmentNo:"SHP-2026-005",status:"OPEN",product:"CHEM",bu:"SCC",site:"Rayong",source:"Manual Entry",sourceIcon:"",ocrConfidence:null,customerName:"Thai Chemical Corp",customer:"Thai Chemical Corp",route:"R001",routeName:"Bangkok  Chonburi",truck:"3-9012",plate:"3-9012",trailer:"TRL-003",vehicleNo:"V-1003",vehicleType:"Chemical Tank",vehicleAge:2,driver:" ",driver1:"EMP005",driver1Name:" ",driverId:"EMP005",totalQty:25e3,totalWeight:27500,totalVolume:25e3,created:"2026-02-16",requestedPickupDate:"2026-02-18",requestedDeliveryDate:"2026-02-19",specialInstructions:"Hazmat class 3 - flammable liquid",lastTruckMiles:23400,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"",dest:"Laem Chabang",stdDist:120,status:"pending"},{n:2,type:"last",origin:"Laem Chabang",dest:"",stdDist:120,status:"pending"}]},{id:"SHP-2026-006",shipmentNo:"SHP-2026-006",status:"DISPATCHED",product:"CONTAINER",bu:"SPL",site:"Laem Chabang",source:"Manual Entry",sourceIcon:"",ocrConfidence:null,customerName:"Bangkok Port Services",customer:"Bangkok Port Services",route:"R001",routeName:"Bangkok  Chonburi",truck:"7-6789",plate:"7-6789",trailer:null,vehicleNo:"V-1007",vehicleType:"Container Chassis",vehicleAge:3,driver:" ",driver1:"EMP006",driver1Name:" ",driverId:"EMP006",totalQty:2,totalWeight:48e3,totalVolume:null,created:"2026-02-15",requestedPickupDate:"2026-02-17",requestedDeliveryDate:"2026-02-18",specialInstructions:"40ft container - oversized permit required",lastTruckMiles:56700,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"Bangkok Depot",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"Bangkok Depot",dest:"Laem Chabang",stdDist:120,status:"pending"},{n:2,type:"last",origin:"Laem Chabang",dest:"Bangkok Depot",stdDist:120,status:"pending"}]},{id:"SHP-2026-007",shipmentNo:"SHP-2026-007",status:"OPEN",product:"SCA",bu:"SCA",site:"Bangkok",source:"Excel Upload",sourceIcon:"",ocrConfidence:null,customerName:"Toyota Motor Thailand",customer:"Toyota Motor Thailand",route:"R005",routeName:"Bangkok  Surat Thani",truck:"8-0123",plate:"8-0123",trailer:null,vehicleNo:"V-1008",vehicleType:"Car Carrier",vehicleAge:2,driver:" ",driver1:"EMP007",driver1Name:" ",driverId:"EMP007",totalQty:8,totalWeight:12e3,totalVolume:null,created:"2026-02-16",requestedPickupDate:"2026-02-19",requestedDeliveryDate:"2026-02-21",specialInstructions:"New vehicles - handle with extreme care",lastTruckMiles:78100,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"Bangkok Depot",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"Bangkok Depot",dest:"Hua Hin",stdDist:200,status:"pending"},{n:2,type:"customer",origin:"Hua Hin",dest:"Chumphon",stdDist:220,status:"pending"},{n:3,type:"customer",origin:"Chumphon",dest:"Surat Thani",stdDist:220,status:"pending"},{n:4,type:"last",origin:"Surat Thani",dest:"Bangkok Depot",stdDist:640,status:"pending"}]},{id:"SHP-2026-008",shipmentNo:"SHP-2026-008",status:"DISPATCHED",product:"LPG",bu:"SCC",site:"Sriracha",source:"PDF Upload",sourceIcon:"",ocrConfidence:87,customerName:". ",customer:". ",route:"R003",routeName:"Bangkok  Nakhon Ratchasima",truck:"1-1234",plate:"1-1234",trailer:"TRL-001",vehicleNo:"V-1001",vehicleType:"LPG Tanker",vehicleAge:3,driver:" ",driver1:"EMP008",driver1Name:" ",driverId:"EMP008",totalQty:2e4,totalWeight:2e4,totalVolume:null,created:"2026-02-13",requestedPickupDate:"2026-02-15",requestedDeliveryDate:"2026-02-16",specialInstructions:"",lastTruckMiles:45600,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"Don Mueang",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"Don Mueang",dest:"Pak Chong",stdDist:180,status:"pending"},{n:2,type:"customer",origin:"Pak Chong",dest:"Korat City",stdDist:80,status:"pending"},{n:3,type:"last",origin:"Korat City",dest:"Don Mueang",stdDist:260,status:"pending"}]},{id:"SHP-2026-009",shipmentNo:"SHP-2026-009",status:"COMPLETED",product:"NGV",bu:"SCC",site:"Rayong",source:"TMS API",sourceIcon:"",ocrConfidence:null,customerName:"PTT NGV Station Korat",customer:"PTT NGV Station Korat",route:"R004",routeName:"Sriracha  Khon Kaen",truck:"6-2345",plate:"6-2345",trailer:"TRL-006",vehicleNo:"V-1006",vehicleType:"NGV Tube Trailer",vehicleAge:6,driver:" ",driver1:"EMP014",driver1Name:" ",driverId:"EMP014",totalQty:3800,totalWeight:3800,totalVolume:null,created:"2026-02-08",requestedPickupDate:"2026-02-10",requestedDeliveryDate:"2026-02-11",specialInstructions:"",lastTruckMiles:102300,riStatus:"completed",stages:[{n:0,type:"first",origin:"",dest:"Sriracha Plant",stdDist:0,status:"completed",milesStart:102300,milesEnd:102300,departureTime:"2026-02-10T05:00",arrivalTime:"2026-02-10T05:00",weightBefore:4800,weightAfter:8600},{n:1,type:"customer",origin:"Sriracha Plant",dest:"Nakhon Ratchasima",stdDist:300,status:"completed",milesStart:102300,milesEnd:102598,departureTime:"2026-02-10T05:30",arrivalTime:"2026-02-10T11:00",ticketNo:"TK-NGV-001",ticketDate:"2026-02-10",poNo:"PO-NGV-101",faceQty:2200,actualQty:2180,weightBeforeUnload:8600,weightAfterUnload:6450,waitDiscount:!1,cannotUnload:!1,planArrival:"2026-02-10T10:30",customerPlanTime:"2026-02-10T11:00",waitStartTime:"2026-02-10T11:05",unloadStartTime:"2026-02-10T11:20",remarks:"NGV delivered as planned"},{n:2,type:"customer",origin:"Nakhon Ratchasima",dest:"Khon Kaen",stdDist:180,status:"completed",milesStart:102598,milesEnd:102775,departureTime:"2026-02-10T12:30",arrivalTime:"2026-02-10T15:45",ticketNo:"TK-NGV-002",ticketDate:"2026-02-10",poNo:"PO-NGV-102",faceQty:1600,actualQty:1580,weightBeforeUnload:6450,weightAfterUnload:4870,waitDiscount:!1,cannotUnload:!1,planArrival:"2026-02-10T15:30",customerPlanTime:"2026-02-10T16:00",waitStartTime:"2026-02-10T15:50",unloadStartTime:"2026-02-10T16:10",remarks:"Completed without issues"},{n:3,type:"last",origin:"Khon Kaen",dest:"Sriracha Plant",stdDist:480,status:"completed",milesStart:102775,milesEnd:103253,departureTime:"2026-02-10T17:00",arrivalTime:"2026-02-11T01:30"}]},{id:"SHP-2026-010",shipmentNo:"SHP-2026-010",status:"REPORT_IN",product:"LPG",bu:"SCC",site:"Sriracha",source:"Email RPA",sourceIcon:"",ocrConfidence:null,customerName:" ",customer:" ",route:"R005",routeName:"Bangkok  Surat Thani",truck:"2-5678",plate:"2-5678",trailer:"TRL-002",vehicleNo:"V-1002",vehicleType:"LPG Tanker",vehicleAge:5,driver:" ",driver1:"EMP001",driver1Name:" ",driverId:"EMP001",totalQty:16e3,totalWeight:16e3,totalVolume:null,created:"2026-02-11",requestedPickupDate:"2026-02-13",requestedDeliveryDate:"2026-02-15",specialInstructions:"Long haul - driver rest required at Chumphon",lastTruckMiles:45700,riStatus:"in_progress",stages:[{n:0,type:"first",origin:"",dest:"Bangkok Depot",stdDist:0,status:"completed",milesStart:45700,milesEnd:45700,departureTime:"2026-02-13T05:30",arrivalTime:"2026-02-13T05:30",weightBefore:7500,weightAfter:23500},{n:1,type:"customer",origin:"Bangkok Depot",dest:"Hua Hin",stdDist:200,status:"completed",milesStart:45700,milesEnd:45898,departureTime:"2026-02-13T06:00",arrivalTime:"2026-02-13T10:30",ticketNo:"TK-LPG-010",ticketDate:"2026-02-13",poNo:"PO-LPG-301",faceQty:8e3,actualQty:7920,weightBeforeUnload:23500,weightAfterUnload:15600,waitDiscount:!1,cannotUnload:!1,planArrival:"2026-02-13T10:00",customerPlanTime:"2026-02-13T10:30",waitStartTime:"2026-02-13T10:35",unloadStartTime:"2026-02-13T11:00",remarks:"LPG delivered"},{n:2,type:"customer",origin:"Hua Hin",dest:"Chumphon",stdDist:220,status:"pending"},{n:3,type:"customer",origin:"Chumphon",dest:"Surat Thani",stdDist:220,status:"pending"},{n:4,type:"last",origin:"Surat Thani",dest:"Bangkok Depot",stdDist:640,status:"pending"}]},{id:"SHP-2026-011",shipmentNo:"SHP-2026-011",status:"OPEN",product:"FUEL",bu:"SCC",site:"Bangkok",source:"Forecast Upload",sourceIcon:"",ocrConfidence:null,customerName:"Shell Thailand",customer:"Shell Thailand",route:"R002",routeName:"Rayong  Saraburi",truck:"4-3456",plate:"4-3456",trailer:"TRL-004",vehicleNo:"V-1004",vehicleType:"Oil Tanker",vehicleAge:4,driver:" ",driver1:"EMP003",driver1Name:" ",driverId:"EMP003",totalQty:4e4,totalWeight:32e3,totalVolume:4e4,created:"2026-02-17",requestedPickupDate:"2026-02-20",requestedDeliveryDate:"2026-02-21",specialInstructions:"",lastTruckMiles:68200,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"Map Ta Phut",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"Map Ta Phut",dest:"Wang Muang",stdDist:150,status:"pending"},{n:2,type:"customer",origin:"Wang Muang",dest:"Saraburi Depot",stdDist:80,status:"pending"},{n:3,type:"last",origin:"Saraburi Depot",dest:"Map Ta Phut",stdDist:230,status:"pending"}]},{id:"SHP-2026-012",shipmentNo:"SHP-2026-012",status:"DISPATCHED",product:"CHEM",bu:"SCC",site:"Rayong",source:"Email RPA",sourceIcon:"",ocrConfidence:null,customerName:"IRPC Chemical",customer:"IRPC Chemical",route:"R003",routeName:"Bangkok  Nakhon Ratchasima",truck:"3-9012",plate:"3-9012",trailer:"TRL-003",vehicleNo:"V-1003",vehicleType:"Chemical Tank",vehicleAge:2,driver:" ",driver1:"EMP004",driver1Name:" ",driverId:"EMP004",totalQty:22e3,totalWeight:24200,totalVolume:22e3,created:"2026-02-14",requestedPickupDate:"2026-02-16",requestedDeliveryDate:"2026-02-17",specialInstructions:"Hazmat class 8 - corrosive",lastTruckMiles:23700,riStatus:"awaiting",stages:[{n:0,type:"first",origin:"",dest:"Don Mueang",stdDist:0,status:"pending"},{n:1,type:"customer",origin:"Don Mueang",dest:"Pak Chong",stdDist:180,status:"pending"},{n:2,type:"customer",origin:"Pak Chong",dest:"Korat City",stdDist:80,status:"pending"},{n:3,type:"last",origin:"Korat City",dest:"Don Mueang",stdDist:260,status:"pending"}]}],Xt=[{id:"AW001",shipmentNo:"SHP-2026-004",stage:"S1",product:"LPG",soldTo:"1000001",soldToName:". ",shipTo:"2000001",shipToName:"",custDoc:"CD-20260201",docDate:"2026-02-13",ticketQty:15e3,actualQty:14850,billingQty:14850,billingDate:"2026-02-13",vehicleType:"LPG Tanker",vehicleAge:5,billingDist:480,actualDist:478,fuelPrice:32.5,fuel025:8.13,fuel050:16.25,fuel100:32.5,cannotUnload:!1,tripNo:"T001",serviceCode:"SV001",wbs:"WBS-001",route:"0C3415",plate:"2-5678",trailer:"TRL-002",driver:" ",qtyDiff:-150,distDiff:-2,ratePerKm:12.5,totalFreight:6e3,fuelSurcharge:300,otherCharge:0,grandTotal:6300,status:"awaiting"},{id:"AW002",shipmentNo:"SHP-2026-004",stage:"S2",product:"LPG",soldTo:"1000002",soldToName:". ",shipTo:"2000002",shipToName:"",custDoc:"CD-20260202",docDate:"2026-02-13",ticketQty:8e3,actualQty:7950,billingQty:7950,billingDate:"2026-02-13",vehicleType:"LPG Tanker",vehicleAge:5,billingDist:300,actualDist:298,fuelPrice:32.5,fuel025:8.13,fuel050:16.25,fuel100:32.5,cannotUnload:!0,tripNo:"T002",serviceCode:"SV002",wbs:"WBS-001",route:"0C3415",plate:"2-5678",trailer:"TRL-002",driver:" ",qtyDiff:-50,distDiff:-2,ratePerKm:11,totalFreight:3300,fuelSurcharge:150,otherCharge:0,grandTotal:3450,status:"awaiting"},{id:"AW003",shipmentNo:"SHP-2026-010",stage:"S3",product:"LPG",soldTo:"1000005",soldToName:".",shipTo:"2000005",shipToName:"",custDoc:"CD-20260203",docDate:"2026-02-15",ticketQty:12e3,actualQty:11900,billingQty:11900,billingDate:"2026-02-15",vehicleType:"LPG Tanker",vehicleAge:5,billingDist:440,actualDist:438,fuelPrice:33,fuel025:8.25,fuel050:16.5,fuel100:33,cannotUnload:!1,tripNo:"T003",serviceCode:"SV001",wbs:"WBS-002",route:"0C2801",plate:"2-5678",trailer:"TRL-002",driver:" ",qtyDiff:-100,distDiff:-2,ratePerKm:13,totalFreight:5720,fuelSurcharge:280,otherCharge:100,grandTotal:6100,status:"awaiting"},{id:"AW004",shipmentNo:"SHP-2026-001",stage:"S1",product:"LPG",soldTo:"1000001",soldToName:". ",shipTo:"2000006",shipToName:"",custDoc:"CD-20260204",docDate:"2026-02-17",ticketQty:18e3,actualQty:17800,billingQty:17800,billingDate:"2026-02-17",vehicleType:"LPG Tanker",vehicleAge:3,billingDist:120,actualDist:119,fuelPrice:32.5,fuel025:8.13,fuel050:16.25,fuel100:32.5,cannotUnload:!1,tripNo:"T004",serviceCode:"SV001",wbs:"WBS-003",route:"0C3415",plate:"1-1234",trailer:"TRL-001",driver:" ",qtyDiff:-200,distDiff:-1,ratePerKm:10,totalFreight:1200,fuelSurcharge:60,otherCharge:0,grandTotal:1260,status:"awaiting"},{id:"AW005",shipmentNo:"SHP-2026-008",stage:"S1",product:"LPG",soldTo:"1000006",soldToName:". ",shipTo:"2000007",shipToName:"",custDoc:"CD-20260205",docDate:"2026-02-16",ticketQty:2e4,actualQty:19800,billingQty:19800,billingDate:"2026-02-16",vehicleType:"LPG Tanker",vehicleAge:3,billingDist:180,actualDist:179,fuelPrice:33,fuel025:8.25,fuel050:16.5,fuel100:33,cannotUnload:!0,tripNo:"T005",serviceCode:"SV002",wbs:"WBS-003",route:"0C2801",plate:"1-1234",trailer:"TRL-001",driver:" ",qtyDiff:-200,distDiff:-1,ratePerKm:11.5,totalFreight:2070,fuelSurcharge:100,otherCharge:50,grandTotal:2220,status:"awaiting"},{id:"AW006",shipmentNo:"SHP-2026-009",stage:"S1",product:"NGV",soldTo:"1000003",soldToName:".. ",shipTo:"2000003",shipToName:" NGV ",soShipment:"SHP-2026-009",item:"NGV-001",material:"NGV Compressed",transportRate:2.5,distance:180,gasQty:3800,stationCost:1200,totalCost:10700,distCategory:"200km",rateInput:2.5,docDate:"2026-02-14",billingDate:"2026-02-14",status:"awaiting"},{id:"AW007",shipmentNo:"SHP-2026-009",stage:"S2",product:"NGV",soldTo:"1000004",soldToName:". ",shipTo:"2000004",shipToName:" NGV ",soShipment:"SHP-2026-009",item:"NGV-002",material:"NGV Compressed",transportRate:2.8,distance:480,gasQty:2e3,stationCost:1500,totalCost:8500,distCategory:">200km",rateInput:2.8,docDate:"2026-02-14",billingDate:"2026-02-14",status:"awaiting"},{id:"AW008",shipmentNo:"SHP-2026-002",stage:"S1",product:"NGV",soldTo:"1000007",soldToName:". ",shipTo:"2000008",shipToName:" NGV ",soShipment:"SHP-2026-002",item:"NGV-003",material:"NGV Compressed",transportRate:2.5,distance:150,gasQty:4200,stationCost:1e3,totalCost:11500,distCategory:"200km",rateInput:2.5,docDate:"2026-02-15",billingDate:"2026-02-15",status:"awaiting"},{id:"AW009",shipmentNo:"SHP-2026-002",stage:"S2",product:"NGV",soldTo:"1000003",soldToName:".. ",shipTo:"2000009",shipToName:" NGV ",soShipment:"SHP-2026-002",item:"NGV-004",material:"NGV Compressed",transportRate:2.3,distance:230,gasQty:3500,stationCost:1100,totalCost:9150,distCategory:">200km",rateInput:2.3,docDate:"2026-02-15",billingDate:"2026-02-15",status:"awaiting"}],Bp=[{id:"RPT-001",reportNo:"RPT-2026-001",product:"LPG",period:"2026-02-01 to 2026-02-15",site:"BPK",status:"so_posted",rows:3,total:15850,soNumbers:["80979-001","80979-002"],items:[{...Xt[0],status:"settled",soNo:"80979-001"},{...Xt[1],status:"settled",soNo:"80979-002"},{...Xt[2],status:"settled",soNo:"80979-001"}]},{id:"RPT-002",reportNo:"RPT-2026-002",product:"NGV",period:"2026-02-01 to 2026-02-15",site:"SRB",status:"so_posted",rows:2,total:19200,soNumbers:["21060-001","21060-002"],items:[{...Xt[5],status:"settled",soNo:"21060-001"},{...Xt[6],status:"settled",soNo:"21060-002"}]},{id:"RPT-003",reportNo:"RPT-2026-003",product:"LPG",period:"2026-02-16 to 2026-02-19",site:"MTP",status:"pending_so",rows:2,total:3480,soNumbers:[],items:[{...Xt[3],status:"in_report"},{...Xt[4],status:"in_report"}]}],Vp=[{id:"SO-001",soNo:"80979-001",reportNo:"RPT-2026-001",product:"LPG",soldTo:"1000001",soldToName:". ",soType:"",total:12400,status:"posted",created:"2026-02-16",numRows:2,rows:[{shipmentNo:"SHP-2026-004",soldTo:"1000001",shipToName:"",custDoc:"CD-20260201",qty:14850,soNo:"80979-001"},{shipmentNo:"SHP-2026-010",soldTo:"1000005",shipToName:"",custDoc:"CD-20260203",qty:11900,soNo:"80979-001"}]},{id:"SO-002",soNo:"80979-002",reportNo:"RPT-2026-001",product:"LPG",soldTo:"1000002",soldToName:". ",soType:"",total:3450,status:"posted",created:"2026-02-16",numRows:1,rows:[{shipmentNo:"SHP-2026-004",soldTo:"1000002",shipToName:"",custDoc:"CD-20260202",qty:7950,soNo:"80979-002"}]},{id:"SO-003",soNo:"21060-001",reportNo:"RPT-2026-002",product:"NGV",soldTo:"1000003",soldToName:".. ",soType:"200km",total:10700,status:"posted",created:"2026-02-16",numRows:1,rows:[{shipmentNo:"SHP-2026-009",soldTo:"1000003",shipToName:" NGV ",custDoc:"-",qty:3800,soNo:"21060-001"}]},{id:"SO-004",soNo:"21060-002",reportNo:"RPT-2026-002",product:"NGV",soldTo:"1000004",soldToName:". ",soType:">200km",total:8500,status:"posted",created:"2026-02-16",numRows:1,rows:[{shipmentNo:"SHP-2026-009",soldTo:"1000004",shipToName:" NGV ",custDoc:"-",qty:2e3,soNo:"21060-002"}]}],Sd=F.createContext(),Up={activeModule:"shipments",freightOrders:Op,drafts:[],shipments:_p,awaitingRows:Xt,awaitingSettlement:Xt,settlementReports:Bp,salesOrders:Vp,notifications:[{id:1,text:"FO-2026-0003 ready for review",time:"2m ago",icon:"",read:!1},{id:2,text:"SHP-2026-002 dispatched",time:"15m ago",icon:"",read:!1},{id:3,text:"Miles violation on Stage 2",time:"1h ago",icon:"",read:!1}],currentUser:{name:"Somchai K.",role:"Dispatcher",bu:"LPG"},employees:Fp,trucks:si,routes:Ip};function Gp(a,d){switch(d.type){case"SET_MODULE":return{...a,activeModule:d.payload};case"ADD_FO":return{...a,freightOrders:[...a.freightOrders,d.payload]};case"UPDATE_FO":return{...a,freightOrders:a.freightOrders.map(o=>o.id===d.payload.id?{...o,...d.payload}:o)};case"SET_DRAFTS":return{...a,drafts:d.payload};case"CLEAR_DRAFTS":return{...a,drafts:[]};case"ADD_SHIPMENT":return{...a,shipments:[...a.shipments,d.payload]};case"UPDATE_SHIPMENT":return{...a,shipments:a.shipments.map(o=>o.id===d.payload.id?{...o,...d.payload}:o)};case"DELETE_SHIPMENT":return{...a,shipments:a.shipments.filter(o=>o.id!==d.payload)};case"DISPATCH_SHIPMENT":return{...a,shipments:a.shipments.map(o=>o.id===d.payload?{...o,status:"DISPATCHED"}:o)};case"UPDATE_STAGE":return{...a,shipments:a.shipments.map(o=>o.id!==d.payload.shipmentId?o:{...o,stages:o.stages.map((u,f)=>f===d.payload.stageIndex?{...u,...d.payload.data}:u)})};case"SUBMIT_FOR_REVIEW":return{...a,shipments:a.shipments.map(o=>o.id===d.payload?{...o,riStatus:"pending_review"}:o)};case"REJECT_REPORT_IN":return{...a,shipments:a.shipments.map(o=>o.id===d.payload?{...o,riStatus:"rejected"}:o)};case"SAVE_REPORT_IN_DRAFT":return{...a,shipments:a.shipments.map(o=>o.id===d.payload?{...o,riStatus:"in_progress"}:o)};case"COMPLETE_REPORT_IN":return{...a,shipments:a.shipments.map(o=>o.id===d.payload?{...o,status:"COMPLETED",riStatus:"completed"}:o)};case"ADD_AWAITING_ROWS":{const o=[...a.awaitingRows,...d.payload];return{...a,awaitingRows:o,awaitingSettlement:o}}case"UPDATE_AWAITING_ROW":{const o=a.awaitingRows.map(u=>u.id===d.payload.id?{...u,...d.payload}:u);return{...a,awaitingRows:o,awaitingSettlement:o}}case"REMOVE_AWAITING":{const o=a.awaitingRows.filter(u=>!d.payload.includes(u.id));return{...a,awaitingRows:o,awaitingSettlement:o}}case"ADD_REPORT":return{...a,settlementReports:[...a.settlementReports,d.payload]};case"UPDATE_REPORT":return{...a,settlementReports:a.settlementReports.map(o=>o.id===d.payload.id?{...o,...d.payload}:o)};case"ADD_SALES_ORDERS":return{...a,salesOrders:[...a.salesOrders,...d.payload]};case"ADD_SETTLEMENT_REPORT":return{...a,settlementReports:[...a.settlementReports,d.payload]};case"UPDATE_SETTLEMENT_REPORT":return{...a,settlementReports:a.settlementReports.map(o=>o.id===d.payload.id?{...o,...d.payload}:o)};case"ADD_SALES_ORDER":return{...a,salesOrders:[...a.salesOrders,d.payload]};case"UPDATE_SALES_ORDER":return{...a,salesOrders:a.salesOrders.map(o=>o.id===d.payload.id?{...o,...d.payload}:o)};case"UPDATE_AWAITING":{const o=a.awaitingRows.map(u=>u.id===d.payload.id?{...u,...d.payload}:u);return{...a,awaitingRows:o,awaitingSettlement:o}}case"ADD_NOTIFICATION":return{...a,notifications:[d.payload,...a.notifications]};case"MARK_NOTIFICATION_READ":return{...a,notifications:a.notifications.map(o=>o.id===d.payload?{...o,read:!0}:o)};case"CLEAR_NOTIFICATIONS":return{...a,notifications:[]};default:return a}}function Hp({children:a}){const[d,o]=F.useReducer(Gp,Up);return t.jsx(Sd.Provider,{value:{state:d,dispatch:o},children:a})}function ct(){const a=F.useContext(Sd);if(!a)throw new Error("useApp must be used within AppProvider");return a}function zp(){const{language:a,toggleLanguage:d,t:o}=De(),{state:u}=ct(),[f,c]=F.useState(!1),[C,y]=F.useState(!1),k=[{id:1,text:"FO-2026-0003 ready for review",time:"2m ago",icon:""},{id:2,text:"SHP-2026-002 dispatched",time:"15m ago",icon:""},{id:3,text:"Miles violation on Stage 2",time:"1h ago",icon:""}],T=k.length,N={shipments:o("modules.shipments"),reportin:o("modules.reportIn"),settlement:o("modules.settlement")}[u.activeModule]||o("app.subtitle");return t.jsx("header",{className:"sticky top-0 z-50 h-12 shell-gradient text-white",children:t.jsxs("div",{className:"h-full flex items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-lg",children:""}),t.jsx("span",{className:"font-bold text-sm tracking-wide",children:o("app.title")}),t.jsx("span",{className:"opacity-40 mx-1",children:"|"}),t.jsx("span",{className:"text-sm opacity-80",children:N})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"bg-white/20 rounded-full p-0.5 flex items-center",children:[t.jsx("button",{onClick:a==="th"?d:void 0,className:`px-3 py-0.5 rounded-full text-xs font-medium transition-colors ${a==="en"?"bg-white text-shell font-semibold":"text-white/70 cursor-pointer hover:text-white"}`,children:"EN"}),t.jsx("button",{onClick:a==="en"?d:void 0,className:`px-3 py-0.5 rounded-full text-xs font-medium transition-colors ${a==="th"?"bg-white text-shell font-semibold":"text-white/70 cursor-pointer hover:text-white"}`,children:"TH"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:()=>{c(!f),y(!1)},className:"text-white/70 hover:text-white text-sm relative",children:["",T>0&&t.jsx("span",{className:"absolute -top-1.5 -right-1.5 bg-red-500 text-white text-[9px] font-bold rounded-full w-4 h-4 flex items-center justify-center",children:T})]}),f&&t.jsxs("div",{className:"absolute right-0 top-8 w-72 bg-white rounded-lg shadow-lg border border-gray-200 z-50 text-text",children:[t.jsx("div",{className:"px-3 py-2 border-b border-gray-100 font-semibold text-xs text-text-sec",children:"Notifications"}),k.map(g=>t.jsxs("div",{className:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-50 text-xs flex gap-2",children:[t.jsx("span",{children:g.icon}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-text",children:g.text}),t.jsx("div",{className:"text-text-muted text-[10px]",children:g.time})]})]},g.id))]})]}),t.jsx("button",{onClick:()=>window.alert("Settings panel coming soon."),className:"text-white/70 hover:text-white text-sm",children:""}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>{y(!C),c(!1)},className:"text-white/70 hover:text-white text-sm",children:""}),C&&t.jsxs("div",{className:"absolute right-0 top-8 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50 text-text text-xs",children:[t.jsxs("div",{className:"px-3 py-2.5 border-b border-gray-100",children:[t.jsx("div",{className:"font-semibold",children:"Somchai K."}),t.jsx("div",{className:"text-text-muted text-[10px]",children:"Dispatcher  BU: LPG"})]}),t.jsxs("button",{onClick:()=>{y(!1),window.alert("Profile settings coming soon.")},className:"w-full text-left px-3 py-2 hover:bg-gray-50",children:[""," Profile"]}),t.jsxs("button",{onClick:()=>{y(!1),window.alert("Logged out successfully.")},className:"w-full text-left px-3 py-2 hover:bg-gray-50 text-red-600",children:[""," Logout"]})]})]})]})]})})}const Kp=[{key:"shipments",icon:"",labelKey:"modules.shipments"},{key:"reportin",icon:"",labelKey:"modules.reportIn"},{key:"settlement",icon:"",labelKey:"modules.settlement"}];function Qp(){const{t:a}=De(),{state:d,dispatch:o}=ct(),f=(()=>{var k,T,x;const c=((k=d.shipments)==null?void 0:k.filter(N=>N.status==="OPEN"||N.status==="DISPATCHED").length)||0,C=((T=d.shipments)==null?void 0:T.filter(N=>N.riStatus==="pending"||N.riStatus==="awaiting"||N.riStatus==="draft"||N.riStatus==="in_progress").length)||0,y=((x=d.awaitingRows)==null?void 0:x.filter(N=>N.status==="awaiting").length)||0;return{shipments:c,reportin:C,settlement:y}})();return t.jsx("div",{className:"bg-surface border-b border-border",children:t.jsx("div",{className:"flex items-center gap-0 px-4",children:Kp.map(c=>{const C=d.activeModule===c.key;return t.jsxs("button",{onClick:()=>o({type:"SET_MODULE",payload:c.key}),className:`flex items-center gap-1.5 px-4 py-2.5 text-sm transition-colors border-b-2 whitespace-nowrap
                ${C?"border-primary font-semibold text-primary":"border-transparent text-text-sec hover:text-text hover:border-border"}`,children:[t.jsx("span",{children:c.icon}),t.jsx("span",{children:a(c.labelKey)}),t.jsx("span",{className:`ml-1 px-1.5 py-0.5 rounded-full text-xs font-medium
                ${C?"bg-primary/10 text-primary":"bg-gray-100 text-text-muted"}`,children:f[c.key]||0})]},c.key)})})})}function $p(){const{t:a}=De(),[d,o]=F.useState(new Date);return F.useEffect(()=>{const u=setInterval(()=>o(new Date),1e3);return()=>clearInterval(u)},[]),t.jsxs("footer",{className:"fixed bottom-0 w-full z-[500] h-8 bg-shell text-white text-xs flex items-center justify-between px-4",children:[t.jsxs("span",{children:[a("app.title")," ",a("app.version")]}),t.jsx("span",{children:d.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})]})}function Ul({icon:a,label:d,count:o,active:u,onClick:f,color:c="text-primary"}){return t.jsxs("button",{onClick:f,className:`flex flex-col items-center gap-1 px-4 py-3 rounded-lg border transition-all min-w-[100px]
        ${u?"border-primary bg-highlight shadow-sm":"border-border-light bg-white hover:border-border hover:shadow-sm"}`,children:[a&&t.jsx("span",{className:"text-lg",children:a}),t.jsx("span",{className:`text-xl font-bold ${c}`,children:o}),t.jsx("span",{className:"text-label text-text-sec whitespace-nowrap",children:d})]})}function Wp({columns:a,data:d,onRowClick:o,emptyMessage:u="No data found"}){const[f,c]=F.useState(null),[C,y]=F.useState("asc"),k=x=>{f===x?y(N=>N==="asc"?"desc":"asc"):(c(x),y("asc"))},T=f?[...d].sort((x,N)=>{const g=x[f]??"",B=N[f]??"",A=typeof g=="number"?g-B:String(g).localeCompare(String(B));return C==="asc"?A:-A}):d;return d.length?t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-table",children:[t.jsx("thead",{children:t.jsx("tr",{className:"bg-bg border-b border-border",children:a.map(x=>t.jsxs("th",{onClick:()=>x.sortable!==!1&&k(x.key),...x.sortable!==!1&&{role:"button",tabIndex:0,onKeyDown:N=>{(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),k(x.key))}},className:`text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap
                  ${x.sortable!==!1?"cursor-pointer hover:text-text select-none":""}`,children:[x.label,f===x.key&&t.jsx("span",{className:"ml-1 text-xs",children:C==="asc"?"":""})]},x.key))})}),t.jsx("tbody",{children:T.map((x,N)=>t.jsx("tr",{onClick:()=>o==null?void 0:o(x),...o&&{role:"button",tabIndex:0,onKeyDown:g=>{g.key==="Enter"&&o(x)}},className:`border-b border-border-light hover:bg-highlight transition-colors
                ${o?"cursor-pointer":""}`,children:a.map(g=>t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:g.render?g.render(x[g.key],x):x[g.key]??""},g.key))},x.id||N))})]})}):t.jsx("div",{className:"text-center py-10 text-text-muted text-table",children:u})}function sn({status:a}){const d=Lp[a]||{label:a,color:"bg-gray-100 text-gray-700",dot:"bg-gray-400"};return t.jsxs("span",{className:`badge-pill gap-1 ${d.color}`,children:[t.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${d.dot}`}),d.label]})}function ni({source:a}){const d=Rp[a]||{icon:"",color:"bg-gray-100 text-gray-700"};return t.jsxs("span",{className:`badge-pill gap-1 ${d.color}`,children:[d.icon," ",a]})}function Ql({product:a}){const d=jd[a]||{icon:"",badge:"bg-gray-100 text-gray-700",label:a};return t.jsxs("span",{className:`badge-pill gap-1 ${d.badge}`,children:[d.icon," ",d.label]})}let ud=100;function tl(a="SHP"){ud+=1;const d=new Date().getFullYear();return`${a}-${d}-${String(ud).padStart(3,"0")}`}function Kl(a){return a?new Date(a).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):""}function at(a){return a==null?"":`${Number(a).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:2})}`}function rn({header:a,children:d,className:o=""}){return t.jsxs("div",{className:`bg-white rounded-lg border border-border-light shadow-sm ${o}`,children:[a&&t.jsx("div",{className:"border-b border-border-light px-4 py-2.5",children:typeof a=="string"?t.jsx("h3",{className:"text-sm font-semibold text-text",children:a}):a}),t.jsx("div",{className:"p-4",children:d})]})}const pd={green:"bridge-green",blue:"bridge-blue",purple:"bridge-purple",primary:"bridge-gradient-primary",accent:"bridge-gradient-accent",warning:"bridge-gradient-warning"};function md({icon:a,title:d,subtitle:o,action:u,onAction:f,gradient:c="green"}){return t.jsxs("div",{className:`${pd[c]||pd.green} text-white rounded-lg p-5 flex items-center justify-between`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[a&&t.jsx("span",{className:"text-2xl",children:a}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-sm",children:d}),o&&t.jsx("div",{className:"text-xs opacity-80 mt-0.5",children:o})]})]}),u&&t.jsx("button",{onClick:f,className:"bg-white/20 hover:bg-white/30 px-4 py-1.5 rounded text-sm font-medium transition-colors",children:u})]})}const xd={LPG:{icon:"",badge:"bg-orange-50 text-orange-700",label:"LPG",shipType:"0602",unit:"kg",truckClass:"lpg-truck",zlsde:"ZLSDE003"},CHEM:{icon:"",badge:"bg-purple-50 text-purple-700",label:"Chemical",shipType:"0603",unit:"L",truckClass:"chem-truck",zlsde:"ZLSDE004"},FUEL:{icon:"",badge:"bg-blue-50 text-blue-700",label:"Fuel/WO",shipType:"0605",unit:"L",truckClass:"fuel-truck",zlsde:"ZLSDE017"},NGV:{icon:"",badge:"bg-green-50 text-green-700",label:"NGV",shipType:"0601",unit:"m",truckClass:"ngv-truck",zlsde:"ZLSDE006"},CONTAINER:{icon:"",badge:"bg-red-50 text-red-700",label:"Container",shipType:"0606",unit:"TEU",truckClass:"container-truck",zlsde:"ZLSDE015"},SCA:{icon:"",badge:"bg-amber-50 text-amber-700",label:"Car Carrier",shipType:"1400",unit:"",truckClass:"sca-truck",zlsde:"ZLSDE012"}};function ci(a){return xd[a]||xd.LPG}const qp=[{value:"SCC",label:"SCC  SC Carrier"},{value:"SCA",label:"SCA  SC Alliance"}],Yp=[{value:"LPG",label:" LPG"},{value:"CHEM",label:" Chemical"},{value:"FUEL",label:" Fuel / WO ()"},{value:"NGV",label:" NGV"},{value:"CONTAINER",label:" Container"},{value:"SCA",label:" Car Carrier (SCA)"}],Xp=[{value:"060B",label:"060B  COC-FUEL-LLK"},{value:"060C",label:"060C  ATLAS-LPG-BPK"},{value:"060E",label:"060E  ATLAS-LPG-NKC"},{value:"060U",label:"060U  ATLAS-BSRC-SRC"},{value:"060J",label:"060J  SHELL-FUEL-KKN"},{value:"060L",label:"060L  SHELL-FUEL-KBI"},{value:"060N",label:"060N  INC-CHEM-BRP"},{value:"0631",label:"0631  COC-LPG-BRP"},{value:"0632",label:"0632  PTTOR-PROPANE"},{value:"0633",label:"0633  ATLAS-LPG-SRC"},{value:"0634",label:"0634  PTTOR-LPG-COD-BRP"},{value:"0636",label:"0636  PTTGC-C3-BRP"},{value:"0637",label:"0637  PTTGC-HA-BRP"},{value:"0639",label:"0639  ZEON-RAFFINATE"},{value:"0656",label:"0656  CMI-CHEM-SSK"},{value:"0670",label:"0670  PTTGC-CX-BRP"},{value:"0675",label:"0675  COC-LPG-NKC"}],Zp=[{value:"0001",label:"0001  Indiv.Shipmt - Road"},{value:"0002",label:"0002  Collct.Shipmt - Road"},{value:"0003",label:"0003  Collective Shipment"},{value:"0004",label:"0004  Prelim. leg by road"},{value:"0005",label:"0005  Main leg by sea"},{value:"0006",label:"0006  Subseq. leg by road"},{value:"0010",label:"0010  Inbound Shipment"},{value:"0101",label:"0101  SCGL  Costal Feeder"},{value:"0102",label:"0102  SCGL  River Feeder"},{value:"0103",label:"0103  SCGL - Truck"},{value:"0201",label:"0201  SCM  Habour BKK"},{value:"0202",label:"0202  SCM  Habour MTP"},{value:"0601",label:"0601  SCC-NGV"},{value:"0602",label:"0602  SCC-LPG"},{value:"0603",label:"0603  SCC-CHEM"},{value:"0604",label:"0604  SCC-Ammonia"},{value:"0605",label:"0605  SCC-Fuel"},{value:"0606",label:"0606  SCC-Special Container"},{value:"0607",label:"0607  SCC-Internal Job"},{value:"0608",label:"0608  SCC-Industrial GAS"},{value:"0609",label:"0609  SCC-Other"},{value:"0800",label:"0800  NPM-Harbor Service"},{value:"0801",label:"0801  NPM Coastal Feeder"},{value:"1200",label:"1200  SPL - Truck"},{value:"1400",label:"1400  SCA - Truck"},{value:"1500",label:"1500  SCH - Gas Vessel"},{value:"1700",label:"1700  PKR - Truck"}],Jp=[{value:"01",label:"01  Truck"},{value:"02",label:"02  Mail"},{value:"03",label:"03  Rail"},{value:"04",label:"04  Sea"},{value:"61",label:"61  "},{value:"62",label:"62  "},{value:"63",label:"63  "},{value:"64",label:"64  "},{value:"65",label:"65  Commissioning"},{value:"66",label:"66  "},{value:"67",label:"67  "},{value:"68",label:"68  "},{value:"69",label:"69   NGV "},{value:"6A",label:"6A  "},{value:"6B",label:"6B  Test Bulk"},{value:"6C",label:"6C  "},{value:"6D",label:"6D   "},{value:"6E",label:"6E  "},{value:"6F",label:"6F  "},{value:"6G",label:"6G  /"},{value:"6H",label:"6H   (TOP)"},{value:"6I",label:"6I   Adhoc"},{value:"6J",label:"6J   Replace"},{value:"6K",label:"6K  "},{value:"6L",label:"6L   Esso"},{value:"6M",label:"6M  "},{value:"6N",label:"6N  "},{value:"6O",label:"6O   BRP"},{value:"6P",label:"6P   ."},{value:"6Q",label:"6Q  RETURN PRODUCT"},{value:"6R",label:"6R  "},{value:"HI",label:"HI  Harbor Serv. Inside"},{value:"HO",label:"HO  Harbor Serv. Outside"},{value:"OF",label:"OF  Offshore Serv."},{value:"OT",label:"OT  MO Other"},{value:"ZC",label:"ZC  "}],ai=[{value:"010001",label:"010001     (121 km)",distance:121},{value:"010002",label:"010002     (120 km)",distance:120},{value:"010003",label:"010003     NPM (765 km)",distance:765},{value:"010005",label:"010005  BTC    BTC (311 km)",distance:311},{value:"010006",label:"010006  BTC    SCSC  BTC (413 km)",distance:413},{value:"010007",label:"010007  BTC  LCH    SCSC  BTC (529 km)",distance:529},{value:"010011",label:"010011  BTC    BTC (231 km)",distance:231},{value:"010014",label:"010014  BTC   ()  BTC (397 km)",distance:397},{value:"010024",label:"010024  BTC   ()  BTC (300 km)",distance:300},{value:"010027",label:"010027  BTC   ()  BTC (55 km)",distance:55},{value:"010029",label:"010029  BTC  LCH () (124 km)",distance:124},{value:"010030",label:"010030  BTC  LCH () (124 km)",distance:124},{value:"CUSTOM",label:"+ Create Custom Route...",distance:0}],em=[{value:"010007",label:"010007  "},{value:"010102",label:"010102  LCH ()"},{value:"010100",label:"010100  "},{value:"010005",label:"010005  "},{value:"010024",label:"010024   NPM"},{value:"010011",label:"010011   A0"}],tm=[{value:"010025",label:"010025   ()"},{value:"010026",label:"010026   ()"},{value:"010027",label:"010027   ()"},{value:"010028",label:"010028   ()"},{value:"010038",label:"010038   ()"},{value:"010039",label:"010039   ()"},{value:"010095",label:"010095  SCSC"}],rm=[{value:"010095",label:"010095  SCSC"},{value:"010097",label:"010097   (4)"},{value:"010011",label:"010011   A0"},{value:"010018",label:"010018   B2"}],lm=[{value:"010007",label:"010007  "},{value:"010102",label:"010102  LCH ()"},{value:"010100",label:"010100  "}],sm=[{value:"1401",label:"1401  Bang Na KM.4"},{value:"1402",label:"1402  Bang Na KM.4.5"},{value:"1403",label:"1403  Bang Na KM.22"},{value:"1406",label:"1406  Nissan"},{value:"1408",label:"1408  YARD NO. ATL KM.19"},{value:"1410",label:"1410   CIMC "},{value:"1411",label:"1411  SCA "},{value:"1414",label:"1414  ()"},{value:"1415",label:"1415  SCA KM.19"},{value:"1416",label:"1416  SCA SRT"}],hd=["","","",""],nm=[{value:"Y ",label:"Y  (Collect)"},{value:"Y (SO.)",label:"Y  SO."},{value:"N ",label:"N  (No Collect)"}],am=[{value:"Y ",label:"Y  (Pay)"},{value:"N ",label:"N  (No Pay)"}],im=[{id:"FO-2026-0001",product:"LPG",bu:"SCC",site:"060C",siteName:"ATLAS-LPG-BPK",route:"010005",routeName:"BTC--BTC",customer:" ()",shipTo:"010025",qty:"15,000 kg",date:"05.02.2026",wbs:"08S.26CF.BPK.001",status:"CONFIRMED"},{id:"FO-2026-0002",product:"LPG",bu:"SCC",site:"060C",siteName:"ATLAS-LPG-BPK",route:"010005",routeName:"BTC--BTC",customer:" ()",shipTo:"010025",qty:"12,000 kg",date:"05.02.2026",wbs:"08S.26CF.BPK.002",status:"CONFIRMED"},{id:"FO-2026-0003",product:"LPG",bu:"SCC",site:"060C",siteName:"ATLAS-LPG-BPK",route:"010011",routeName:"BTC--BTC",customer:" ()",shipTo:"010027",qty:"8,000 kg",date:"05.02.2026",wbs:"08S.26CF.BPK.003",status:"OPEN"},{id:"FO-2026-0004",product:"CHEM",bu:"SCC",site:"060N",siteName:"INC-CHEM-BRP",route:"010014",routeName:"BTC--BTC",customer:" ()",shipTo:"010028",qty:"20,000 L",date:"05.02.2026",wbs:"08S.26CF.BRP.001",status:"CONFIRMED"},{id:"FO-2026-0005",product:"LPG",bu:"SCC",site:"060U",siteName:"ATLAS-BSRC-SRC",route:"010024",routeName:"BTC-()-BTC",customer:" ()",shipTo:"010038",qty:"18,000 kg",date:"06.02.2026",wbs:"08S.26CF.SRC.001",status:"OPEN"},{id:"FO-2026-0006",product:"CHEM",bu:"SCC",site:"0637",siteName:"PTTGC-HA-BRP",route:"010001",routeName:"LCH-",customer:"",shipTo:"010005",qty:"25,000 L",date:"06.02.2026",wbs:"08S.26CF.BRP.002",status:"CONFIRMED"},{id:"FO-2026-0007",product:"LPG",bu:"SCC",site:"0631",siteName:"COC-LPG-BRP",route:"010005",routeName:"BTC--BTC",customer:" ()",shipTo:"010025",qty:"10,000 kg",date:"05.02.2026",wbs:"08S.26CF.BRP.003",status:"OPEN"},{id:"FO-2026-0008",product:"FUEL",bu:"SCC",site:"060B",siteName:"COC-FUEL-LLK",route:"020110",routeName:"BRP-Shell -BRP",customer:"Shell ()",shipTo:"020015",qty:"36,000 L",date:"06.02.2026",wbs:"06L.35015.51",status:"CONFIRMED"},{id:"FO-2026-0009",product:"FUEL",bu:"SCC",site:"060B",siteName:"COC-FUEL-LLK",route:"020205",routeName:"SRT-PTTOR -SRT",customer:"PTTOR ",shipTo:"020018",qty:"40,000 L",date:"06.02.2026",wbs:"06L.33015.61",status:"OPEN"},{id:"FO-2026-0010",product:"FUEL",bu:"SCC",site:"060B",siteName:"COC-FUEL-LLK",route:"020301",routeName:"LLK-Bangchak -LLK",customer:"Bangchak ()",shipTo:"020022",qty:"32,000 L",date:"07.02.2026",wbs:"06L.34015.75",status:"CONFIRMED"},{id:"FO-2026-0011",product:"NGV",bu:"SCC",site:"060U",siteName:"PTT-NGV-SRT",route:"030101",routeName:"SRT-PTT NGV  -SRT",customer:"PTT NGV ",shipTo:"030010",qty:"8,500 m",date:"06.02.2026",wbs:"06L.42015.01",status:"OPEN"},{id:"FO-2026-0012",product:"NGV",bu:"SCC",site:"060U",siteName:"PTT-NGV-SRT",route:"030205",routeName:"SRT-PTT NGV -SRT",customer:"PTT NGV ",shipTo:"030015",qty:"9,200 m",date:"07.02.2026",wbs:"06L.42015.02",status:"CONFIRMED"},{id:"FO-2026-0013",product:"CONTAINER",bu:"SCC",site:"060N",siteName:"SPL-CONTAINER-LCB",route:"010001",routeName:"LCB-",customer:"Evergreen Line",shipTo:"010005",qty:"2 x 40ft HC",date:"06.02.2026",wbs:"06L.61015.01",status:"CONFIRMED"},{id:"FO-2026-0014",product:"CONTAINER",bu:"SCC",site:"060N",siteName:"SPL-CONTAINER-LCB",route:"010002",routeName:"-LCB",customer:"ONE Line",shipTo:"010102",qty:"1 x 20ft GP",date:"07.02.2026",wbs:"06L.61015.02",status:"OPEN"},{id:"FO-2026-0015",product:"CONTAINER",bu:"SCC",site:"060N",siteName:"SPL-CONTAINER-LCB",route:"010003",routeName:"LCB- NPM",customer:"Hapag-Lloyd",shipTo:"010024",qty:"3 x 40ft GP",date:"06.02.2026",wbs:"06L.61015.03",status:"CONFIRMED"},{id:"FO-2026-0016",product:"SCA",bu:"SCA",site:"060N",siteName:"SCA-CARRIER-LPK",route:"040101",routeName:"LPK-Toyota -LPK",customer:"Toyota Motor Thailand",shipTo:"040010",qty:"8 ",date:"06.02.2026",wbs:"06L.62015.01",status:"CONFIRMED"},{id:"FO-2026-0017",product:"SCA",bu:"SCA",site:"060N",siteName:"SCA-CARRIER-LPK",route:"040205",routeName:"LPK-Isuzu -LPK",customer:"Tri Petch Isuzu",shipTo:"040015",qty:"6 ",date:"07.02.2026",wbs:"06L.62015.02",status:"OPEN"}],ii=[{id:"T1",plate:"83-0569",trailer:"83-1069",vehicleNo:"VH-830569",type:"LPG Tanker 18T",product:"LPG",capacity:"18,000 kg",location:"BPK Depot",lastDate:"03.02.2026",status:"available"},{id:"T2",plate:"83-0571",trailer:"83-1071",vehicleNo:"VH-830571",type:"LPG Tanker 20T",product:"LPG",capacity:"20,000 kg",location:"SRC Depot",lastDate:"02.02.2026",status:"available"},{id:"T3",plate:"83-0575",trailer:"83-1075",vehicleNo:"VH-830575",type:"LPG Tanker 15T",product:"LPG",capacity:"15,000 kg",location:"BPK Depot",lastDate:"01.02.2026",status:"available"},{id:"T4",plate:"84-0601",trailer:"84-1101",vehicleNo:"VH-840601",type:"Chemical Tank 25T",product:"CHEM",capacity:"25,000 L",location:"BRP Depot",lastDate:"03.02.2026",status:"available"},{id:"T5",plate:"84-0605",trailer:"84-1105",vehicleNo:"VH-840605",type:"Chemical ISO Tank",product:"CHEM",capacity:"20,000 L",location:"MTP Depot",lastDate:"02.02.2026",status:"available"},{id:"T6",plate:"71-5432",trailer:"71-9432",vehicleNo:"VH-715432",type:"Oil Tanker 36KL",product:"FUEL",capacity:"36,000 L",location:"BRP Depot",lastDate:"04.02.2026",status:"available"},{id:"T7",plate:"71-5440",trailer:"71-9440",vehicleNo:"VH-715440",type:"Oil Tanker 40KL",product:"FUEL",capacity:"40,000 L",location:"SRT Depot",lastDate:"03.02.2026",status:"available"},{id:"T8",plate:"68-2200",trailer:"",vehicleNo:"VH-682200",type:"NGV Tube Trailer",product:"NGV",capacity:"8,500 m",location:"SRT Depot",lastDate:"04.02.2026",status:"available"},{id:"T9",plate:"68-2210",trailer:"",vehicleNo:"VH-682210",type:"NGV Tube Trailer",product:"NGV",capacity:"9,200 m",location:"SRT Depot",lastDate:"03.02.2026",status:"available"},{id:"T10",plate:"70-3300",trailer:"70-CH01",vehicleNo:"VH-703300",type:"Container Chassis 40ft",product:"CONTAINER",capacity:"2 x 20ft / 1 x 40ft",location:"LCB",lastDate:"04.02.2026",status:"available"},{id:"T11",plate:"70-3310",trailer:"70-CH02",vehicleNo:"VH-703310",type:"Container Chassis 40ft",product:"CONTAINER",capacity:"2 x 20ft / 1 x 40ft",location:"BKK Port",lastDate:"03.02.2026",status:"available"},{id:"T12",plate:"85-0701",trailer:"85-1201",vehicleNo:"VH-850701",type:"Container 40ft",product:"CONTAINER",capacity:"1 x 40ft",location:"LCB",lastDate:"03.02.2026",status:"in_use"},{id:"T13",plate:"72-8800",trailer:"72-CC01",vehicleNo:"VH-728800",type:"Car Carrier 8-unit",product:"SCA",capacity:"8 cars",location:"LPK",lastDate:"04.02.2026",status:"available"},{id:"T14",plate:"72-8810",trailer:"72-CC02",vehicleNo:"VH-728810",type:"Car Carrier 6-unit",product:"SCA",capacity:"6 cars",location:"LPK",lastDate:"03.02.2026",status:"available"}],om=[{id:"EMP001",name:" ",phone:"081-234-5678",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP002",name:" ",phone:"081-345-6789",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP003",name:" ",phone:"081-456-7890",role:"driver",intern:!1,license:" .3",licenseValid:!0},{id:"EMP004",name:" ",phone:"081-567-8901",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP005",name:" ",phone:"082-123-4567",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP006",name:" ",phone:"082-234-5678",role:"driver",intern:!0,license:" .3",licenseValid:!0},{id:"EMP007",name:" ",phone:"082-345-6789",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP008",name:" ",phone:"083-123-4567",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP009",name:" ",phone:"083-234-5678",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP010",name:" ",phone:"083-345-6789",role:"driver",intern:!1,license:" .3",licenseValid:!1},{id:"EMP011",name:" ",phone:"084-123-4567",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"EMP012",name:" ",phone:"084-234-5678",role:"driver",intern:!1,license:" .4",licenseValid:!0},{id:"HLP001",name:" ",phone:"085-123-4567",role:"helper",intern:!1,license:null,licenseValid:!1},{id:"HLP002",name:" ",phone:"085-234-5678",role:"helper",intern:!0,license:null,licenseValid:!1}],Gl={upper:["U1","U2","U3","U4","U5","U6"],lower:["L1","L2","L3","L4","L5"]},cm=[{pos:"U1",vin:"202512-XH0672",model:"Hilux Revo",engine:"",color:"White",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1},{pos:"U2",vin:"202512-XH0673",model:"Hilux Revo",engine:"",color:"White",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1},{pos:"U3",vin:"202512-XH0674",model:"Hilux Revo",engine:"",color:"Silver",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1},{pos:"U4",vin:"202512-XH0675",model:"Hilux Revo",engine:"",color:"Red",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1},{pos:"U5",vin:"202512-XH0676",model:"Hilux Revo",engine:"",color:"White",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1},{pos:"L1",vin:"202512-XH0677",model:"Hilux Revo",engine:"",color:"Black",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1},{pos:"L2",vin:"202512-XH0678",model:"Hilux Revo",engine:"",color:"White",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1},{pos:"L3",vin:"202512-XH0679",model:"Hilux Revo",engine:"",color:"Gray",soldTo:"1100297",dealer:". ",shipTo:"9140343",shipToName:"LCB ",calling:"",returnCar:!1}];function dm({shipment:a,onBack:d,onEdit:o}){var x,N,g,B;const{t:u}=De(),{dispatch:f}=ct(),c=ci(a.product),C=()=>{f({type:"DISPATCH_SHIPMENT",payload:a.id}),d()},y=()=>{f({type:"SET_MODULE",payload:"reportin"})},k=((x=ai.find(A=>A.value===a.route))==null?void 0:x.label)||a.routeName||a.route,T=a.customers||(a.customerName?[{name:a.customerName,shipToCode:a.shipToCode||"",address:a.deliveryAddress||a.pickupAddress||"",volume:a.totalQty?`${(N=a.totalQty)==null?void 0:N.toLocaleString()} ${a.unit||"L"}`:""}]:[]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsxs("button",{onClick:d,className:"text-primary hover:text-primary-hover text-sm",children:[" ",u("common.back")]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-lg font-bold",children:a.id||a.shipmentNo}),a.customerName&&t.jsxs("span",{className:"text-sm text-text-sec",children:[" ",a.customerName]})]}),t.jsxs("p",{className:"text-xs text-text-sec",children:[k," | ",c.icon," ",c.label," | ",a.bu]})]}),t.jsx(sn,{status:a.status}),t.jsx(Ql,{product:a.product}),t.jsx(ni,{source:a.source})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>window.print(),className:"px-3 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg",children:[""," ",u("common.print")||"Print"]}),(a.status==="OPEN"||a.status==="DISPATCHED")&&t.jsx("button",{onClick:o,className:"px-3 py-1.5 rounded bg-primary text-white text-table hover:bg-primary-hover",children:u("common.edit")})]})]}),a.status==="OPEN"&&t.jsx(md,{icon:"",title:u("shipments.detail.readyToDispatch"),subtitle:`${a.driver1Name||a.driver||""}  ${a.truck||a.plate||""}`,action:u("shipments.detail.dispatchNow"),onAction:C}),a.status==="DISPATCHED"&&t.jsx(md,{icon:"",title:`${u("shipments.detail.dispatched")}  ${a.id}`,subtitle:`${u("shipments.detail.dispatchDescription")||"Driver notified."} ${u("shipments.detail.fleet")}: ${a.vehicleNo||a.truck||""}`,action:u("shipments.detail.reportIn"),onAction:y,gradient:"blue"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(rn,{header:u("shipmentDetail.panel.shipmentInfo"),children:t.jsxs("dl",{className:"space-y-2.5 text-table",children:[t.jsx(Ie,{label:u("shipmentDetail.fields.shipmentNo"),value:a.id||a.shipmentNo}),t.jsx(Ie,{label:u("common.status.label"),value:t.jsx(sn,{status:a.status})}),t.jsx(Ie,{label:u("shipmentDetail.fields.source"),value:t.jsx(ni,{source:a.source})}),t.jsx(Ie,{label:u("shipmentDetail.fields.product"),value:`${c.icon} ${c.label}`}),t.jsx(Ie,{label:u("shipmentDetail.fields.businessUnit"),value:a.bu}),t.jsx(Ie,{label:u("shipmentDetail.fields.site"),value:a.site}),t.jsx(Ie,{label:u("shipmentDetail.fields.route"),value:k}),t.jsx(Ie,{label:u("shipmentDetail.fields.shipmentType"),value:a.shipmentType||a.shippingType||""}),t.jsx(Ie,{label:u("shipmentDetail.fields.totalQty"),value:(g=a.totalQty)==null?void 0:g.toLocaleString()}),t.jsx(Ie,{label:u("shipmentDetail.fields.created"),value:Kl(a.created)}),a.ocrConfidence!=null&&t.jsx(Ie,{label:u("shipmentDetail.fields.ocrConfidence"),value:t.jsxs("span",{className:`font-bold ${a.ocrConfidence>=90?"text-green-600":a.ocrConfidence>=70?"text-yellow-600":"text-red-600"}`,children:[a.ocrConfidence,"%"]})}),t.jsx(Ie,{label:u("shipmentDetail.fields.fos"),value:((B=a.fos)==null?void 0:B.join(", "))||""})]})}),t.jsxs(rn,{header:u("shipmentDetail.panel.customersShipTo"),children:[T.length>0?t.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:T.map((A,v)=>t.jsxs("div",{className:"p-2.5 rounded border border-border-light bg-bg hover:bg-white transition-colors",children:[t.jsx("div",{className:"font-medium text-table text-text",children:A.name}),A.shipToCode&&t.jsxs("div",{className:"text-label text-text-sec mt-0.5",children:[u("shipmentDetail.fields.shipToCode"),": ",A.shipToCode]}),A.address&&t.jsx("div",{className:"text-label text-text-sec mt-0.5",children:A.address}),A.volume&&t.jsx("div",{className:"text-label font-medium text-primary mt-1",children:A.volume})]},v))}):t.jsx("div",{className:"text-table text-text-sec py-4 text-center",children:u("common.noDataFound")}),a.stages&&a.stages.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("h4",{className:"text-xs font-semibold text-text-sec mb-2",children:u("shipmentDetail.fields.stagesRoutePlan")}),t.jsx("div",{className:"space-y-1.5",children:(a.stages||[]).map((A,v)=>t.jsxs("div",{className:"flex items-center gap-2 text-table",children:[t.jsx("span",{className:`w-5 h-5 rounded-full text-xs flex items-center justify-center font-medium text-white ${A.status==="completed"?"bg-success":"bg-gray-300"}`,children:A.n??A.no??v}),t.jsxs("span",{className:"text-text",children:[A.from||A.origin||A.departure,"  ",A.to||A.dest||A.destination]}),t.jsxs("span",{className:"text-text-muted text-xs",children:["(",A.distance||A.stdDist||0," km)"]})]},v))}),t.jsx("div",{className:"mt-2 text-table",children:t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:["Total: ",(a.stages||[]).reduce((A,v)=>A+(v.distance||v.stdDist||0),0)," km"]})})]})]}),t.jsxs(rn,{header:u("shipmentDetail.panel.scheduleFees"),children:[t.jsxs("dl",{className:"space-y-2.5 text-table",children:[t.jsx(Ie,{label:u("shipmentDetail.fields.pickupDate"),value:Kl(a.requestedPickupDate)||""}),t.jsx(Ie,{label:u("shipmentDetail.fields.deliveryDate"),value:Kl(a.requestedDeliveryDate)||""}),t.jsx(Ie,{label:u("shipmentDetail.fields.totalWeight"),value:a.totalWeight?`${a.totalWeight.toLocaleString()} kg`:""}),t.jsx(Ie,{label:u("shipmentDetail.fields.truckPlate"),value:a.truck||a.plate}),t.jsx(Ie,{label:u("shipmentDetail.fields.trailer"),value:a.trailer||""}),t.jsx(Ie,{label:u("shipmentDetail.fields.vehicleNo"),value:a.vehicleNo}),t.jsx(Ie,{label:u("shipmentDetail.fields.truckType"),value:a.truckType||a.vehicleType}),t.jsx(Ie,{label:u("shipmentDetail.fields.driver1"),value:a.driver1Name||a.driver}),t.jsx(Ie,{label:u("shipmentDetail.fields.driver1Id"),value:a.driver1||a.driverId}),t.jsx(Ie,{label:u("shipmentDetail.fields.contractWbs"),value:a.wbs||""}),t.jsx(Ie,{label:u("shipmentDetail.fields.transportFee"),value:a.transportFee||" (Collect)"}),t.jsx(Ie,{label:u("shipmentDetail.fields.tripPay"),value:a.tripPay||" (Pay)"}),t.jsx(Ie,{label:u("shipmentDetail.fields.brokenMiles"),value:a.brokenMiles?u("common.yes"):u("common.no")})]}),a.product==="NGV"&&t.jsxs("div",{className:"mt-4 p-2.5 bg-green-50 rounded border border-green-200",children:[t.jsx("h4",{className:"text-xs font-semibold text-green-700 mb-1",children:u("shipmentDetail.ngv.title")}),t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs mt-1",children:[t.jsx("dt",{className:"text-green-600",children:"Quality Station"}),t.jsx("dd",{className:"text-green-800",children:a.ngvQualityStation||"BTC-01"}),t.jsx("dt",{className:"text-green-600",children:"Tube Count"}),t.jsx("dd",{className:"text-green-800",children:a.ngvTubeCount||8}),t.jsx("dt",{className:"text-green-600",children:"Pressure Before"}),t.jsx("dd",{className:"text-green-800",children:a.ngvPressureBefore||"180 bar"}),t.jsx("dt",{className:"text-green-600",children:"Pressure After"}),t.jsx("dd",{className:"text-green-800",children:a.ngvPressureAfter||"20 bar"})]})]}),a.product==="FUEL"&&t.jsxs("div",{className:"mt-4 p-2.5 bg-blue-50 rounded border border-blue-200",children:[t.jsx("h4",{className:"text-xs font-semibold text-blue-700 mb-1",children:u("shipmentDetail.fuel.title")}),t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs mt-1",children:[t.jsx("dt",{className:"text-blue-600",children:"Compartments"}),t.jsx("dd",{className:"text-blue-800",children:a.fuelCompartments||4}),t.jsx("dt",{className:"text-blue-600",children:"Fuel Type"}),t.jsx("dd",{className:"text-blue-800",children:a.fuelType||"DIEB07"}),t.jsx("dt",{className:"text-blue-600",children:"Total Capacity"}),t.jsx("dd",{className:"text-blue-800",children:a.fuelCapacity||"36,000 L"}),t.jsx("dt",{className:"text-blue-600",children:"Seal Number"}),t.jsx("dd",{className:"text-blue-800",children:a.fuelSealNo||"SL-2026-001"})]})]}),a.product==="CONTAINER"&&t.jsxs("div",{className:"mt-4 p-2.5 bg-orange-50 rounded border border-orange-200",children:[t.jsx("h4",{className:"text-xs font-semibold text-orange-700 mb-1",children:u("shipmentDetail.container.title")}),t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs mt-1",children:[t.jsx("dt",{className:"text-orange-600",children:"Container No."}),t.jsx("dd",{className:"text-orange-800",children:a.containerNo||"MSKU-1234567"}),t.jsx("dt",{className:"text-orange-600",children:"Size"}),t.jsx("dd",{className:"text-orange-800",children:a.containerSize||"40 ft"}),t.jsx("dt",{className:"text-orange-600",children:"VGM (kg)"}),t.jsx("dd",{className:"text-orange-800",children:a.vgmWeight||"28,500"}),t.jsx("dt",{className:"text-orange-600",children:"Seal"}),t.jsx("dd",{className:"text-orange-800",children:a.containerSeal||"CS-20260219"})]})]}),a.product==="SCA"&&t.jsxs("div",{className:"mt-4 p-2.5 bg-amber-50 rounded border border-amber-200",children:[t.jsx("h4",{className:"text-xs font-semibold text-amber-700 mb-1",children:u("shipmentDetail.sca.title")}),t.jsxs("dl",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs mt-1",children:[t.jsx("dt",{className:"text-amber-600",children:"Carrier Positions"}),t.jsx("dd",{className:"text-amber-800",children:a.scaPositions||6}),t.jsx("dt",{className:"text-amber-600",children:"Loaded Vehicles"}),t.jsx("dd",{className:"text-amber-800",children:a.scaLoaded||5}),t.jsx("dt",{className:"text-amber-600",children:"Transport Fee"}),t.jsx("dd",{className:"text-amber-800",children:a.scaTransportFee||"Collect"}),t.jsx("dt",{className:"text-amber-600",children:"Trip Pay"}),t.jsx("dd",{className:"text-amber-800",children:a.scaTripPay||"Pay"})]})]})]})]}),a.specialInstructions&&t.jsx(rn,{header:u("shipmentDetail.panel.specialInstructions"),children:t.jsx("p",{className:"text-table text-text",children:a.specialInstructions})})]})}function Ie({label:a,value:d}){return t.jsxs("div",{className:"flex justify-between gap-2",children:[t.jsx("dt",{className:"text-text-sec whitespace-nowrap",children:a}),t.jsx("dd",{className:"font-medium text-text text-right",children:d||""})]})}function Ft({title:a,defaultOpen:d=!0,children:o,badge:u}){const[f,c]=F.useState(d);return t.jsxs("div",{className:"border border-border-light rounded-lg bg-white mb-3",children:[t.jsx("button",{onClick:()=>c(C=>!C),className:"w-full flex items-center justify-between px-4 py-2.5 text-left hover:bg-bg/50 transition-colors",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`text-xs text-text-muted transition-transform ${f?"rotate-90":""}`,children:""}),t.jsx("span",{className:"text-sm font-semibold text-text",children:a}),u&&t.jsx("span",{className:"badge-pill bg-primary/10 text-primary",children:u})]})}),f&&t.jsx("div",{className:"px-4 pb-4 pt-1",children:o})]})}function ue({label:a,type:d="text",value:o,onChange:u,options:f,placeholder:c,disabled:C,required:y,className:k=""}){const T="w-full border border-border rounded px-2.5 py-1.5 text-table text-text focus:outline-none focus:ring-1 focus:ring-primary focus:border-primary disabled:bg-bg disabled:text-text-muted";return t.jsxs("div",{className:k,children:[a&&t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[a,y&&t.jsx("span",{className:"text-error ml-0.5",children:"*"})]}),d==="select"?t.jsxs("select",{value:o||"",onChange:x=>u==null?void 0:u(x.target.value),disabled:C,className:T,children:[t.jsx("option",{value:"",children:c||"Select..."}),f==null?void 0:f.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value))]}):d==="textarea"?t.jsx("textarea",{value:o||"",onChange:x=>u==null?void 0:u(x.target.value),disabled:C,placeholder:c,rows:3,className:T}):t.jsx("input",{type:d,value:o||"",onChange:x=>u==null?void 0:u(x.target.value),disabled:C,placeholder:c,className:T})]})}const um={info:"border-l-primary bg-blue-50 text-primary",warning:"border-l-warning bg-amber-50 text-warning",success:"border-l-success bg-green-50 text-success",error:"border-l-error bg-red-50 text-error"};function Nt({variant:a="info",icon:d,children:o}){return t.jsxs("div",{className:`border-l-4 rounded-r-lg px-4 py-2.5 text-table flex items-start gap-2 ${um[a]}`,children:[d&&t.jsx("span",{className:"text-base mt-0.5",children:d}),t.jsx("div",{children:o})]})}var nn=vd();const pm={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};function an({open:a,onClose:d,title:o,size:u="md",children:f,footer:c}){return F.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),a?nn.createPortal(t.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:d}),t.jsxs("div",{className:`relative bg-white rounded-lg shadow-xl ${pm[u]} w-full mx-4 max-h-[90vh] flex flex-col`,children:[o&&t.jsxs("div",{className:"sticky top-0 bg-white border-b border-border px-5 py-3 rounded-t-lg flex items-center justify-between",children:[t.jsx("h3",{className:"text-base font-semibold text-text",children:o}),t.jsx("button",{onClick:d,className:"text-text-muted hover:text-text text-lg leading-none",children:""})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:f}),c&&t.jsx("div",{className:"sticky bottom-0 bg-white border-t border-border px-5 py-3 rounded-b-lg flex justify-end gap-2",children:c})]})]}),document.body):null}function mm({open:a,onClose:d,onSelect:o}){const{t:u}=De(),[f,c]=F.useState(""),C=F.useMemo(()=>{if(!f)return ii;const k=f.toLowerCase();return ii.filter(T=>T.plate.toLowerCase().includes(k)||T.type.toLowerCase().includes(k)||T.vehicleNo.toLowerCase().includes(k)||T.trailer.toLowerCase().includes(k))},[f]),y=k=>{o({plate:k.plate,trailer:k.trailer,vehicleNo:k.vehicleNo,type:k.type}),d()};return t.jsx(an,{open:a,onClose:d,title:u("truckSearch.title"),size:"lg",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex border border-border rounded overflow-hidden",children:[t.jsx("input",{type:"text",placeholder:u("common.search")+"...",value:f,onChange:k=>c(k.target.value),className:"flex-1 px-3 py-2 text-table focus:outline-none"}),t.jsx("button",{className:"px-3 bg-primary text-white text-sm",children:u("truckSearch.search")})]}),t.jsx("div",{className:"max-h-[350px] overflow-y-auto border border-border-light rounded",children:t.jsxs("table",{className:"w-full text-table",children:[t.jsx("thead",{className:"sticky top-0",children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:u("truckSearch.truckPlate")}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:u("truckSearch.trailer")}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:u("truckSearch.vehicleNo")}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:u("reportIn.table.type")}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:u("freightOrders.table.status")}),t.jsx("th",{className:"px-3 py-2"})]})}),t.jsxs("tbody",{children:[C.map(k=>t.jsxs("tr",{className:"border-b border-border-light hover:bg-blue-50/50",children:[t.jsx("td",{className:"px-3 py-2 font-mono font-semibold text-primary",children:k.plate}),t.jsx("td",{className:"px-3 py-2",children:k.trailer||""}),t.jsx("td",{className:"px-3 py-2",children:k.vehicleNo}),t.jsx("td",{className:"px-3 py-2",children:k.type}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${k.status==="available"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:k.status==="available"?u("truckSearch.available"):u("truckSearch.inUse")})}),t.jsx("td",{className:"px-3 py-2",children:k.status==="available"?t.jsx("button",{onClick:()=>y(k),className:"px-3 py-1 rounded bg-primary text-white text-xs font-medium hover:bg-primary-hover",children:u("truckSearch.select")}):t.jsx("button",{disabled:!0,className:"px-3 py-1 rounded bg-gray-200 text-gray-500 text-xs cursor-not-allowed",children:u("truckSearch.inUse")})})]},k.id)),C.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center py-6 text-text-muted",children:u("truckSearch.noTrucksFound")})})]})]})})]})})}function xm({open:a,onClose:d,onSelect:o,product:u}){const{t:f}=De(),[c,C]=F.useState(null),y=ci(u),k=F.useMemo(()=>ii.filter(x=>x.product===u&&x.status==="available"),[u]),T=()=>{c&&(o({plate:c.plate,trailer:c.trailer,vehicleNo:c.vehicleNo,type:c.type}),C(null),d())};return t.jsx(an,{open:a,onClose:d,title:f("fleetSuggest.title"),size:"lg",footer:t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:d,className:"px-4 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg",children:f("common.cancel")}),t.jsx("button",{onClick:T,disabled:!c,className:`px-4 py-1.5 rounded text-table font-medium ${c?"bg-primary text-white hover:bg-primary-hover":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:f("fleetSuggest.confirmSelection")})]}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"border-l-4 border-l-primary bg-blue-50 rounded-r px-4 py-2 text-table text-primary flex items-center gap-2",children:["Showing trucks for: ",t.jsxs("strong",{children:[y.icon," ",y.label]})]}),t.jsxs("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:[k.length===0&&t.jsxs("div",{className:"text-center py-8 text-text-muted",children:[f("fleetSuggest.noAvailableTrucks")," ",y.label]}),k.map(x=>t.jsxs("button",{onClick:()=>C(x),className:`w-full text-left p-3 rounded-lg border transition-all ${(c==null?void 0:c.id)===x.id?"border-primary bg-blue-50 shadow-sm ring-1 ring-primary":"border-border-light hover:border-primary hover:bg-blue-50/30"}`,children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsxs("span",{className:"font-bold text-primary text-sm",children:[y.icon," ",x.plate]}),t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:f("fleetSuggest.available")})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs text-text-sec",children:[t.jsxs("span",{children:[f("fleetSuggest.trailer"),": ",x.trailer||""]}),t.jsxs("span",{children:[f("fleetSuggest.vehicle"),": ",x.vehicleNo]}),t.jsxs("span",{children:[f("fleetSuggest.type"),": ",x.type]}),t.jsxs("span",{children:[f("fleetSuggest.capacity"),": ",x.capacity]}),t.jsxs("span",{children:[f("fleetSuggest.location"),": ",x.location]}),t.jsxs("span",{children:[f("fleetSuggest.last"),": ",x.lastDate]})]})]},x.id))]})]})})}function hm({open:a,onClose:d,onSelect:o,roleFilter:u}){const{t:f}=De(),[c,C]=F.useState(""),y=F.useMemo(()=>{let T=om;if(u&&(T=T.filter(N=>N.role===u)),!c)return T;const x=c.toLowerCase();return T.filter(N=>N.name.toLowerCase().includes(x)||N.id.toLowerCase().includes(x)||N.phone.includes(x))},[c,u]),k=T=>{o(T),C(""),d()};return t.jsx(an,{open:a,onClose:d,title:f("employeeSearch.title"),size:"md",children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex border border-border rounded overflow-hidden",children:[t.jsx("input",{type:"text",placeholder:f("common.search")+"...",value:c,onChange:T=>C(T.target.value),className:"flex-1 px-3 py-2 text-table focus:outline-none"}),t.jsx("button",{className:"px-3 bg-primary text-white text-sm",children:f("truckSearch.search")})]}),t.jsxs("div",{className:"space-y-1 max-h-[350px] overflow-y-auto",children:[y.map(T=>t.jsxs("button",{onClick:()=>k(T),className:"w-full flex items-center justify-between p-3 rounded-lg hover:bg-blue-50/50 text-left border border-border-light transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${T.role==="driver"?"bg-primary":"bg-accent"}`}),t.jsxs("div",{children:[t.jsx("div",{className:"text-table font-medium text-text",children:T.name}),t.jsxs("div",{className:"text-xs text-text-sec",children:[T.id,"  ",T.phone]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[T.intern&&t.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-700",children:f("employeeSearch.intern")}),T.license&&t.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${T.licenseValid?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[T.licenseValid?"":""," ",T.license]}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${T.role==="driver"?"bg-blue-100 text-blue-700":"bg-teal-100 text-teal-700"}`,children:T.role==="driver"?".":"."})]})]},T.id)),y.length===0&&t.jsx("div",{className:"text-center py-6 text-text-muted text-table",children:f("employeeSearch.noEmployeesFound")})]})]})})}function fm({open:a,onClose:d,stageIndex:o,direction:u,onConfirm:f}){const{t:c}=De(),C=u==="up"?o-1:o+1;return t.jsx(an,{open:a,onClose:d,title:c("stageSwap.title"),size:"sm",footer:t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:d,className:"px-4 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg",children:c("common.cancel")}),t.jsx("button",{onClick:f,className:"px-4 py-1.5 rounded bg-primary text-white text-table font-medium hover:bg-primary-hover",children:c("stageSwap.confirmSearchRoute")})]}),children:t.jsxs("div",{className:"space-y-3",children:[t.jsx(Nt,{variant:"warning",icon:"",children:c("stageSwap.warning")}),t.jsxs("p",{className:"text-table text-text",children:["Stage ",t.jsx("strong",{children:o})," ",c("stageSwap.swapStages")," ",t.jsx("strong",{children:C}),"."]}),t.jsx("p",{className:"text-table text-text-sec",children:c("stageSwap.dummyRouteInfo")})]})})}const gm=[{stage:0,depNo:"",departure:"",destNo:"010007",destination:"",type:"First",plannedArr:"",plannedDep:"",distance:0},{stage:1,depNo:"010007",departure:"",destNo:"010025",destination:" ()",type:"Transport",plannedArr:"",plannedDep:"",distance:151},{stage:2,depNo:"010025",departure:" ()",destNo:"010007",destination:"",type:"Loading Transfer",plannedArr:"",plannedDep:"",distance:160}],ym=[{key:"driver1",labelKey:"shipmentForm.driverRole1",required:!0},{key:"driver2",labelKey:"shipmentForm.driverRole2",required:!1},{key:"driver3",labelKey:"shipmentForm.driverRole3",required:!1},{key:"driver4",labelKey:"shipmentForm.driverRole4",required:!1},{key:"helper1",labelKey:"shipmentForm.helperRole1",required:!1},{key:"helper2",labelKey:"shipmentForm.helperRole2",required:!1}],bm={First:"bg-blue-100 text-blue-700",Transport:"bg-orange-100 text-orange-700","Loading Transfer":"bg-green-100 text-green-700",Customer:"bg-green-100 text-green-700",Last:"bg-gray-200 text-gray-700"};function vm({shipment:a,selectedFO:d,channel:o,onBack:u,isEditMode:f=!1}){var Re,dt;const{t:c}=De(),{dispatch:C}=ct(),y=ci((o==null?void 0:o.product)||(d==null?void 0:d.product)||(a==null?void 0:a.product)||"LPG"),k=ym.map(m=>({...m,label:c(m.labelKey)})),[T,x]=F.useState({shipmentNo:(a==null?void 0:a.id)||"Auto-generated",bu:(o==null?void 0:o.bu)||(d==null?void 0:d.bu)||(a==null?void 0:a.bu)||"",product:(o==null?void 0:o.product)||(d==null?void 0:d.product)||(a==null?void 0:a.product)||"",site:(o==null?void 0:o.site)||(d==null?void 0:d.site)||(a==null?void 0:a.site)||"",shipmentType:(a==null?void 0:a.shipmentType)||y.shipType,shippingType:(a==null?void 0:a.shippingType)||"01",route:(d==null?void 0:d.route)||(a==null?void 0:a.route)||"",wbs:(d==null?void 0:d.wbs)||(a==null?void 0:a.wbs)||"",contractDate:"",plannedDate:"",truck:(a==null?void 0:a.truck)||"",trailer:(a==null?void 0:a.trailer)||"",vehicleNo:(a==null?void 0:a.vehicleNo)||"",truckType:(a==null?void 0:a.truckType)||"",transportFee:"",tripPay:"",brokenMiles:!1,poNo:"",ticketNo:"",ticketDate:"",customStage1:"",customStage2:"",customStage3:"",customStage4:""}),[N,g]=F.useState(k.map(m=>({key:m.key,id:a!=null&&a.driver1&&m.key==="driver1"?a.driver1:"",name:a!=null&&a.driver1Name&&m.key==="driver1"?a.driver1Name:"",phone:"",intern:!1,licenseValid:m.key==="driver1"&&(a==null?void 0:a.driver1)}))),[B,A]=F.useState(((Re=a==null?void 0:a.stages)==null?void 0:Re.map((m,I)=>({stage:I,depNo:"",departure:m.from||"",destNo:"",destination:m.to||"",type:I===0?"First":m.type||"Transport",plannedArr:"",plannedDep:"",distance:m.distance||0})))||[...gm]),[v,E]=F.useState(!1),[$,G]=F.useState([]),[q,Y]=F.useState({receiveDate:"",refDate:"",dispatchDate:"",refNo:"",custNotify:"",custPSI:"",pairedVehicle:"",sentFrom:"",custOrder:"",brokenTubeDate:"",remark:"",mainTube:{no:"NGV-T001",psi:3200,weight:4250,temp:32},pillarTube:{no:"NGV-P001",psi:3100,weight:4100,temp:33},qualityReadings:[1,2,3,4].map((m,I)=>({station:hd[I],temp1:0,temp2:0,pressure:0,alc1:0,alc2:0,note:""}))}),[R,X]=F.useState({shipCust:"",custName:"Shell ()",custCode:"SH-SRB-001",deliveries:[{shipTo:"269307",name:".  ",code:"SH-001",deliveryNo:"8023742938",comps:[{comp:"001",qty:9e3,status:"Y "},{comp:"002",qty:6e3,status:"Y "},{comp:"004",qty:5e3,status:"Y "},{comp:"",qty:0,status:""}]},{shipTo:"240217",name:".    ",code:"IRP-001",deliveryNo:"8023742937",comps:[{comp:"003",qty:8e3,status:"Y "},{comp:"",qty:0,status:""},{comp:"",qty:0,status:""},{comp:"",qty:0,status:""}]}]}),[ee,te]=F.useState({shipTo:"",soldTo:"",payer:"",billTo:"",shipToName:"",soldToName:"Evergreen Line (TH)",payerName:"",billToName:"",booking:"BKG-EV-2026-0142",shippingLine:"",vessel:"",containerCount:2,remark1:"",remark2:"",containers:[{no:"EGHU1234567",size:"40ft HC",type:"FCL",seal:"",weight:24500,tare:3800,vgm:28300},{no:"EGHU7654321",size:"40ft HC",type:"FCL",seal:"",weight:22100,tare:3800,vgm:25900}]}),[me,w]=F.useState({yardNo:"",transType:"I",callingNo:"",groupNo:"",trip:"",transportFee:"Y ",tripPay:"Y ",brokenMiles:!1,positions:Gl,vehicles:cm}),[he,je]=F.useState(!1),[be,Ce]=F.useState(!1),[Te,K]=F.useState(null),[M,O]=F.useState(null),W=F.useCallback((m,I)=>x(pe=>({...pe,[m]:I})),[]),J=m=>{W("route",m),E(m==="CUSTOM")},j=m=>{x(I=>({...I,truck:m.plate,trailer:m.trailer,vehicleNo:m.vehicleNo,truckType:m.type})),je(!1),Ce(!1)},_=m=>{const I=si.find(pe=>pe.plate===m);I&&x(pe=>({...pe,truck:I.plate,trailer:I.trailer||"",vehicleNo:I.vehicleNo,truckType:I.type}))},oe=m=>{const I=si.find(pe=>pe.vehicleNo===m);I&&x(pe=>({...pe,truck:I.plate,trailer:I.trailer||"",vehicleNo:I.vehicleNo,truckType:I.type}))},V=m=>{Te&&(g(I=>I.map(pe=>pe.key===Te?{...pe,id:m.id,name:m.name,phone:m.phone,intern:m.intern,licenseValid:m.licenseValid}:pe)),K(null))},ye=(m,I)=>{O({index:m,direction:I})},ge=()=>{if(!M)return;const{index:m,direction:I}=M,pe=I==="up"?m-1:m+1;if(pe<0||pe>=B.length){O(null);return}A(Ve=>{const Ue=[...Ve];return[Ue[m],Ue[pe]]=[Ue[pe],Ue[m]],Ue.map((Ge,$e)=>({...Ge,stage:$e}))}),O(null)},Se=()=>{A(m=>[...m,{stage:m.length,depNo:"",departure:"",destNo:"",destination:"",type:"Transport",plannedArr:"",plannedDep:"",distance:0}])},ve=B.reduce((m,I)=>m+(I.distance||0),0),U=d?im.filter(m=>m.route===d.route&&m.id!==d.id&&m.product===d.product):[],fe=()=>{var pe,Ve,Ue,Ge,$e,Er;const m=[];if(T.bu||m.push("BU"),T.product||d!=null&&d.product||m.push("Product"),T.route||m.push("Route"),T.truck||m.push("Truck"),(pe=N[0])!=null&&pe.name||m.push("Driver"),m.length>0){window.alert(` Please fill required fields:
${m.join(", ")}`);return}const I={id:(a==null?void 0:a.id)||tl("SHP"),shipmentNo:(a==null?void 0:a.id)||tl("SHP"),status:"OPEN",product:T.product||(d==null?void 0:d.product),bu:T.bu||(d==null?void 0:d.bu),site:T.site||(d==null?void 0:d.site),source:"Manual Entry",sourceIcon:"",customer:(d==null?void 0:d.customer)||"",customerName:(d==null?void 0:d.customer)||"",route:T.route,routeName:((Ve=ai.find(jt=>jt.value===T.route))==null?void 0:Ve.label)||T.route,truck:T.truck,plate:T.truck,trailer:T.trailer,vehicleNo:T.vehicleNo,vehicleType:T.truckType,driver:((Ue=N[0])==null?void 0:Ue.name)||"",driver1:((Ge=N[0])==null?void 0:Ge.id)||"",driver1Name:(($e=N[0])==null?void 0:$e.name)||"",driverId:((Er=N[0])==null?void 0:Er.id)||"",totalQty:d!=null&&d.qty?parseInt(d.qty.replace(/[^0-9]/g,"")):0,totalWeight:0,created:new Date().toISOString().split("T")[0],stages:B.map(jt=>({no:jt.stage,from:jt.departure,to:jt.destination,type:jt.type,distance:jt.distance,status:"pending"})),consolidatedFOs:$.map(jt=>jt.id),channelSource:(o==null?void 0:o.key)||"manual"};f&&(a!=null&&a.id)?C({type:"UPDATE_SHIPMENT",payload:I}):C({type:"ADD_SHIPMENT",payload:I}),u()},we=()=>{fe(),a!=null&&a.id&&C({type:"DISPATCH_SHIPMENT",payload:a.id}),u()},Fe=T.product||(d==null?void 0:d.product)||"";return t.jsxs("div",{className:"space-y-3",children:[t.jsx("div",{className:"bg-blue-50 rounded-lg border border-blue-200 p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-text flex items-center gap-2",children:f?`${c("shipmentForm.editShipment")}: ${T.shipmentNo}`:c("shipmentForm.createShipment")}),t.jsx("p",{className:"text-table text-text-sec mt-0.5",children:f?`${c("shipmentForm.fosLabel")}: ${(dt=a==null?void 0:a.fos)==null?void 0:dt.join(", ")}`:c("shipmentForm.consolidateDesc")})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${f?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:f?(a==null?void 0:a.status)||"OPEN":c("shipmentForm.newStatus")}),t.jsxs("button",{onClick:u,className:"px-3 py-1.5 rounded border border-blue-300 text-table text-primary hover:bg-blue-100",children:[" ",c("shipmentForm.backToFOList")]})]})]})}),!d&&!f&&t.jsx(Ft,{title:c("shipmentForm.selectBUProduct"),children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsx(ue,{label:c("shipmentForm.businessUnit"),type:"select",value:T.bu,onChange:m=>W("bu",m),required:!0,options:qp,placeholder:c("shipmentForm.selectBU")}),t.jsx(ue,{label:c("shipmentForm.productType"),type:"select",value:T.product,onChange:m=>{W("product",m)},required:!0,options:Yp,placeholder:c("shipmentForm.selectProduct")}),t.jsx(ue,{label:c("shipmentForm.siteOptional"),type:"select",value:T.site,onChange:m=>W("site",m),options:Xp,placeholder:c("shipmentForm.allSites")})]})}),d&&t.jsxs(Ft,{title:c("shipmentForm.selectedFO"),badge:`1 ${c("shipmentForm.foSelected")}`,children:[t.jsx(Nt,{variant:"info",icon:"",children:c("shipmentForm.consolidateInfo")}),t.jsxs("div",{className:"mt-2 border-2 border-primary rounded-lg p-4 bg-blue-50/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-bold text-primary text-base",children:d.id}),t.jsx(Ql,{product:d.product})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-table",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.buSite")}),t.jsxs("span",{className:"font-medium",children:[d.bu," / ",d.site]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.route")}),t.jsx("span",{className:"font-medium",children:d.route})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.customer")}),t.jsx("span",{className:"font-medium",children:d.customer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.shipTo")}),t.jsx("span",{className:"font-medium",children:d.shipTo})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.quantity")}),t.jsx("span",{className:"font-medium",children:d.qty})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.plannedDate")}),t.jsx("span",{className:"font-medium",children:d.date})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.contractWBS")}),t.jsx("span",{className:"font-medium",children:d.wbs})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-text-muted block",children:c("shipmentForm.statusLabel")}),t.jsx("span",{className:"inline-flex px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:c("shipmentForm.approved")})]})]})]}),U.length>0&&t.jsxs("div",{className:"mt-3 border border-border rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"bg-gray-50 px-3 py-2 border-b border-border flex items-center justify-between",children:[t.jsxs("span",{className:"text-table font-semibold",children:[c("shipmentForm.matchingFOs"),": ",t.jsx("strong",{children:d.route})]}),t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[U.length," ",c("shipmentForm.available")]})]}),t.jsx("div",{className:"max-h-[150px] overflow-y-auto",children:U.map(m=>{const I=$.includes(m.id);return t.jsxs("div",{className:`flex items-center gap-3 px-3 py-2 border-b border-border-light text-table ${I?"bg-green-50":"hover:bg-blue-50/30"}`,children:[t.jsx("input",{type:"checkbox",checked:I,onChange:pe=>{G(Ve=>pe.target.checked?[...Ve,m.id]:Ve.filter(Ue=>Ue!==m.id))},className:"w-4 h-4 accent-primary"}),t.jsx("span",{className:"font-mono font-semibold text-primary",children:m.id}),t.jsx("span",{children:m.customer}),t.jsx("span",{className:"text-text-sec",children:m.qty}),t.jsx("span",{className:"text-text-sec",children:m.date})]},m.id)})})]})]}),t.jsxs(Ft,{title:c("shipmentForm.shipmentHeader"),children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-3",children:[t.jsx(ue,{label:c("shipmentForm.shipmentNo"),value:T.shipmentNo,disabled:!0}),t.jsx(ue,{label:c("shipmentForm.shipmentType"),type:"select",value:T.shipmentType,onChange:m=>W("shipmentType",m),options:Zp,required:!0}),t.jsx(ue,{label:c("shipmentForm.shippingType"),type:"select",value:T.shippingType,onChange:m=>W("shippingType",m),options:Jp,required:!0}),t.jsx(ue,{label:c("shipmentForm.productType"),value:Fe,disabled:!0}),t.jsx(ue,{label:c("shipmentForm.buSite"),value:`${T.bu||(d==null?void 0:d.bu)||""} / ${T.site||(d==null?void 0:d.site)||""}`,disabled:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[t.jsx(ue,{label:c("shipmentForm.route"),type:"select",value:T.route,onChange:J,options:ai.map(m=>({value:m.value,label:m.label})),required:!0}),t.jsx(ue,{label:c("shipmentForm.contractWBS"),value:T.wbs,onChange:m=>W("wbs",m),required:!0}),t.jsx(ue,{label:c("shipmentForm.contractDate"),type:"date",value:T.contractDate,onChange:m=>W("contractDate",m),required:!0}),t.jsx(ue,{label:c("shipmentForm.plannedDateTime"),type:"datetime-local",value:T.plannedDate,onChange:m=>W("plannedDate",m),required:!0})]}),v&&t.jsxs("div",{className:"mt-3 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[t.jsx("div",{className:"text-table font-semibold text-orange-700 mb-2",children:c("shipmentForm.customRoute")}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(ue,{label:c("shipmentForm.stage1Origin"),type:"select",value:T.customStage1,onChange:m=>W("customStage1",m),options:em}),t.jsx(ue,{label:c("shipmentForm.stage2Loading"),type:"select",value:T.customStage2,onChange:m=>W("customStage2",m),options:tm}),t.jsx(ue,{label:c("shipmentForm.stage3Transfer"),type:"select",value:T.customStage3,onChange:m=>W("customStage3",m),options:rm}),t.jsx(ue,{label:c("shipmentForm.stage4Return"),type:"select",value:T.customStage4,onChange:m=>W("customStage4",m),options:lm})]}),t.jsx("div",{className:"mt-2 text-right",children:t.jsx("button",{className:"px-3 py-1 rounded bg-orange-500 text-white text-xs font-medium hover:bg-orange-600",onClick:()=>{x(m=>({...m,route:"DUMMY",customStage1:"",customStage2:"",customStage3:"",customStage4:""})),window.alert("Dummy route created with distance 0 and type Dummy.")},children:c("shipmentForm.createDummyRoute")})})]}),f&&t.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed border-border",children:[t.jsx("div",{className:"text-table font-semibold text-text-sec mb-2",children:c("shipmentForm.additionalFields")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsx(ue,{label:c("shipmentForm.poNo"),value:T.poNo,onChange:m=>W("poNo",m),placeholder:"Purchase Order No."}),t.jsx(ue,{label:c("shipmentForm.ticketNo"),value:T.ticketNo,onChange:m=>W("ticketNo",m),placeholder:"Ticket Document No."}),t.jsx(ue,{label:c("shipmentForm.ticketDate"),type:"date",value:T.ticketDate,onChange:m=>W("ticketDate",m)})]})]})]}),t.jsxs(Ft,{title:c("shipmentForm.vehicleAssignment"),badge:T.truck?T.truck:null,children:[t.jsx(Nt,{variant:"info",icon:"",children:c("shipmentForm.vehicleInfo")}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-text-sec mb-1",children:[t.jsx("span",{className:"text-error",children:"*"})," ",c("shipmentForm.truckPlate")]}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",value:T.truck,onChange:m=>W("truck",m.target.value),onBlur:m=>_(m.target.value),placeholder:"e.g. 83-0569",disabled:f,className:"flex-1 border border-border rounded-l px-2.5 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary disabled:bg-bg disabled:text-text-muted"}),t.jsx("button",{onClick:()=>je(!0),disabled:f,className:"px-2.5 py-1.5 border border-l-0 border-border rounded-r bg-gray-50 hover:bg-gray-100 text-sm disabled:opacity-50",children:"Search"})]})]}),t.jsx(ue,{label:c("shipmentForm.trailerPlate"),value:T.trailer,disabled:!0}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-text-sec mb-1",children:c("shipmentForm.vehicleNoLabel")}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",value:T.vehicleNo,onChange:m=>W("vehicleNo",m.target.value),onBlur:m=>oe(m.target.value),placeholder:"Or enter vehicle no.",disabled:f,className:"flex-1 border border-border rounded-l px-2.5 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary disabled:bg-bg disabled:text-text-muted"}),t.jsx("button",{onClick:()=>je(!0),disabled:f,className:"px-2.5 py-1.5 border border-l-0 border-border rounded-r bg-gray-50 hover:bg-gray-100 text-sm disabled:opacity-50",children:"Search"})]})]}),t.jsx(ue,{label:c("shipmentForm.truckType"),value:T.truckType,disabled:!0})]}),!f&&t.jsx("button",{onClick:()=>Ce(!0),className:"mt-3 px-3 py-1.5 rounded bg-primary text-white text-table font-medium hover:bg-primary-hover",children:c("shipmentForm.fleetSuggest")})]}),t.jsxs(Ft,{title:c("shipmentForm.driversHelpers"),children:[t.jsx(Nt,{variant:"warning",icon:"",children:c("shipmentForm.driverCheckInfo")}),t.jsx("div",{className:"overflow-x-auto mt-3",children:t.jsxs("table",{className:"w-full text-table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-text-sec w-8",children:"#"}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec w-28",children:c("shipmentForm.role")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec",children:c("shipmentForm.employeeId")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec",children:c("shipmentForm.name")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec w-24",children:c("shipmentForm.phone")}),t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-text-sec w-14",children:c("shipmentForm.intern")}),t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-text-sec w-20",children:c("shipmentForm.license")})]})}),t.jsx("tbody",{children:N.map((m,I)=>t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"text-center px-2 py-2 font-medium",children:I+1}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("span",{className:k[I].required?"font-bold text-error":"",children:k[I].label})}),t.jsx("td",{className:"px-2 py-2",children:t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",value:m.id,readOnly:!0,placeholder:k[I].required?"Search ID/Name...":"Optional...",disabled:f,className:"flex-1 border border-border rounded-l px-2 py-1 text-table bg-white disabled:bg-bg disabled:text-text-muted"}),t.jsx("button",{onClick:()=>K(m.key),disabled:f,className:"px-2 py-1 border border-l-0 border-border rounded-r bg-gray-50 hover:bg-gray-100 text-xs disabled:opacity-50",children:"Search"})]})}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("input",{type:"text",value:m.name,disabled:!0,placeholder:"Auto",className:"w-full border border-border rounded px-2 py-1 text-table bg-gray-50 text-text-muted"})}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("input",{type:"text",value:m.phone,onChange:pe=>{const Ve=pe.target.value;g(Ue=>Ue.map((Ge,$e)=>$e===I?{...Ge,phone:Ve}:Ge))},placeholder:"Phone",disabled:f,className:"w-full border border-border rounded px-2 py-1 text-table disabled:bg-bg"})}),t.jsx("td",{className:"text-center px-2 py-2",children:t.jsx("input",{type:"checkbox",checked:m.intern,onChange:pe=>{const Ve=pe.target.checked;g(Ue=>Ue.map((Ge,$e)=>$e===I?{...Ge,intern:Ve}:Ge))},disabled:f,className:"w-4 h-4 accent-primary"})}),t.jsx("td",{className:"text-center px-2 py-2",children:m.id?t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${m.licenseValid?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:m.licenseValid?" "+c("shipmentForm.validLicense"):" "+c("shipmentForm.expiredLicense")}):""})]},m.key))})]})})]}),t.jsxs(Ft,{title:c("shipmentForm.stagesRoutePlan"),badge:`${c("shipmentForm.totalDistance")}: ${ve} km`,children:[t.jsx(Nt,{variant:"info",icon:"",children:c("shipmentForm.stagesInfo")}),t.jsx("div",{className:"overflow-x-auto mt-3",children:t.jsxs("table",{className:"w-full text-table min-w-[900px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-text-sec w-12",children:c("shipmentForm.stageLabel")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec w-20",children:c("shipmentForm.depNo")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec",children:c("shipmentForm.departure")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec w-20",children:c("shipmentForm.destNo")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec",children:c("shipmentForm.destination")}),t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-text-sec w-28",children:c("shipmentForm.type")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec w-36",children:c("shipmentForm.plannedArrival")}),t.jsx("th",{className:"text-left px-2 py-2 font-semibold text-text-sec w-36",children:c("shipmentForm.plannedDeparture")}),t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-text-sec w-16",children:c("shipmentForm.distance")}),t.jsx("th",{className:"text-center px-2 py-2 font-semibold text-text-sec w-20",children:c("shipmentForm.actions")})]})}),t.jsx("tbody",{children:B.map((m,I)=>t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"text-center px-2 py-2",children:t.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold text-white ${m.type==="First"?"bg-blue-600":m.type==="Transport"?"bg-orange-500":m.type==="Loading Transfer"||m.type==="Customer"?"bg-green-600":"bg-gray-500"}`,children:m.stage})}),t.jsx("td",{className:"px-2 py-2 text-xs font-mono text-text-muted",children:m.depNo}),t.jsx("td",{className:"px-2 py-2 text-table",children:m.departure}),t.jsx("td",{className:"px-2 py-2 text-xs font-mono text-text-muted",children:m.destNo}),t.jsx("td",{className:"px-2 py-2 text-table",children:m.destination}),t.jsx("td",{className:"text-center px-2 py-2",children:t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${bm[m.type]||"bg-gray-100 text-gray-700"}`,children:m.type})}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("input",{type:"datetime-local",value:m.plannedArr,onChange:pe=>{const Ve=pe.target.value;A(Ue=>Ue.map((Ge,$e)=>$e===I?{...Ge,plannedArr:Ve}:Ge))},className:"w-full border border-border rounded px-1.5 py-1 text-xs"})}),t.jsx("td",{className:"px-2 py-2",children:t.jsx("input",{type:"datetime-local",value:m.plannedDep,onChange:pe=>{const Ve=pe.target.value;A(Ue=>Ue.map((Ge,$e)=>$e===I?{...Ge,plannedDep:Ve}:Ge))},className:"w-full border border-border rounded px-1.5 py-1 text-xs"})}),t.jsx("td",{className:"text-center px-2 py-2 font-semibold",children:m.distance?`${m.distance} km`:""}),t.jsx("td",{className:"text-center px-2 py-2",children:I>0&&t.jsxs("div",{className:"flex gap-1 justify-center",children:[t.jsx("button",{onClick:()=>ye(I,"up"),className:"px-1.5 py-0.5 rounded border border-border bg-gray-50 hover:bg-gray-100 text-xs",title:"Up",children:""}),t.jsx("button",{onClick:()=>ye(I,"down"),className:"px-1.5 py-0.5 rounded border border-border bg-gray-50 hover:bg-gray-100 text-xs",title:"Down",children:""})]})})]},I))})]})}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsx("button",{onClick:Se,className:"px-3 py-1 rounded border border-border text-table text-text-sec hover:bg-bg",children:c("shipmentForm.addStage")}),t.jsxs("div",{className:"text-table",children:[t.jsxs("strong",{children:[c("shipmentForm.totalDistance"),":"]})," ",t.jsxs("span",{className:"text-primary font-bold",children:[ve," km"]})]})]})]}),Fe==="NGV"&&t.jsxs(Ft,{title:c("shipmentForm.ngvData"),badge:c("shipmentForm.ngvTubeTrailer"),children:[t.jsx(Nt,{variant:"info",icon:"",children:c("shipmentForm.ngvInfo")}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3 mb-3",children:[t.jsx(ue,{label:c("shipmentForm.ngvReceiveDate"),type:"datetime-local",value:q.receiveDate,onChange:m=>Y(I=>({...I,receiveDate:m})),required:!0}),t.jsx(ue,{label:c("shipmentForm.ngvRefDate"),type:"datetime-local",value:q.refDate,onChange:m=>Y(I=>({...I,refDate:m})),required:!0}),t.jsx(ue,{label:c("shipmentForm.ngvDispatchDate"),type:"datetime-local",value:q.dispatchDate,onChange:m=>Y(I=>({...I,dispatchDate:m}))}),t.jsx(ue,{label:c("shipmentForm.ngvRefNo"),value:q.refNo,onChange:m=>Y(I=>({...I,refNo:m})),placeholder:"Reference No."})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[t.jsx(ue,{label:c("shipmentForm.ngvCustNotify"),type:"datetime-local",value:q.custNotify,onChange:m=>Y(I=>({...I,custNotify:m}))}),t.jsx(ue,{label:c("shipmentForm.ngvCustPSI"),type:"number",value:q.custPSI,onChange:m=>Y(I=>({...I,custPSI:m})),placeholder:"psi"}),t.jsx(ue,{label:c("shipmentForm.ngvPairedVehicle"),value:q.pairedVehicle,onChange:m=>Y(I=>({...I,pairedVehicle:m})),placeholder:""}),t.jsx(ue,{label:c("shipmentForm.ngvSentFrom"),value:q.sentFrom,onChange:m=>Y(I=>({...I,sentFrom:m})),placeholder:"Source / Origin"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[t.jsx(ue,{label:c("shipmentForm.ngvCustOrder"),value:q.custOrder,onChange:m=>Y(I=>({...I,custOrder:m})),placeholder:"Customer Order No."}),t.jsx(ue,{label:c("shipmentForm.ngvBrokenTubeDate"),type:"datetime-local",value:q.brokenTubeDate,onChange:m=>Y(I=>({...I,brokenTubeDate:m}))}),t.jsx(ue,{label:c("shipmentForm.ngvRemark"),value:q.remark,onChange:m=>Y(I=>({...I,remark:m})),placeholder:"NGV Remark"})]}),t.jsxs("div",{className:"mt-3",children:[t.jsxs("h4",{className:"text-table font-semibold text-green-700 mb-2",children:[c("shipmentForm.ngvTubeData"),"   / "]}),t.jsxs("table",{className:"w-full text-table border border-border-light rounded overflow-hidden",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec w-24",children:""}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:""}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:" (PSI)"}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:" (KG)"}),t.jsx("th",{className:"text-left px-3 py-2 font-semibold text-text-sec",children:" (C)"}),t.jsx("th",{className:"text-center px-3 py-2 font-semibold text-text-sec",children:""})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{className:"bg-green-50 border-b border-border-light",children:[t.jsx("td",{className:"px-3 py-2 font-bold text-green-700",children:""}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"text",value:q.mainTube.no,className:"border border-border rounded px-2 py-1 text-xs w-24",readOnly:!0})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:q.mainTube.psi,className:"border border-border rounded px-2 py-1 text-xs w-16",readOnly:!0})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:q.mainTube.weight,className:"border border-border rounded px-2 py-1 text-xs w-16",readOnly:!0})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:q.mainTube.temp,className:"border border-border rounded px-2 py-1 text-xs w-14",readOnly:!0})}),t.jsx("td",{className:"text-center px-3 py-2",children:t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[" ",c("shipmentForm.normalStatus")]})})]}),t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"px-3 py-2 font-bold text-blue-700",children:""}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"text",value:q.pillarTube.no,className:"border border-border rounded px-2 py-1 text-xs w-24",readOnly:!0})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:q.pillarTube.psi,className:"border border-border rounded px-2 py-1 text-xs w-16",readOnly:!0})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:q.pillarTube.weight,className:"border border-border rounded px-2 py-1 text-xs w-16",readOnly:!0})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:q.pillarTube.temp,className:"border border-border rounded px-2 py-1 text-xs w-14",readOnly:!0})}),t.jsx("td",{className:"text-center px-3 py-2",children:t.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[" ",c("shipmentForm.normalStatus")]})})]})]})]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsxs("h4",{className:"text-table font-semibold text-green-700 mb-2",children:[c("shipmentForm.qualityReadings"),"   /  / ALC (4 )"]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs min-w-[700px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-center px-2 py-2 w-8",children:"#"}),t.jsx("th",{className:"text-left px-2 py-2 w-28",children:""}),t.jsx("th",{className:"text-left px-2 py-2 bg-green-50",children:" 1"}),t.jsx("th",{className:"text-left px-2 py-2 bg-green-50",children:" 2"}),t.jsx("th",{className:"text-left px-2 py-2 bg-blue-50",children:" (PSI)"}),t.jsx("th",{className:"text-left px-2 py-2 bg-orange-50",children:"ALC 1 (%)"}),t.jsx("th",{className:"text-left px-2 py-2 bg-orange-50",children:"ALC 2 (%)"}),t.jsx("th",{className:"text-left px-2 py-2",children:""})]})}),t.jsx("tbody",{children:q.qualityReadings.map((m,I)=>t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"text-center px-2 py-1.5 font-semibold",children:I+1}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("select",{className:"border border-border rounded px-1 py-0.5 text-xs w-full",children:hd.map((pe,Ve)=>t.jsx("option",{value:pe,children:pe},Ve))})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:0,step:.1,className:"border border-border rounded px-1 py-0.5 text-xs w-14"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:0,step:.1,className:"border border-border rounded px-1 py-0.5 text-xs w-14"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:0,className:"border border-border rounded px-1 py-0.5 text-xs w-16"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:0,step:.01,className:"border border-border rounded px-1 py-0.5 text-xs w-14"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:0,step:.01,className:"border border-border rounded px-1 py-0.5 text-xs w-14"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"text",placeholder:"Note",className:"border border-border rounded px-1 py-0.5 text-xs w-full"})})]},I))})]})})]})]}),Fe==="FUEL"&&t.jsxs(Ft,{title:c("shipmentForm.fuelWOData"),badge:c("shipmentForm.fuelWOBadge"),children:[t.jsx(Nt,{variant:"info",icon:"",children:c("shipmentForm.fuelWOInfo")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mt-3 mb-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-text-sec mb-1",children:[t.jsx("span",{className:"text-error",children:"*"})," ",c("shipmentForm.shipmentCustomer")]}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",value:R.shipCust,onChange:m=>X(I=>({...I,shipCust:m.target.value})),placeholder:"Customer Code",className:"flex-1 border border-border rounded-l px-2.5 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary"}),t.jsx("button",{className:"px-2.5 py-1.5 border border-l-0 border-border rounded-r bg-gray-50 hover:bg-gray-100 text-sm",children:c("shipmentForm.search")})]})]}),t.jsx(ue,{label:c("shipmentForm.custName"),value:R.custName,disabled:!0}),t.jsx(ue,{label:c("shipmentForm.custCode"),value:R.custCode,disabled:!0})]}),t.jsxs("h4",{className:"text-table font-semibold text-blue-700 mb-2",children:[c("shipmentForm.customerDelivery"),"  "]}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded",children:t.jsxs("table",{className:"w-full text-xs min-w-[1100px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"px-2 py-2 w-8",children:"#"}),t.jsx("th",{className:"px-2 py-2",children:"Ship To"}),t.jsx("th",{className:"px-2 py-2",children:"Cust Name"}),t.jsx("th",{className:"px-2 py-2",children:"Cust Code"}),t.jsx("th",{className:"px-2 py-2",children:"Delivery No."}),t.jsx("th",{className:"px-2 py-2 bg-blue-50",children:"Comp 1"}),t.jsx("th",{className:"px-2 py-2 bg-blue-50",children:"QTY 1"}),t.jsx("th",{className:"px-2 py-2 bg-blue-50",children:"Status 1"}),t.jsx("th",{className:"px-2 py-2 bg-orange-50",children:"Comp 2"}),t.jsx("th",{className:"px-2 py-2 bg-orange-50",children:"QTY 2"}),t.jsx("th",{className:"px-2 py-2 bg-orange-50",children:"Status 2"}),t.jsx("th",{className:"px-2 py-2 bg-pink-50",children:"Comp 3"}),t.jsx("th",{className:"px-2 py-2 bg-pink-50",children:"QTY 3"}),t.jsx("th",{className:"px-2 py-2 bg-pink-50",children:"Status 3"}),t.jsx("th",{className:"px-2 py-2 bg-green-50",children:"Comp 4"}),t.jsx("th",{className:"px-2 py-2 bg-green-50",children:"QTY 4"}),t.jsx("th",{className:"px-2 py-2 bg-green-50",children:"Status 4"})]})}),t.jsx("tbody",{children:R.deliveries.map((m,I)=>t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"text-center px-2 py-1.5",children:I+1}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"text",value:m.shipTo,className:"border border-border rounded px-1 py-0.5 text-xs w-16",readOnly:!0})}),t.jsx("td",{className:"px-2 py-1.5 text-xs",children:m.name}),t.jsx("td",{className:"px-2 py-1.5 text-xs",children:m.code}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"text",value:m.deliveryNo,className:"border border-border rounded px-1 py-0.5 text-xs w-24",readOnly:!0})}),m.comps.map((pe,Ve)=>t.jsxs(bd.Fragment,{children:[t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("select",{className:"border border-border rounded px-1 py-0.5 text-xs w-12",children:t.jsx("option",{children:pe.comp})})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:pe.qty,className:"border border-border rounded px-1 py-0.5 text-xs w-16"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsxs("select",{className:"border border-border rounded px-1 py-0.5 text-xs w-16",children:[t.jsx("option",{children:pe.status}),t.jsx("option",{children:"N "}),t.jsx("option",{children:"P "})]})})]},Ve))]},I))})]})}),t.jsx("button",{onClick:()=>X(m=>({...m,deliveries:[...m.deliveries,{shipTo:"",name:"",code:"",deliveryNo:"",comps:[{comp:"",qty:0,status:""},{comp:"",qty:0,status:""},{comp:"",qty:0,status:""},{comp:"",qty:0,status:""}]}]})),className:"mt-2 px-3 py-1 rounded border border-border text-table text-text-sec hover:bg-bg text-xs",children:c("shipmentForm.addDelivery")}),t.jsx("div",{className:"mt-3 p-3 bg-gray-50 border border-border rounded-lg",children:t.jsxs("div",{className:"flex gap-4 items-center text-xs",children:[t.jsxs("span",{className:"font-semibold text-text-sec",children:[c("shipmentForm.fuelPriceRef"),":"]}),t.jsxs("span",{children:["Type: ",t.jsx("strong",{children:"DIEB07"})]}),t.jsxs("span",{children:["Rate: ",t.jsx("strong",{children:"D ()"})]}),t.jsxs("span",{children:["Comp: ",t.jsx("strong",{children:"PTT"})]}),t.jsxs("span",{children:["Price: ",t.jsx("strong",{className:"text-primary",children:"30.44"})]}),t.jsx("span",{className:"text-text-muted",children:"Date: 25.12.2025"})]})})]}),Fe==="CONTAINER"&&t.jsxs(Ft,{title:c("shipmentForm.containerData"),badge:c("shipmentForm.containerTransport"),children:[t.jsx(Nt,{variant:"info",icon:"",children:c("shipmentForm.containerInfo")}),t.jsx("h4",{className:"text-table font-semibold text-orange-700 mt-3 mb-2",children:c("shipmentForm.partyAssignments")}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-2",children:["Ship To","Sold To","Payer","Bill To"].map((m,I)=>t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs font-medium text-text-sec mb-1",children:[I<2&&t.jsx("span",{className:"text-error",children:"* "}),m]}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{type:"text",placeholder:`${m} Code`,className:"flex-1 border border-border rounded-l px-2 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary"}),t.jsx("button",{className:"px-2 py-1.5 border border-l-0 border-border rounded-r bg-gray-50 hover:bg-gray-100 text-xs",children:"Search"})]})]},I))}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[t.jsx(ue,{label:c("shipmentForm.shipToName"),value:ee.shipToName,disabled:!0}),t.jsx(ue,{label:c("shipmentForm.soldToName"),value:ee.soldToName,disabled:!0}),t.jsx(ue,{label:c("shipmentForm.payerName"),value:ee.payerName,disabled:!0}),t.jsx(ue,{label:c("shipmentForm.billToName"),value:ee.billToName,disabled:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[t.jsx(ue,{label:c("shipmentForm.bookingRef"),value:ee.booking,onChange:m=>te(I=>({...I,booking:m})),placeholder:"BKG-EV-2026-0142"}),t.jsx(ue,{label:c("shipmentForm.shippingLine"),value:ee.shippingLine,onChange:m=>te(I=>({...I,shippingLine:m})),placeholder:"Evergreen / ONE / Hapag"}),t.jsx(ue,{label:c("shipmentForm.vesselVoyage"),value:ee.vessel,onChange:m=>te(I=>({...I,vessel:m})),placeholder:"MV EVER GIVEN / V.123"}),t.jsx(ue,{label:c("shipmentForm.noContainers"),type:"number",value:ee.containerCount,onChange:m=>te(I=>({...I,containerCount:m})),required:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[t.jsx(ue,{label:"Remark 1",value:ee.remark1,onChange:m=>te(I=>({...I,remark1:m}))}),t.jsx(ue,{label:"Remark 2",value:ee.remark2,onChange:m=>te(I=>({...I,remark2:m}))})]}),t.jsx("h4",{className:"text-table font-semibold text-orange-700 mb-2",children:c("shipmentForm.containerList")}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"px-2 py-2 w-8",children:"#"}),t.jsx("th",{className:"px-2 py-2",children:"Container No."}),t.jsx("th",{className:"px-2 py-2",children:"Size"}),t.jsx("th",{className:"px-2 py-2",children:"Type"}),t.jsx("th",{className:"px-2 py-2",children:"Seal No."}),t.jsx("th",{className:"px-2 py-2",children:"Weight (kg)"}),t.jsx("th",{className:"px-2 py-2",children:"Tare (kg)"}),t.jsx("th",{className:"px-2 py-2",children:"VGM (kg)"}),t.jsx("th",{className:"px-2 py-2",children:"Status"})]})}),t.jsx("tbody",{children:ee.containers.map((m,I)=>t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"text-center px-2 py-1.5",children:I+1}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"text",value:m.no,className:"border border-border rounded px-1 py-0.5 text-xs w-32",readOnly:!0})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("select",{className:"border border-border rounded px-1 py-0.5 text-xs",children:["40ft HC","40ft GP","20ft GP","20ft HC","40ft RF","45ft HC"].map(pe=>t.jsx("option",{children:pe},pe))})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsxs("select",{className:"border border-border rounded px-1 py-0.5 text-xs",children:[t.jsx("option",{children:"FCL"}),t.jsx("option",{children:"LCL"}),t.jsx("option",{children:"Empty"})]})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"text",placeholder:"Seal No.",className:"border border-border rounded px-1 py-0.5 text-xs w-24"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:m.weight,className:"border border-border rounded px-1 py-0.5 text-xs w-16"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:m.tare,className:"border border-border rounded px-1 py-0.5 text-xs w-16"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("input",{type:"number",defaultValue:m.vgm,className:"border border-border rounded px-1 py-0.5 text-xs w-16"})}),t.jsx("td",{className:"px-2 py-1.5",children:t.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:c("shipmentForm.loaded")})})]},I))})]})}),t.jsx("button",{onClick:()=>te(m=>({...m,containers:[...m.containers,{no:"",size:"40ft HC",type:"FCL",seal:"",weight:0,tare:0,vgm:0}]})),className:"mt-2 px-3 py-1 rounded border border-border text-table text-text-sec hover:bg-bg text-xs",children:c("shipmentForm.addContainer")})]}),Fe==="SCA"&&t.jsxs(Ft,{title:c("shipmentForm.carCarrierData"),badge:c("shipmentForm.scaCarCarrier"),children:[t.jsx(Nt,{variant:"info",icon:"",children:c("shipmentForm.scaInfo")}),t.jsx("h4",{className:"text-table font-semibold text-amber-700 mt-3 mb-2",children:c("shipmentForm.shipmentParams")}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[t.jsx(ue,{label:"Yard No.",type:"select",value:me.yardNo,onChange:m=>w(I=>({...I,yardNo:m})),options:sm,required:!0,placeholder:" Select Yard "}),t.jsx(ue,{label:"Trans. Type",type:"select",value:me.transType,onChange:m=>w(I=>({...I,transType:m})),options:[{value:"I",label:"I  Gate In"},{value:"O",label:"O  Gate Out"},{value:"R",label:"R  Round Trip"}]}),t.jsx(ue,{label:"Calling No.",value:me.callingNo,onChange:m=>w(I=>({...I,callingNo:m})),placeholder:"e.g. CALL-2026-0142"}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-medium text-text-sec mb-1",children:"Group No. / Trip"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("input",{type:"text",value:me.groupNo,onChange:m=>w(I=>({...I,groupNo:m.target.value})),placeholder:"Group",className:"flex-1 border border-border rounded px-2 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary"}),t.jsx("input",{type:"text",value:me.trip,onChange:m=>w(I=>({...I,trip:m.target.value})),placeholder:"Trip",className:"w-16 border border-border rounded px-2 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-3",children:[t.jsx(ue,{label:"Transport Fee",type:"select",value:me.transportFee,onChange:m=>w(I=>({...I,transportFee:m})),options:nm}),t.jsx(ue,{label:"Trip Pay",type:"select",value:me.tripPay,onChange:m=>w(I=>({...I,tripPay:m})),options:am}),t.jsx(ue,{label:c("shipmentForm.shipType"),value:"01  Truck",disabled:!0}),t.jsx("div",{className:"flex items-end pb-1",children:t.jsxs("label",{className:"flex items-center gap-2 px-3 py-2 bg-amber-50 border border-amber-200 rounded",children:[t.jsx("input",{type:"checkbox",checked:me.brokenMiles,onChange:m=>w(I=>({...I,brokenMiles:m.target.checked})),className:"w-4 h-4 accent-orange-600"}),t.jsx("span",{className:"text-table font-medium text-orange-700",children:" (Broken Miles)"})]})})]}),t.jsxs("h4",{className:"text-table font-semibold text-amber-700 mt-3 mb-2",children:[c("shipmentForm.positionLayout"),"  "]}),t.jsxs("div",{className:"flex gap-4 items-start mb-3 p-3 bg-amber-50 border border-amber-100 rounded-lg",children:[t.jsxs("div",{className:"flex-shrink-0",children:[t.jsx("div",{className:"text-xs text-text-muted text-center mb-1",children:c("shipmentForm.carCarrier11")}),t.jsxs("div",{className:"w-64 bg-white border-2 border-amber-500 rounded-lg p-2",children:[t.jsxs("div",{className:"text-xs font-semibold text-amber-700 mb-1",children:[" ",c("shipmentForm.upperDeck")]}),t.jsx("div",{className:"grid grid-cols-3 gap-1 mb-2",children:Gl.upper.map(m=>{const I=me.vehicles.some(pe=>pe.pos===m);return t.jsxs("div",{className:`text-center py-1 rounded text-xs font-semibold border ${I?"bg-green-50 border-green-400 text-green-700":"bg-gray-100 border-gray-300 text-gray-500"}`,children:[m,t.jsx("br",{}),t.jsx("span",{className:"text-[10px]",children:I?"":""})]},m)})}),t.jsxs("div",{className:"text-xs font-semibold text-amber-900 mb-1",children:[" ",c("shipmentForm.lowerDeck")]}),t.jsx("div",{className:"grid grid-cols-3 gap-1",children:Gl.lower.map(m=>{const I=me.vehicles.some(pe=>pe.pos===m);return t.jsxs("div",{className:`text-center py-1 rounded text-xs font-semibold border ${I?"bg-green-50 border-green-400 text-green-700":"bg-gray-100 border-gray-300 text-gray-500"}`,children:[m,t.jsx("br",{}),t.jsx("span",{className:"text-[10px]",children:I?"":""})]},m)})})]}),t.jsxs("div",{className:"text-xs text-center mt-1 text-text-muted",children:[c("shipmentForm.loadedSlots"),": ",t.jsx("strong",{className:"text-green-600",children:me.vehicles.length})," / 11 ",c("shipmentForm.slots")]})]}),t.jsx("div",{className:"flex-1 overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-white border-b border-border",children:[t.jsx("th",{className:"px-2 py-1.5 w-10",children:"Pos"}),t.jsx("th",{className:"px-2 py-1.5",children:"VIN No."}),t.jsx("th",{className:"px-2 py-1.5",children:"Model"}),t.jsx("th",{className:"px-2 py-1.5",children:"Ship To"}),t.jsx("th",{className:"px-2 py-1.5 w-12",children:"Status"})]})}),t.jsxs("tbody",{children:[me.vehicles.map((m,I)=>t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"text-center px-2 py-1 font-semibold text-amber-700",children:m.pos}),t.jsx("td",{className:"px-2 py-1",children:m.vin}),t.jsx("td",{className:"px-2 py-1",children:m.model}),t.jsx("td",{className:"px-2 py-1",children:m.shipToName}),t.jsx("td",{className:"text-center px-2 py-1",children:t.jsx("span",{className:"px-1.5 py-0.5 rounded-full text-[10px] font-medium bg-green-100 text-green-700",children:""})})]},I)),[...Gl.upper,...Gl.lower].filter(m=>!me.vehicles.some(I=>I.pos===m)).map(m=>t.jsxs("tr",{className:"border-b border-border-light opacity-40",children:[t.jsx("td",{className:"text-center px-2 py-1",children:m}),t.jsxs("td",{colSpan:3,className:"px-2 py-1 text-text-muted",children:[" ",c("shipmentForm.emptySlot")," "]}),t.jsx("td",{})]},m))]})]})})]}),t.jsxs("h4",{className:"text-table font-semibold text-amber-700 mb-2",children:[c("shipmentForm.vehicleData"),"  "]}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded",children:t.jsxs("table",{className:"w-full text-xs min-w-[1150px]",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"px-1.5 py-2 w-8",children:"No."}),t.jsx("th",{className:"px-1.5 py-2 w-8",children:"Del."}),t.jsx("th",{className:"px-1.5 py-2 w-8",children:"Pos"}),t.jsx("th",{className:"px-1.5 py-2",children:"VIN No."}),t.jsx("th",{className:"px-1.5 py-2",children:"Model"}),t.jsx("th",{className:"px-1.5 py-2",children:"Engine No."}),t.jsx("th",{className:"px-1.5 py-2",children:"Color"}),t.jsx("th",{className:"px-1.5 py-2",children:"Sold To"}),t.jsx("th",{className:"px-1.5 py-2",children:"Dealer Address"}),t.jsx("th",{className:"px-1.5 py-2",children:"Ship To"}),t.jsx("th",{className:"px-1.5 py-2",children:"Ship To Name"}),t.jsx("th",{className:"px-1.5 py-2",children:"Calling"}),t.jsx("th",{className:"px-1.5 py-2 w-20",children:c("shipmentForm.returnTruck")})]})}),t.jsx("tbody",{children:me.vehicles.map((m,I)=>t.jsxs("tr",{className:"border-b border-border-light",children:[t.jsx("td",{className:"text-center px-1.5 py-1.5",children:I+1}),t.jsx("td",{className:"text-center px-1.5 py-1.5",children:t.jsx("span",{className:"inline-block w-3.5 h-3.5 bg-yellow-300 border border-gray-300 rounded-sm"})}),t.jsx("td",{className:"text-center px-1.5 py-1.5 font-semibold text-amber-700",children:m.pos}),t.jsx("td",{className:"px-1.5 py-1.5",children:t.jsx("input",{type:"text",value:m.vin,className:"border border-border rounded px-1 py-0.5 text-xs w-28",readOnly:!0})}),t.jsx("td",{className:"px-1.5 py-1.5",children:t.jsx("input",{type:"text",value:m.model,className:"border border-border rounded px-1 py-0.5 text-xs w-20",readOnly:!0})}),t.jsx("td",{className:"px-1.5 py-1.5",children:t.jsx("input",{type:"text",placeholder:"Engine No.",className:"border border-border rounded px-1 py-0.5 text-xs w-20"})}),t.jsx("td",{className:"px-1.5 py-1.5",children:t.jsx("input",{type:"text",value:m.color,className:"border border-border rounded px-1 py-0.5 text-xs w-14",readOnly:!0})}),t.jsx("td",{className:"px-1.5 py-1.5 text-[11px]",children:m.soldTo}),t.jsx("td",{className:"px-1.5 py-1.5 text-[11px]",children:m.dealer}),t.jsx("td",{className:"px-1.5 py-1.5 text-[11px]",children:m.shipTo}),t.jsx("td",{className:"px-1.5 py-1.5 text-[11px]",children:m.shipToName}),t.jsx("td",{className:"px-1.5 py-1.5",children:t.jsx("input",{type:"text",placeholder:"Calling",className:"border border-border rounded px-1 py-0.5 text-xs w-16"})}),t.jsx("td",{className:"px-1.5 py-1.5",children:t.jsxs("select",{className:"border border-border rounded px-1 py-0.5 text-xs w-full",children:[t.jsx("option",{children:c("shipmentForm.notReturnTruck")}),t.jsx("option",{children:c("shipmentForm.returnTruck")})]})})]},I))})]})}),t.jsx("h4",{className:"text-table font-semibold text-amber-700 mt-3 mb-2",children:" (Collection Status Summary)"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 p-3 bg-gray-50 border border-border rounded-lg",children:[t.jsxs("div",{className:"text-center p-3 bg-white rounded border border-border-light",children:[t.jsx("div",{className:"text-xs text-text-muted",children:c("shipmentForm.totalVehicles")}),t.jsx("div",{className:"text-2xl font-bold text-amber-700",children:me.vehicles.length})]}),t.jsxs("div",{className:"text-center p-3 bg-white rounded border border-border-light",children:[t.jsx("div",{className:"text-xs text-text-muted",children:c("shipmentForm.shipToDestinations")}),t.jsx("div",{className:"text-2xl font-bold text-blue-700",children:"1"}),t.jsx("div",{className:"text-xs text-text-muted",children:"LCB "})]}),t.jsxs("div",{className:"text-center p-3 bg-white rounded border border-border-light",children:[t.jsx("div",{className:"text-xs text-text-muted",children:c("shipmentForm.soldToLabel")}),t.jsx("div",{className:"text-2xl font-bold text-purple-700",children:"1"}),t.jsx("div",{className:"text-xs text-text-muted",children:"1100297"})]}),t.jsxs("div",{className:"text-center p-3 bg-green-50 rounded border border-green-200",children:[t.jsx("div",{className:"text-xs text-text-muted",children:c("shipmentForm.collectionFlag")}),t.jsxs("div",{className:"text-sm font-bold text-green-700",children:[" ",me.transportFee]}),t.jsx("div",{className:"text-xs text-text-muted",children:c("shipmentForm.soSettlementReady")})]})]})]}),t.jsxs(Ft,{title:c("shipmentForm.transportFeeSection"),children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[t.jsxs("div",{children:[t.jsx(ue,{label:" (Transport Fee)",type:"select",value:T.transportFee,onChange:m=>W("transportFee",m),options:[{value:"",label:" (Collect)"},{value:"",label:" (No Collect)"}]}),t.jsx("span",{className:"text-xs text-text-muted",children:"Default:   /,  "})]}),t.jsxs("div",{children:[t.jsx(ue,{label:" (Trip Pay)",type:"select",value:T.tripPay,onChange:m=>W("tripPay",m),options:[{value:"",label:" (Pay)"},{value:"",label:" (No Pay)"}]}),t.jsx("span",{className:"text-xs text-text-muted",children:"Default:   /"})]})]}),t.jsxs("label",{className:"flex items-center gap-2 px-4 py-3 bg-amber-50 border border-amber-200 rounded-lg w-fit",children:[t.jsx("input",{type:"checkbox",checked:T.brokenMiles,onChange:m=>W("brokenMiles",m.target.checked),className:"w-4 h-4 accent-orange-600"}),t.jsx("span",{className:"text-table font-medium text-orange-700",children:" (Broken Miles)"}),t.jsx("span",{className:"text-xs text-text-muted ml-2",children:" If checked, validates with broken miles criteria (config 004, 005)"})]})]}),t.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-border py-3 px-4 flex items-center justify-between rounded-lg shadow-lg z-10",children:[t.jsxs("div",{className:"flex gap-4 text-table text-text-muted",children:[t.jsxs("span",{children:[c("shipmentForm.statusLabel"),": ",t.jsx("strong",{className:"text-text",children:f?(a==null?void 0:a.status)||"OPEN":c("shipmentForm.newStatus")})]}),t.jsx("span",{children:"|"}),t.jsxs("span",{children:[c("shipmentForm.fosLabel"),": ",t.jsx("strong",{className:"text-text",children:$.length+(d?1:0)})]}),t.jsx("span",{children:"|"}),t.jsxs("span",{children:[c("shipmentForm.totalQty"),": ",t.jsx("strong",{className:"text-text",children:(d==null?void 0:d.qty)||""})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:u,className:"px-4 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg",children:c("shipmentForm.cancel")}),t.jsx("button",{onClick:fe,className:"px-4 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg",children:c("shipmentForm.saveDraft")}),f?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:fe,className:"px-4 py-1.5 rounded bg-primary text-white text-table font-medium hover:bg-primary-hover",children:c("shipmentForm.saveChanges")}),t.jsx("button",{onClick:we,className:"px-4 py-1.5 rounded bg-success text-white text-table font-medium hover:bg-green-700",children:c("shipmentForm.dispatch")})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:fe,className:"px-4 py-1.5 rounded bg-primary text-white text-table font-medium hover:bg-primary-hover",children:c("shipmentForm.createShipment")}),t.jsx("button",{onClick:we,className:"px-4 py-1.5 rounded bg-success text-white text-table font-medium hover:bg-green-700",children:c("shipmentForm.createAndDispatch")})]})]})]}),t.jsx(mm,{open:he,onClose:()=>je(!1),onSelect:j}),t.jsx(xm,{open:be,onClose:()=>Ce(!1),onSelect:j,product:Fe}),t.jsx(hm,{open:!!Te,onClose:()=>K(null),onSelect:V,roleFilter:Te!=null&&Te.startsWith("helper")?"helper":"driver"}),t.jsx(fm,{open:!!M,onClose:()=>O(null),stageIndex:M==null?void 0:M.index,direction:M==null?void 0:M.direction,onConfirm:ge})]})}const Nm={SCC:[{value:"Fuel",label:"Fuel  Fuel Distribution"},{value:"NGV",label:"NGV  Natural Gas Vehicles"},{value:"LPG",label:"LPG  Liquefied Petroleum Gas"},{value:"Chem",label:"Chem  Chemical Transport"}],SCA:[{value:"Car",label:"Car  Car Carrier"}],SPL:[{value:"Container",label:"Container  Container Transport"}]},jm={"SCC-Fuel":{channels:["excel","pdf","tms","email","line"],notes:" <strong>Bangchak:</strong> Excel, PDF &nbsp;|&nbsp; <strong>Shell:</strong> TMS API (direct connection) &nbsp;|&nbsp; <strong>Depot:</strong> Line/Email  centralized inbox"},"SCC-NGV":{channels:["excel","line","form"],notes:" Line  Excel (real-time, not planned). Future: Standard Form for customers to fill."},"SCC-LPG":{channels:["excel","pdf"],notes:" Primary source: Excel upload from customers."},"SCC-Chem":{channels:["form","manual","email"],notes:" Future: Standard Form for customers. Currently: Manual entry or Email."},"SCA-Car":{channels:["excel","manual"],notes:" Excel: Weekly or before job. Return trips: Manual (separate shipment).<br/> <strong>Win No.</strong> can be updated later via Mobile app (QR/Barcode scan)."},"SPL-Container":{channels:["manual"],notes:" SPL uses Manual Create Shipment only."}},Sm={excel:{icon:"",title:"Excel Upload",desc:"Batch calling sheet / BFPL format",action:"upload"},pdf:{icon:"",title:"PDF / OCR Upload",desc:"Upload PDF, scan & extract",action:"upload"},tms:{icon:"",title:"TMS API",desc:"Connect external system (Shell)",action:"tms"},email:{icon:"",title:"Email RPA",desc:"Fetch from centralized inbox",action:"upload"},line:{icon:"",title:"LINE Message",desc:"Import from LINE chat",action:"upload"},form:{icon:"",title:"Standard Form",desc:"Customer fills online form",action:"form"},manual:{icon:"",title:"Manual Entry",desc:"Phone / walk-in orders",action:"manual"},forecast:{icon:"",title:"Forecast Upload",desc:"Vessel schedule / SPL",action:"upload"}};function Cm({onClose:a,onSelect:d}){const{t:o}=De(),[u,f]=F.useState(""),[c,C]=F.useState(""),y=u?Nm[u]||[]:[],k=u&&c?`${u}-${c}`:null,T=k?jm[k]||{channels:["manual"],notes:""}:null;return t.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[2000] overflow-y-auto p-4",onClick:a,children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-[720px] max-h-[90vh] overflow-y-auto shadow-[0_20px_60px_rgba(0,0,0,0.2)]",onClick:x=>x.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-start px-6 py-4 border-b border-[#d9d9d9] sticky top-0 bg-white z-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-base font-semibold",children:" Create New Freight Order"}),t.jsx("p",{className:"text-xs text-[#6a6d70] mt-0.5",children:"Select Business Unit & Product Type to see available intake channels"})]}),t.jsx("button",{onClick:a,className:"text-xl text-[#89919a] hover:text-[#32363a] p-1",children:""})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block font-semibold text-xs mb-1",children:" Company (Business Unit)"}),t.jsxs("select",{value:u,onChange:x=>{f(x.target.value),C("")},className:"w-full px-3 py-2 border-[1.5px] border-[#d9d9d9] rounded-lg text-sm bg-white focus:outline-none focus:border-[#0854a0]",children:[t.jsx("option",{value:"",children:o("uploadModal.selectCompany")}),t.jsx("option",{value:"SCC",children:"SCC  SC Carrier"}),t.jsx("option",{value:"SCA",children:"SCA  SC Auto"}),t.jsx("option",{value:"SPL",children:"SPL  Container Transport"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block font-semibold text-xs mb-1",children:" Product Type"}),t.jsxs("select",{value:c,onChange:x=>C(x.target.value),disabled:!u,className:"w-full px-3 py-2 border-[1.5px] border-[#d9d9d9] rounded-lg text-sm bg-white focus:outline-none focus:border-[#0854a0] disabled:bg-[#f5f5f5] disabled:text-[#89919a]",children:[t.jsx("option",{value:"",children:o("uploadModal.selectProductType")}),y.map(x=>t.jsx("option",{value:x.value,children:x.label},x.value))]})]})]}),T?t.jsxs("div",{children:[t.jsxs("div",{className:"text-sm font-semibold text-[#6a6d70] mb-3 pb-2 border-b border-[#ededed]",children:[" Available Intake Channels for ",t.jsxs("span",{className:"text-[#0854a0] font-bold",children:[u," / ",c]})]}),t.jsx("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(180px,1fr))] gap-3 mb-4",children:T.channels.map(x=>{const N=Sm[x];return N?t.jsxs("div",{onClick:()=>d(N.action,u,c),className:"border-2 border-[#d9d9d9] rounded-[10px] p-4 cursor-pointer transition-all text-center hover:border-[#0854a0] hover:bg-[#ebf5ff]",children:[t.jsx("div",{className:"text-3xl mb-1",children:N.icon}),t.jsx("div",{className:"font-semibold text-sm",children:N.title}),t.jsx("div",{className:"text-[11px] text-[#89919a] mt-0.5",children:N.desc})]},x):null})}),T.notes&&t.jsx("div",{className:"bg-[#e3f2fd] border border-[#90caf9] rounded-lg p-3 text-xs text-[#1565c0] mt-4",dangerouslySetInnerHTML:{__html:T.notes}})]}):t.jsxs("div",{className:"text-center py-8 text-[#89919a]",children:[t.jsx("div",{className:"text-5xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:"Select Company and Product Type above"}),t.jsx("div",{className:"text-xs mt-1",children:"Available channels depend on the selected product"})]})]})]})})}const Tm={SCC:[{value:"LPG",label:"LPG  Liquefied Petroleum Gas"},{value:"Chem",label:"Chem  Chemical Transport"},{value:"Fuel",label:"Fuel  Fuel Distribution"},{value:"NGV",label:"NGV  Natural Gas Vehicles"}],SCA:[{value:"Car",label:"Car  Car Carrier"}],SPL:[{value:"Container",label:"Container  Container Transport"}]};function wm({type:a,preSelectedBU:d,preSelectedProduct:o,onClose:u,onEditDraft:f,onConfirmDrafts:c}){const{t:C}=De(),y=!!(d&&o),[k,T]=F.useState(y?2:1),[x,N]=F.useState(d||""),[g,B]=F.useState(o||""),[A,v]=F.useState(!1),[E,$]=F.useState(""),[G,q]=F.useState(0),[Y,R]=F.useState([]),[X,ee]=F.useState([]),te=F.useRef(null),me=x?Tm[x]||[]:[],w=()=>{if(k===1){if(!x||!g){window.alert("Please select Company and Product Type");return}T(2)}},he=F.useCallback(()=>{v(!0),q(0);const M=["Detecting language...","Running OCR...","Parsing order data...","Validating fields...","Extraction complete!"];let O=0;$(M[0]),te.current=setInterval(()=>{O++;const W=Math.min(O*25,100);q(W),$(M[Math.min(O,M.length-1)]),W>=100&&(clearInterval(te.current),setTimeout(()=>{const J=je(x,g);R(J),ee([]),v(!1),T(3)},500))},600)},[x,g]),je=(M,O)=>{const W=Math.floor(Math.random()*3)+2,J=[],j=String(Date.now()).slice(-4);if(O==="Fuel"){const _=["130H","140H","150H"],oe=[{name:".",code:"102807",addr:". . ."},{name:"   ",code:"229732",addr:"."},{name:"  ",code:"200865",addr:"."},{name:". ",code:"101347",addr:"."},{name:". ",code:"102212",addr:"."}];for(let V=0;V<W;V++){const ye=_[V%_.length],ge=Math.floor(Math.random()*3)+1,Se=[];let ve=0,U=0,fe=0;for(let we=0;we<ge;we++){const Fe=oe[(V*2+we)%oe.length],Re=Math.floor(Math.random()*12)+4,dt=Math.random()>.4?Math.floor(Math.random()*6)+2:0,m=Math.random()>.6?Math.floor(Math.random()*4)+2:0;ve+=Re,U+=dt,fe+=m,Se.push({name:Fe.name,code:Fe.code,address:Fe.addr,diesel:Re,g95:dt||null,g91:m||null})}J.push({id:`FO-DRAFT-${j}-${V+1}`,bu:M,productType:O,status:"Draft",ocrConf:(88+Math.random()*10).toFixed(1),customer:Se[0].name+(ge>1?` +${ge-1} more`:""),route:`${ye}-MULTI`,quantity:((ve+U+fe)*1e3).toLocaleString(),unit:"L",deliveryDate:`2026-02-0${Math.floor(Math.random()*7)+3}`,plant:ye,shipToList:Se,shipToCount:ge,totalDiesel:ve,totalG95:U,totalG91:fe,pickupAddress:` Bangchak ${ye}`,deliveryAddress:`${ge} Ship-To locations`,loadDate:`2026-02-0${Math.floor(Math.random()*7)+3}`,loadTime:`0${Math.floor(Math.random()*4)+6}:30`,specialInstructions:""})}}else if(O==="Car"){const _=["Toyota Motor Thailand","Honda Automobile Thailand","Isuzu Motors","Mitsubishi Motors Thailand"];for(let oe=0;oe<W;oe++){const V=Math.floor(Math.random()*6)+3;J.push({id:`FO-DRAFT-${j}-${oe+1}`,bu:M,productType:O,status:"Draft",ocrConf:(90+Math.random()*8).toFixed(1),customer:_[Math.floor(Math.random()*_.length)],route:"LCH-BKK",quantity:V,unit:"units",deliveryDate:`2026-02-0${Math.floor(Math.random()*7)+3}`,vehicleCount:V,vehicleModels:"Yaris, City, Swift",winNo:"",pickupAddress:"Laem Chabang Port",deliveryAddress:"Toyota Dealer Bangkok",specialInstructions:"Win No. to be updated via Mobile QR scan"})}}else{const _=["PTT Public Co.","SCG Logistics","Thai Oil PCL","Bangchak Corp","IRPC PCL"],oe=["BKK-RYG","LCH-KRT","MTP-SRB","SRC-CNB"];for(let V=0;V<W;V++)J.push({id:`FO-DRAFT-${j}-${V+1}`,bu:M,productType:O,status:"Draft",ocrConf:(85+Math.random()*12).toFixed(1),customer:_[Math.floor(Math.random()*_.length)],route:oe[Math.floor(Math.random()*oe.length)],quantity:`${Math.floor(Math.random()*40)+10},000`,unit:O==="Container"?"TEU":"L",deliveryDate:`2026-02-0${Math.floor(Math.random()*7)+3}`,pickupAddress:"123 Industrial Zone, Map Ta Phut",deliveryAddress:"456 Factory Road, Rayong",productName:O,specialInstructions:""})}return J},be=M=>{ee(O=>O.includes(M)?O.filter(W=>W!==M):[...O,M])},Ce=()=>{ee(M=>M.length===Y.length?[]:Y.map((O,W)=>W))},Te=M=>M<k?"text-[#107e3e] font-semibold":M===k?"text-[#0854a0] font-semibold":"text-[#89919a]",K=M=>M<k?"bg-[#107e3e] text-white":M===k?"bg-[#0854a0] text-white":"bg-[#d9d9d9] text-[#89919a]";return t.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[2000] overflow-y-auto p-4",onClick:u,children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-[720px] max-h-[90vh] overflow-y-auto shadow-[0_20px_60px_rgba(0,0,0,0.2)]",onClick:M=>M.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-start px-6 py-4 border-b border-[#d9d9d9] sticky top-0 bg-white z-10",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-base font-semibold",children:[" ",C("uploadModal.title")]}),t.jsx("p",{className:"text-xs text-[#6a6d70] mt-0.5",children:C("uploadModal.subtitle")})]}),t.jsx("button",{onClick:u,className:"text-xl text-[#89919a] hover:text-[#32363a] p-1",children:""})]}),t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"flex justify-center gap-8 mb-5 pb-4 border-b border-[#ededed]",children:[{n:1,label:C("uploadModal.selectType")},{n:2,label:C("uploadModal.uploadFile")},{n:3,label:C("uploadModal.reviewDrafts")}].map(M=>t.jsxs("div",{className:`flex items-center gap-2 text-xs ${Te(M.n)}`,children:[t.jsx("span",{className:`w-[22px] h-[22px] rounded-full flex items-center justify-center text-[11px] font-bold ${K(M.n)}`,children:M.n<k?"":M.n}),t.jsx("span",{children:M.label})]},M.n))}),k===1&&t.jsxs("div",{children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block font-semibold text-xs mb-1",children:[" ",C("uploadModal.company")]}),t.jsxs("select",{value:x,onChange:M=>{N(M.target.value),B("")},className:"w-full px-3 py-2 border-[1.5px] border-[#d9d9d9] rounded-lg text-sm bg-white focus:outline-none focus:border-[#0854a0]",children:[t.jsx("option",{value:"",children:C("uploadModal.selectCompany")}),t.jsx("option",{value:"SCC",children:"SCC  SC Carrier"}),t.jsx("option",{value:"SCA",children:"SCA  SC Auto"}),t.jsx("option",{value:"SPL",children:"SPL  Container Transport"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block font-semibold text-xs mb-1",children:[" ",C("uploadModal.productType")]}),t.jsxs("select",{value:g,onChange:M=>B(M.target.value),disabled:!x,className:"w-full px-3 py-2 border-[1.5px] border-[#d9d9d9] rounded-lg text-sm bg-white focus:outline-none focus:border-[#0854a0] disabled:bg-[#f5f5f5] disabled:text-[#89919a]",children:[t.jsx("option",{value:"",children:C("uploadModal.selectProductType")}),me.map(M=>t.jsx("option",{value:M.value,children:M.label},M.value))]})]})]}),t.jsxs("div",{className:"bg-[#e3f2fd] border border-[#90caf9] rounded-lg p-3 text-xs text-[#1565c0] mt-4",children:[" ",t.jsx("strong",{children:C("uploadModal.whySelect")}),t.jsx("br",{}),C("uploadModal.whySelectDesc")]})]}),k===2&&!A&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx("span",{className:"px-3 py-1 rounded-md text-xs font-semibold bg-[#e3f2fd] text-[#0854a0]",children:x}),t.jsx("span",{className:"px-3 py-1 rounded-md text-xs font-semibold bg-[#fff3e0] text-[#e65100]",children:g})]}),t.jsxs("div",{onClick:he,className:"border-2 border-dashed border-[#d9d9d9] rounded-[10px] p-8 text-center cursor-pointer transition-all hover:border-[#0854a0] hover:bg-[#ebf5ff]",children:[t.jsx("div",{className:"text-5xl mb-2",children:""}),t.jsx("div",{className:"font-medium text-[#32363a]",children:C("uploadModal.dropFiles")}),t.jsx("div",{className:"text-xs text-[#89919a] mt-1",children:C("uploadModal.fileFormats")}),t.jsxs("div",{className:"flex justify-center gap-2 mt-2",children:[t.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10.5px] font-semibold bg-blue-50 text-blue-700",children:" English"}),t.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10.5px] font-semibold bg-amber-50 text-[#e65100]",children:" Thai"})]})]}),t.jsx("div",{className:"text-center mt-3",children:t.jsxs("button",{onClick:he,className:"px-3 py-1 text-xs rounded border border-[#0854a0] text-[#0854a0] hover:bg-[#ebf5ff]",children:[" ",C("uploadModal.runDemo")]})})]}),k===2&&A&&t.jsxs("div",{className:"text-center py-4",children:[t.jsx("div",{className:"text-4xl mb-2",children:""}),t.jsx("div",{className:"font-medium",children:C("uploadModal.processing")}),t.jsx("div",{className:"text-xs text-[#89919a] mt-1",children:E}),t.jsxs("div",{className:"max-w-[350px] mx-auto mt-4",children:[t.jsx("div",{className:"h-1.5 bg-[#e0e0e0] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-[#0854a0] rounded-full transition-all duration-300",style:{width:`${G}%`}})}),t.jsxs("div",{className:"text-center text-xs font-semibold mt-1",children:[G,"%"]})]})]}),k===3&&t.jsxs("div",{children:[t.jsxs("div",{className:"flex justify-between items-center p-3 bg-[#f8f9fa] rounded-lg mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:X.length===Y.length&&Y.length>0,onChange:Ce,className:"w-[18px] h-[18px] cursor-pointer"}),t.jsx("label",{className:"font-semibold text-sm cursor-pointer",onClick:Ce,children:C("uploadModal.selectAll")}),t.jsxs("span",{className:"text-xs text-[#89919a] ml-2",children:["(",X.length," ",C("uploadModal.selected"),")"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>{T(2),v(!1),q(0)},className:"px-3 py-1 text-xs rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] hover:bg-[#e8e8e8]",children:[" ",C("uploadModal.uploadMore")]}),t.jsxs("button",{disabled:X.length===0,onClick:()=>{const M=X.map(O=>Y[O]);c(M)},className:"px-3 py-1 text-xs rounded bg-[#107e3e] text-white hover:bg-[#0d6b34] disabled:opacity-40 disabled:cursor-not-allowed font-medium",children:[" ",C("uploadModal.confirmSelected")]})]})]}),t.jsx("div",{className:"max-h-[350px] overflow-y-auto",children:Y.map((M,O)=>{const W=X.includes(O);let J=null;return M.productType==="Fuel"?J=t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"flex items-center gap-1",children:[" ",M.plant||"-"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[" ",M.shipToCount||1," Ship-To"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[" D:",M.totalDiesel||0,"K + G95:",M.totalG95||0,"K"]})]}):M.productType==="Car"?J=t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"flex items-center gap-1",children:[" ",M.vehicleCount||"-"," units"]}),t.jsx("span",{className:"flex items-center gap-1 text-[#e65100]",children:M.winNo?" Win:"+M.winNo:" Win No. pending"})]}):J=t.jsxs("span",{className:"flex items-center gap-1",children:[" ",M.quantity," ",M.unit]}),t.jsxs("div",{onClick:()=>be(O),className:`flex items-center gap-3 p-3 border-[1.5px] rounded-[10px] mb-2 cursor-pointer transition-all
                        ${W?"border-[#0854a0] bg-[#e3f2fd]":"border-[#d9d9d9] hover:border-[#0854a0] hover:bg-[#ebf5ff]"}`,children:[t.jsx("input",{type:"checkbox",checked:W,onChange:()=>be(O),onClick:j=>j.stopPropagation(),className:"w-[18px] h-[18px] cursor-pointer flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:"font-bold text-[#0854a0] text-sm",children:M.id}),t.jsx("span",{className:`text-[10.5px] px-2 py-0.5 rounded-full font-semibold ${M.status==="Draft"?"bg-[#fff3cd] text-[#856404]":"bg-[#d4edda] text-[#155724]"}`,children:M.status}),t.jsxs("span",{className:"text-[11px] text-[#89919a]",children:[" ",M.ocrConf,"%"]}),M.productType==="Fuel"&&t.jsx("span",{className:"bg-[#fff3e0] text-[#e65100] px-1.5 rounded text-[10px] font-semibold",children:"BFPL"})]}),t.jsxs("div",{className:"flex flex-wrap gap-3 text-xs text-[#6a6d70]",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[" ",M.customer]}),t.jsxs("span",{className:"flex items-center gap-1",children:[" ",M.route]}),J,t.jsxs("span",{className:"flex items-center gap-1",children:[" ",M.deliveryDate]})]})]}),t.jsx("div",{className:"flex gap-1 flex-shrink-0",children:t.jsxs("button",{onClick:j=>{j.stopPropagation(),f(M)},className:"px-2 py-1 text-xs rounded-md border border-[#0854a0] bg-white text-[#0854a0] hover:bg-[#0854a0] hover:text-white font-medium",children:[" ",C("freightOrders.actions.review")]})})]},M.id)})})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 px-6 py-3 border-t border-[#d9d9d9] sticky bottom-0 bg-white",children:[t.jsx("button",{onClick:u,className:"px-3 py-1.5 text-xs rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] hover:bg-[#e8e8e8]",children:C("common.cancel")}),k<3&&!A&&t.jsx("button",{onClick:k===1?w:he,className:"px-4 py-1.5 text-xs rounded bg-[#0854a0] text-white hover:bg-[#0a6ed1] font-medium",children:k===1?C("uploadModal.next")+" ":C("uploadModal.upload")+" "})]})]})})}function km({onClose:a,onCreate:d}){const{t:o}=De(),[u,f]=F.useState({bu:"",shipType:"",prodType:"",custName:"",email:"",phone:"",route:"",wbs:"",shippingType:"01 - Truck",pickup:"",delivery:"",product:"",qty:"",unit:"Liters",pickupDate:"",deliveryDate:"",weight:"",volume:"",instructions:""}),c=(y,k)=>f(T=>({...T,[y]:k})),C=()=>{const y={id:"FO-2026-MANUAL",source:"Manual Entry",bu:u.bu||"SCC",shipmentType:u.shipType||"0610  Work Order",productType:u.prodType||"General Cargo",customerName:u.custName||"Manual Customer",customerEmail:u.email||"",customerPhone:u.phone||"",route:u.route||"N/A",wbs:u.wbs||"N/A",shippingType:u.shippingType||"01 - Truck",pickupAddress:u.pickup||"Manual pickup",deliveryAddress:u.delivery||"Manual delivery",products:[{name:u.product||"Product",quantity:parseInt(u.qty)||1,unit:u.unit||"pcs",weight:10}],totalWeight:parseInt(u.weight)||0,totalVolume:parseFloat(u.volume)||0,requestedPickupDate:u.pickupDate||"2026-02-05",requestedDeliveryDate:u.deliveryDate||"2026-02-06",specialInstructions:u.instructions||"",status:"PENDING_REVIEW",ocrConfidence:null,createdAt:new Date().toLocaleString(),createdBy:"Current User",language:null,originalDocument:null,reviewedBy:null,reviewedAt:null,approver:null,approverComments:null,estimatedValue:25e3};d(y)};return t.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[2000] overflow-y-auto p-4",onClick:a,children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-[1000px] max-h-[90vh] overflow-y-auto shadow-[0_20px_60px_rgba(0,0,0,0.2)]",onClick:y=>y.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-start px-6 py-4 border-b border-[#d9d9d9] sticky top-0 bg-white z-10",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-base font-semibold",children:[" ",o("manualEntry.title")]}),t.jsx("p",{className:"text-xs text-[#6a6d70] mt-0.5",children:o("manualEntry.subtitle")})]}),t.jsx("button",{onClick:a,className:"text-xl text-[#89919a] hover:text-[#32363a] p-1",children:""})]}),t.jsxs("div",{className:"p-6",children:[t.jsx(Hl,{title:" "+o("manualEntry.buServiceType"),children:t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(Ye,{label:"Business Unit",required:!0,children:t.jsxs("select",{className:"fc",value:u.bu,onChange:y=>c("bu",y.target.value),children:[t.jsx("option",{value:"",children:o("manualEntry.select")}),t.jsx("option",{value:"SCC",children:"SCC  SC Carrier"}),t.jsx("option",{value:"SCA",children:"SCA  SC Auto"}),t.jsx("option",{value:"SPL",children:"SPL  SC Container"}),t.jsx("option",{value:"SCM",children:"SCM  SC Marine"})]})}),t.jsx(Ye,{label:"Shipment Type",required:!0,children:t.jsxs("select",{className:"fc",value:u.shipType,onChange:y=>c("shipType",y.target.value),children:[t.jsx("option",{value:"",children:" Select "}),t.jsx("option",{children:"0601  NGV"}),t.jsx("option",{children:"0602  LPG"}),t.jsx("option",{children:"0603  Chemical"}),t.jsx("option",{children:"0605  Fuel"}),t.jsx("option",{children:"0610  Work Order"}),t.jsx("option",{children:"00  SCA Car Carrier"}),t.jsx("option",{children:"ML  Coastal"}),t.jsx("option",{children:"TUG  Tug Boat"})]})}),t.jsx(Ye,{label:"Product Type",required:!0,children:t.jsxs("select",{className:"fc",value:u.prodType,onChange:y=>c("prodType",y.target.value),children:[t.jsx("option",{value:"",children:" Select "}),t.jsx("option",{children:"NGV"}),t.jsx("option",{children:"LPG"}),t.jsx("option",{children:o("cashAdvance.tabs.fuel")}),t.jsx("option",{children:"Chemical"}),t.jsx("option",{children:"Car"}),t.jsx("option",{children:"Container"}),t.jsx("option",{children:"General Cargo"})]})})]})}),t.jsx(Hl,{title:" "+o("editDraft.customerInfo"),children:t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(Ye,{label:"Customer Name",required:!0,children:t.jsx("input",{className:"fc",value:u.custName,onChange:y=>c("custName",y.target.value),placeholder:"Company name"})}),t.jsx(Ye,{label:"Email",children:t.jsx("input",{type:"email",className:"fc",value:u.email,onChange:y=>c("email",y.target.value),placeholder:"email@company.com"})}),t.jsx(Ye,{label:"Phone",required:!0,children:t.jsx("input",{type:"tel",className:"fc",value:u.phone,onChange:y=>c("phone",y.target.value),placeholder:"+66 XXX XXX XXXX"})})]})}),t.jsxs(Hl,{title:" "+o("editDraft.routeAddresses"),children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(Ye,{label:"Route",required:!0,children:t.jsx("input",{className:"fc",value:u.route,onChange:y=>c("route",y.target.value),placeholder:"e.g. SRC-BKK"})}),t.jsx(Ye,{label:"WBS",required:!0,children:t.jsx("input",{className:"fc",value:u.wbs,onChange:y=>c("wbs",y.target.value),placeholder:"e.g. 025.15.JETTYG.HO"})}),t.jsx(Ye,{label:"Shipping Type",children:t.jsxs("select",{className:"fc",value:u.shippingType,onChange:y=>c("shippingType",y.target.value),children:[t.jsx("option",{children:"01 - Truck"}),t.jsx("option",{children:"02 - Trailer"}),t.jsx("option",{children:"03 - Vessel"}),t.jsx("option",{children:"04 - Tug"})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[t.jsx(Ye,{label:"Pickup Address",required:!0,children:t.jsx("textarea",{className:"fc",rows:2,value:u.pickup,onChange:y=>c("pickup",y.target.value),placeholder:"Full pickup address..."})}),t.jsx(Ye,{label:"Delivery Address",required:!0,children:t.jsx("textarea",{className:"fc",rows:2,value:u.delivery,onChange:y=>c("delivery",y.target.value),placeholder:"Full delivery address..."})})]})]}),t.jsx(Hl,{title:" "+o("editDraft.productCargo"),children:t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("div",{className:"col-span-2",children:t.jsx(Ye,{label:"Product Description",children:t.jsx("input",{className:"fc",value:u.product,onChange:y=>c("product",y.target.value),placeholder:"Product name"})})}),t.jsx(Ye,{label:"Quantity",children:t.jsx("input",{type:"number",className:"fc",value:u.qty,onChange:y=>c("qty",y.target.value),placeholder:"0"})}),t.jsx(Ye,{label:"Unit",children:t.jsxs("select",{className:"fc",value:u.unit,onChange:y=>c("unit",y.target.value),children:[t.jsx("option",{children:"Liters"}),t.jsx("option",{children:"KG"}),t.jsx("option",{children:"TON"}),t.jsx("option",{children:"pcs"}),t.jsx("option",{children:"boxes"}),t.jsx("option",{children:"TEU"})]})})]})}),t.jsxs(Hl,{title:" "+o("editDraft.scheduleCargo"),children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx(Ye,{label:"Pickup Date",required:!0,children:t.jsx("input",{type:"date",className:"fc",value:u.pickupDate,onChange:y=>c("pickupDate",y.target.value)})}),t.jsx(Ye,{label:"Delivery Date",required:!0,children:t.jsx("input",{type:"date",className:"fc",value:u.deliveryDate,onChange:y=>c("deliveryDate",y.target.value)})}),t.jsx(Ye,{label:"Total Weight (kg)",children:t.jsx("input",{type:"number",className:"fc",value:u.weight,onChange:y=>c("weight",y.target.value),placeholder:"0"})}),t.jsx(Ye,{label:"Volume (m)",children:t.jsx("input",{type:"number",className:"fc",value:u.volume,onChange:y=>c("volume",y.target.value),placeholder:"0"})})]}),t.jsx(Ye,{label:"Special Instructions",className:"mt-3",children:t.jsx("textarea",{className:"fc",rows:2,value:u.instructions,onChange:y=>c("instructions",y.target.value),placeholder:"Special handling, temperature requirements..."})})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 px-6 py-3 border-t border-[#d9d9d9] sticky bottom-0 bg-white",children:[t.jsx("button",{onClick:a,className:"px-3 py-1.5 text-xs rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] hover:bg-[#e8e8e8]",children:o("common.cancel")}),t.jsxs("button",{onClick:C,className:"px-4 py-1.5 text-xs rounded bg-[#0854a0] text-white hover:bg-[#0a6ed1] font-medium",children:[" ",o("manualEntry.createOrder")]})]})]})})}function Hl({title:a,children:d}){return t.jsxs("div",{className:"bg-[#fafafa] border border-[#ededed] rounded-lg p-4 mb-3",children:[t.jsx("h4",{className:"text-xs font-semibold text-[#6a6d70] mb-3 flex items-center gap-1",children:a}),d]})}function Ye({label:a,required:d,children:o,className:u=""}){return t.jsxs("div",{className:`flex flex-col gap-0.5 ${u}`,children:[t.jsxs("label",{className:"text-[11px] font-medium text-[#6a6d70]",children:[d&&t.jsx("span",{className:"text-[#bb0000] font-bold",children:"*"})," ",a]}),o]})}function Pm({draft:a,onClose:d,onSave:o,onConfirm:u}){const{t:f}=De(),[c,C]=F.useState({...a}),y=(v,E)=>C($=>({...$,[v]:E})),k=parseFloat(c.ocrConf||0),T=k>=90?"high":k>=80?"medium":"low",x={high:"bg-[#e8f5e9] text-[#2e7d32]",medium:"bg-[#fff3e0] text-[#e65100]",low:"bg-[#ffebee] text-[#c62828]"},N=()=>{o(c),window.alert(" "+f("editDraft.savedToDraft"))},g=()=>{if(!c.customer||!c.route){window.alert(" "+f("editDraft.requiredFields"));return}u(c)},B=()=>{var v,E,$,G,q,Y,R,X,ee,te,me,w,he,je,be,Ce,Te,K,M,O,W,J,j,_,oe;switch(c.productType){case"LPG":return t.jsxs(Ot,{title:" LPG Product Details",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Product Name",children:t.jsx("input",{className:"fc",value:c.productName||"Propane / Butane",onChange:V=>y("productName",V.target.value)})})}),t.jsx(se,{label:"Quantity",required:!0,children:t.jsx("input",{className:"fc",value:c.quantity||"",onChange:V=>y("quantity",V.target.value)})}),t.jsx(se,{label:"Unit",children:t.jsxs("select",{className:"fc",defaultValue:"Liters",children:[t.jsx("option",{children:"Liters"}),t.jsx("option",{children:"KG"}),t.jsx("option",{children:"TON"})]})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3",children:[t.jsx(se,{label:"Tank No.",children:t.jsx("input",{className:"fc",value:c.tankNo||"",onChange:V=>y("tankNo",V.target.value),placeholder:"e.g. TK-001"})}),t.jsx(se,{label:"Pressure (PSI)",children:t.jsx("input",{type:"number",className:"fc",value:c.pressure||"",onChange:V=>y("pressure",V.target.value),placeholder:"e.g. 150"})}),t.jsx(se,{label:"Temperature (C)",children:t.jsx("input",{type:"number",className:"fc",value:c.temp||"",onChange:V=>y("temp",V.target.value),placeholder:"e.g. -42"})})]})]});case"Chem":return t.jsxs(Ot,{title:" Chemical / Hazmat Details",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Chemical Name",children:t.jsx("input",{className:"fc",value:c.productName||"",onChange:V=>y("productName",V.target.value)})})}),t.jsx(se,{label:"Quantity",required:!0,children:t.jsx("input",{className:"fc",value:c.quantity||"",onChange:V=>y("quantity",V.target.value)})}),t.jsx(se,{label:"Unit",children:t.jsxs("select",{className:"fc",defaultValue:"KG",children:[t.jsx("option",{children:"KG"}),t.jsx("option",{children:"Liters"}),t.jsx("option",{children:"TON"})]})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mt-3",children:[t.jsx(se,{label:"Hazmat Class",required:!0,children:t.jsxs("select",{className:"fc",defaultValue:"Class 3  Flammable Liquid",children:[t.jsx("option",{children:"Class 3  Flammable Liquid"}),t.jsx("option",{children:"Class 6  Toxic"}),t.jsx("option",{children:"Class 8  Corrosive"}),t.jsx("option",{children:"Class 9  Misc Dangerous"})]})}),t.jsx(se,{label:"UN Number",required:!0,children:t.jsx("input",{className:"fc",value:c.unNumber||"",onChange:V=>y("unNumber",V.target.value),placeholder:"e.g. UN1203"})}),t.jsx(se,{label:"Flash Point (C)",children:t.jsx("input",{type:"number",className:"fc",value:c.flashPoint||"",onChange:V=>y("flashPoint",V.target.value),placeholder:"e.g. 23"})}),t.jsx(se,{label:"Emergency Contact",children:t.jsx("input",{className:"fc",value:c.emergencyContact||"",onChange:V=>y("emergencyContact",V.target.value),placeholder:"Phone"})})]})]});case"Fuel":return t.jsxs(Ot,{title:" Fuel Order Details",children:[t.jsxs("div",{className:"bg-[#f5f5f5] border border-[#e0e0e0] rounded-lg p-4 mb-4",children:[t.jsxs("div",{className:"font-semibold text-sm text-[#616161] mb-3",children:[" ",f("editDraft.orderInfo")]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx(se,{label:"Source Depot",required:!0,children:t.jsxs("select",{className:"fc",value:c.plant||"130H",onChange:V=>y("plant",V.target.value),children:[t.jsx("option",{value:"130H",children:"130H  Bangchak Sriracha"}),t.jsx("option",{value:"140H",children:"140H  Bangchak Ayutthaya"}),t.jsx("option",{value:"150H",children:"150H  Bangchak Saraburi"}),t.jsx("option",{value:"SHELL",children:"SHELL  Shell Depot"})]})}),t.jsx(se,{label:"Requested Load Date",required:!0,children:t.jsx("input",{type:"date",className:"fc",value:c.loadDate||"",onChange:V=>y("loadDate",V.target.value)})}),t.jsx(se,{label:"Requested Load Time",children:t.jsx("input",{type:"time",className:"fc",value:c.loadTime||"07:30",onChange:V=>y("loadTime",V.target.value)})}),t.jsx(se,{label:"Reference No.",children:t.jsx("input",{className:"fc",value:c.shipmentNo||"",onChange:V=>y("shipmentNo",V.target.value),placeholder:"Customer PO / Ref"})})]})]}),t.jsxs("div",{className:"border border-[#e0e0e0] rounded-lg overflow-hidden",children:[t.jsxs("div",{className:"bg-[#e3f2fd] px-4 py-3 font-semibold text-sm text-[#1565c0] flex justify-between items-center",children:[t.jsxs("span",{children:[" ",f("editDraft.deliveryLocations")]}),t.jsxs("button",{type:"button",className:"px-2 py-0.5 text-[10px] rounded border border-[#d9d9d9] bg-[#e0e0e0] text-[#9e9e9e] cursor-not-allowed",disabled:!0,title:f("editDraft.addShipToComingSoon"),children:["+ ",f("editDraft.addShipTo")]})]}),t.jsxs("div",{className:"max-h-[350px] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b border-[#e0e0e0] bg-[#fafafa]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-3",children:[t.jsx("span",{className:"bg-[#1565c0] text-white px-2 py-0.5 rounded text-[11px] font-semibold",children:f("editDraft.shipTo",{number:1})}),t.jsx("span",{className:"text-[11px] text-[#89919a]",children:f("editDraft.primaryDelivery")})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx(se,{label:"Ship-To Code",required:!0,children:t.jsx("input",{className:"fc text-xs",value:((E=(v=c.shipToList)==null?void 0:v[0])==null?void 0:E.code)||"102807",readOnly:!0})}),t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Customer Name",required:!0,children:t.jsx("input",{className:"fc text-xs",value:((G=($=c.shipToList)==null?void 0:$[0])==null?void 0:G.name)||c.customer||"",readOnly:!0})})})]}),t.jsx(se,{label:"Delivery Address",className:"mt-2",children:t.jsx("input",{className:"fc text-xs",value:((Y=(q=c.shipToList)==null?void 0:q[0])==null?void 0:Y.address)||c.deliveryAddress||"",readOnly:!0})}),t.jsxs("div",{className:"mt-3 p-3 bg-white rounded-md border border-[#e0e0e0]",children:[t.jsx("div",{className:"text-[11px] font-semibold text-[#616161] mb-2",children:f("editDraft.productsVolumes")}),t.jsxs("div",{className:"flex gap-3 flex-wrap",children:[t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#f57f17]",children:" Hi Diesel S (x1000 L)"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:c.totalDiesel||((X=(R=c.shipToList)==null?void 0:R[0])==null?void 0:X.diesel)||9})]}),t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#2e7d32]",children:" Gasoline 95 (x1000 L)"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:c.totalG95||((te=(ee=c.shipToList)==null?void 0:ee[0])==null?void 0:te.g95)||8})]}),t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#1565c0]",children:" Gasoline 91 (x1000 L)"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:c.totalG91||((w=(me=c.shipToList)==null?void 0:me[0])==null?void 0:w.g91)||""})]})]})]})]}),c.shipToList&&c.shipToList.length>1&&t.jsxs("div",{className:"p-4 border-b border-[#e0e0e0]",children:[t.jsx("div",{className:"mb-3",children:t.jsx("span",{className:"bg-[#1565c0] text-white px-2 py-0.5 rounded text-[11px] font-semibold",children:f("editDraft.shipTo",{number:2})})}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx(se,{label:"Ship-To Code",children:t.jsx("input",{className:"fc text-xs",value:((he=c.shipToList[1])==null?void 0:he.code)||"",readOnly:!0})}),t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Customer Name",children:t.jsx("input",{className:"fc text-xs",value:((je=c.shipToList[1])==null?void 0:je.name)||"",readOnly:!0})})})]}),t.jsx(se,{label:"Delivery Address",className:"mt-2",children:t.jsx("input",{className:"fc text-xs",value:((be=c.shipToList[1])==null?void 0:be.address)||"",readOnly:!0})}),t.jsxs("div",{className:"mt-3 p-3 bg-white rounded-md border border-[#e0e0e0]",children:[t.jsx("div",{className:"text-[11px] font-semibold text-[#616161] mb-2",children:f("editDraft.productsVolumes")}),t.jsxs("div",{className:"flex gap-3 flex-wrap",children:[t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#f57f17]",children:" Hi Diesel S"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:((Ce=c.shipToList[1])==null?void 0:Ce.diesel)||""})]}),t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#2e7d32]",children:" G95"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:((Te=c.shipToList[1])==null?void 0:Te.g95)||""})]}),t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#1565c0]",children:" G91"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:((K=c.shipToList[1])==null?void 0:K.g91)||""})]})]})]})]}),c.shipToList&&c.shipToList.length>2&&t.jsxs("div",{className:"p-4",children:[t.jsx("div",{className:"mb-3",children:t.jsx("span",{className:"bg-[#1565c0] text-white px-2 py-0.5 rounded text-[11px] font-semibold",children:f("editDraft.shipTo",{number:3})})}),t.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[t.jsx(se,{label:"Ship-To Code",children:t.jsx("input",{className:"fc text-xs",value:((M=c.shipToList[2])==null?void 0:M.code)||"",readOnly:!0})}),t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Customer Name",children:t.jsx("input",{className:"fc text-xs",value:((O=c.shipToList[2])==null?void 0:O.name)||"",readOnly:!0})})})]}),t.jsx(se,{label:"Delivery Address",className:"mt-2",children:t.jsx("input",{className:"fc text-xs",value:((W=c.shipToList[2])==null?void 0:W.address)||"",readOnly:!0})}),t.jsxs("div",{className:"mt-3 p-3 bg-white rounded-md border border-[#e0e0e0]",children:[t.jsx("div",{className:"text-[11px] font-semibold text-[#616161] mb-2",children:f("editDraft.productsVolumes")}),t.jsxs("div",{className:"flex gap-3 flex-wrap",children:[t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#f57f17]",children:" Hi Diesel S"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:((J=c.shipToList[2])==null?void 0:J.diesel)||""})]}),t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#2e7d32]",children:" G95"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:((j=c.shipToList[2])==null?void 0:j.g95)||""})]}),t.jsxs("div",{className:"flex-1 min-w-[120px]",children:[t.jsx("label",{className:"text-[10px] text-[#1565c0]",children:" G91"}),t.jsx("input",{type:"number",className:"fc text-xs",defaultValue:((_=c.shipToList[2])==null?void 0:_.g91)||""})]})]})]})]})]})]}),t.jsxs("div",{className:"bg-[#e8f5e9] border border-[#a5d6a7] rounded-lg p-4 mt-4",children:[t.jsxs("div",{className:"font-semibold text-sm text-[#2e7d32] mb-2",children:[" ",f("editDraft.orderTotal")]}),t.jsxs("div",{className:"flex gap-8 flex-wrap text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-[#616161]",children:"Total Diesel:"})," ",t.jsxs("strong",{className:"text-[#f57f17]",children:[c.totalDiesel||22,"K L"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[#616161]",children:"Total G95:"})," ",t.jsxs("strong",{className:"text-[#2e7d32]",children:[c.totalG95||8,"K L"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[#616161]",children:"Total G91:"})," ",t.jsxs("strong",{className:"text-[#1565c0]",children:[c.totalG91||4,"K L"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-[#616161]",children:"Deliveries:"})," ",t.jsx("strong",{children:c.shipToCount||((oe=c.shipToList)==null?void 0:oe.length)||1})]})]}),t.jsxs("div",{className:"mt-3 pt-3 border-t border-dashed border-[#a5d6a7] text-xs text-[#616161]",children:[" ",t.jsx("strong",{children:"Note:"})," ",f("editDraft.truckDriverNote")]})]})]});case"NGV":return t.jsxs(Ot,{title:" NGV Product Details",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Product",children:t.jsx("input",{className:"fc",value:"Natural Gas (NGV)",readOnly:!0,style:{background:"#e8e8e8"}})})}),t.jsx(se,{label:"Volume (SCM)",required:!0,children:t.jsx("input",{className:"fc",value:c.quantity||"",onChange:V=>y("quantity",V.target.value)})}),t.jsx(se,{label:"Pressure (Bar)",children:t.jsx("input",{type:"number",className:"fc",value:c.pressure||"250",onChange:V=>y("pressure",V.target.value)})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3",children:[t.jsx(se,{label:"Station Name",required:!0,children:t.jsx("input",{className:"fc",value:c.station||"",onChange:V=>y("station",V.target.value),placeholder:"e.g. PTT NGV Bangna"})}),t.jsx(se,{label:"Shift",children:t.jsxs("select",{className:"fc",defaultValue:"Morning (06:00-14:00)",children:[t.jsx("option",{children:"Morning (06:00-14:00)"}),t.jsx("option",{children:"Afternoon (14:00-22:00)"}),t.jsx("option",{children:"Night (22:00-06:00)"})]})}),t.jsx(se,{label:"Mother Station",children:t.jsx("input",{className:"fc",value:c.motherStation||"",onChange:V=>y("motherStation",V.target.value),placeholder:"Source station"})})]})]});case"Car":return t.jsxs(Ot,{title:" Car Carrier Details (SCA)",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx(se,{label:"Vehicle Count",required:!0,children:t.jsx("input",{type:"number",className:"fc",value:c.quantity||8,onChange:V=>y("quantity",V.target.value)})}),t.jsx(se,{label:"Carrier Capacity",children:t.jsx("input",{type:"number",className:"fc",value:c.capacity||8,readOnly:!0,style:{background:"#e8e8e8"}})}),t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Vehicle Models",children:t.jsx("input",{className:"fc",value:c.vehicleModels||"",onChange:V=>y("vehicleModels",V.target.value),placeholder:"e.g. Toyota Yaris, Honda City"})})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-3",children:[t.jsx(se,{label:"Manufacturer",children:t.jsxs("select",{className:"fc",defaultValue:"Toyota",children:[t.jsx("option",{children:"Toyota"}),t.jsx("option",{children:"Honda"}),t.jsx("option",{children:"Isuzu"}),t.jsx("option",{children:"Mitsubishi"}),t.jsx("option",{children:"Nissan"}),t.jsx("option",{children:"Mixed"})]})}),t.jsx(se,{label:"Dealer / Destination",children:t.jsx("input",{className:"fc",value:c.dealer||"",onChange:V=>y("dealer",V.target.value),placeholder:"e.g. Toyota Bangna"})}),t.jsx(se,{label:"Trip Type",children:t.jsxs("select",{className:"fc",defaultValue:"Outbound",children:[t.jsx("option",{children:"Outbound"}),t.jsx("option",{children:"Return (Manual)"})]})})]}),t.jsxs("div",{className:"bg-[#fff3e0] border border-[#ffcc80] rounded-lg p-3 mt-4",children:[t.jsx("div",{className:"font-semibold text-sm text-[#e65100] mb-2",children:" Win No. (Vehicle Identification)"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(se,{label:"Win No.",children:t.jsx("input",{className:"fc",value:c.winNo||"",onChange:V=>y("winNo",V.target.value),placeholder:"Can be updated later"})}),t.jsx("div",{className:"flex items-end",children:t.jsx("button",{type:"button",className:"w-full px-3 py-2 text-xs rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] hover:bg-[#e8e8e8]",onClick:()=>window.alert(` Mobile QR Scan feature

Use the IntelliCarrier Mobile App to scan QR code/Barcode/Vehicle Registration and update Win No. in Shipment.`),children:" Scan QR (Mobile)"})})]}),t.jsxs("div",{className:"text-xs text-[#f57c00] mt-2",children:[" ",t.jsx("strong",{children:"Note:"})," Win No. can be updated later via Mobile app  scan QR code, Barcode, or Vehicle Registration plate"]})]})]});case"Container":return t.jsxs(Ot,{title:" Container Details",children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx(se,{label:"Container No.",required:!0,children:t.jsx("input",{className:"fc",value:c.containerNo||"",onChange:V=>y("containerNo",V.target.value),placeholder:"e.g. MSCU1234567"})}),t.jsx(se,{label:"Size",required:!0,children:t.jsxs("select",{className:"fc",defaultValue:"20'",children:[t.jsx("option",{children:"20'"}),t.jsx("option",{children:"40'"}),t.jsx("option",{children:"40'HC"}),t.jsx("option",{children:"45'"})]})}),t.jsx(se,{label:"Type",children:t.jsxs("select",{className:"fc",defaultValue:"Dry",children:[t.jsx("option",{children:"Dry"}),t.jsx("option",{children:"Reefer"}),t.jsx("option",{children:"Open Top"}),t.jsx("option",{children:"Flat Rack"}),t.jsx("option",{children:"Tank"})]})}),t.jsx(se,{label:"Gross Weight (kg)",children:t.jsx("input",{type:"number",className:"fc",value:String(c.quantity||"").replace(/,/g,""),onChange:V=>y("quantity",V.target.value),placeholder:"e.g. 24000"})})]}),t.jsxs("div",{className:"grid grid-cols-4 gap-3 mt-3",children:[t.jsx(se,{label:"Seal No.",children:t.jsx("input",{className:"fc",value:c.sealNo||"",onChange:V=>y("sealNo",V.target.value),placeholder:"e.g. SL-12345"})}),t.jsx(se,{label:"Booking Ref",children:t.jsx("input",{className:"fc",value:c.bookingRef||"",onChange:V=>y("bookingRef",V.target.value),placeholder:"e.g. BKG-001"})}),t.jsx(se,{label:"Pickup Port",children:t.jsx("input",{className:"fc",value:c.pickupPort||"",onChange:V=>y("pickupPort",V.target.value),placeholder:"e.g. Laem Chabang"})}),t.jsx(se,{label:"Cargo Description",children:t.jsx("input",{className:"fc",value:c.productName||"",onChange:V=>y("productName",V.target.value),placeholder:"e.g. Electronics"})})]})]});default:return t.jsx(Ot,{title:" "+f("editDraft.productCargo"),children:t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx("div",{className:"col-span-2",children:t.jsx(se,{label:"Product Description",children:t.jsx("input",{className:"fc",value:c.productName||"",onChange:V=>y("productName",V.target.value)})})}),t.jsx(se,{label:"Quantity",required:!0,children:t.jsx("input",{className:"fc",value:c.quantity||"",onChange:V=>y("quantity",V.target.value)})}),t.jsx(se,{label:"Unit",children:t.jsxs("select",{className:"fc",defaultValue:"Liters",children:[t.jsx("option",{children:"Liters"}),t.jsx("option",{children:"KG"}),t.jsx("option",{children:"TON"}),t.jsx("option",{children:"pcs"})]})})]})})}},A={LPG:"0602  LPG",Chem:"0603  Chemical",Fuel:"0605  Fuel",NGV:"0601  NGV",Car:"00  SCA Car Carrier",Container:"ML  Coastal Container"};return t.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[2000] overflow-y-auto p-4",onClick:d,children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-[1200px] max-h-[90vh] overflow-y-auto shadow-[0_20px_60px_rgba(0,0,0,0.2)]",onClick:v=>v.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-start px-6 py-4 border-b-2 border-[#81c784] sticky top-0 z-10",style:{background:"linear-gradient(135deg,#e8f5e9,#c8e6c9)"},children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-base font-semibold text-[#2e7d32]",children:[" ",f("editDraft.title")]}),t.jsxs("p",{className:"text-xs text-[#388e3c] mt-0.5",children:[c.id,"  ",c.bu," / ",c.productType,"  OCR Confidence: ",c.ocrConf,"%"]})]}),t.jsx("button",{onClick:d,className:"text-xl text-[#89919a] hover:text-[#32363a] p-1",children:""})]}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm mb-5 ${x[T]}`,children:[t.jsx("span",{children:""}),t.jsxs("span",{children:[f("editDraft.ocrConfidence"),":"]}),t.jsxs("strong",{children:[c.ocrConf,"%"]}),t.jsx("span",{className:"ml-auto text-xs",children:f("editDraft.reviewFields")})]}),t.jsx(Ot,{title:" "+f("editDraft.buProduct"),subtitle:f("editDraft.fromUpload"),bg:"#f5f5f5",children:t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(se,{label:" (Business Unit)",children:t.jsx("input",{className:"fc",value:c.bu,readOnly:!0,style:{background:"#e8e8e8"}})}),t.jsx(se,{label:" (Product Type)",children:t.jsx("input",{className:"fc",value:c.productType,readOnly:!0,style:{background:"#e8e8e8"}})}),t.jsx(se,{label:"Shipment Type",children:t.jsxs("select",{className:"fc",defaultValue:A[c.productType]||"",children:[t.jsx("option",{children:"0601  NGV"}),t.jsx("option",{children:"0602  LPG"}),t.jsx("option",{children:"0603  Chemical"}),t.jsx("option",{children:"0605  Fuel"}),t.jsx("option",{children:"00  SCA Car Carrier"}),t.jsx("option",{children:"ML  Coastal Container"})]})})]})}),t.jsx(Ot,{title:" "+f("editDraft.customerInfo"),children:t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(se,{label:"Customer Name",required:!0,children:t.jsx("input",{className:"fc",value:c.customer||"",onChange:v=>y("customer",v.target.value),placeholder:"Company name"})}),t.jsx(se,{label:"Email",children:t.jsx("input",{type:"email",className:"fc",value:c.email||"customer@example.com",onChange:v=>y("email",v.target.value)})}),t.jsx(se,{label:"Phone",required:!0,children:t.jsx("input",{type:"tel",className:"fc",value:c.phone||"+66 2 XXX XXXX",onChange:v=>y("phone",v.target.value)})})]})}),t.jsxs(Ot,{title:" "+f("editDraft.routeAddresses"),children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsx(se,{label:" (Route)",required:!0,children:t.jsx("input",{className:"fc",value:c.route||"",onChange:v=>y("route",v.target.value),placeholder:"e.g. SRC-BKK"})}),t.jsx(se,{label:" / WBS",required:!0,children:t.jsx("input",{className:"fc",value:c.wbs||"025.AUTO.GEN",onChange:v=>y("wbs",v.target.value)})}),t.jsx(se,{label:"Shipping Type",children:t.jsxs("select",{className:"fc",defaultValue:"01 - Truck",children:[t.jsx("option",{children:"01 - Truck"}),t.jsx("option",{children:"02 - Trailer"}),t.jsx("option",{children:"03 - Vessel"}),t.jsx("option",{children:"04 - Tug"})]})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3",children:[t.jsx(se,{label:"Pickup Address",required:!0,children:t.jsx("textarea",{className:"fc",rows:2,value:c.pickupAddress||"",onChange:v=>y("pickupAddress",v.target.value),placeholder:"Full pickup address..."})}),t.jsx(se,{label:"Delivery Address",required:!0,children:t.jsx("textarea",{className:"fc",rows:2,value:c.deliveryAddress||"",onChange:v=>y("deliveryAddress",v.target.value),placeholder:"Full delivery address..."})})]})]}),B(),t.jsxs(Ot,{title:" "+f("editDraft.scheduleCargo"),children:[t.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[t.jsx(se,{label:"Pickup Date",required:!0,children:t.jsx("input",{type:"date",className:"fc",value:c.deliveryDate||"",onChange:v=>y("deliveryDate",v.target.value)})}),t.jsx(se,{label:"Delivery Date",required:!0,children:t.jsx("input",{type:"date",className:"fc",value:c.deliveryDate||"",onChange:v=>y("deliveryDate",v.target.value)})}),t.jsx(se,{label:"Total Weight (kg)",children:t.jsx("input",{type:"number",className:"fc",value:c.weight||"10000",onChange:v=>y("weight",v.target.value)})}),t.jsx(se,{label:"Estimated Value (THB)",children:t.jsx("input",{type:"number",className:"fc",value:String(c.estimatedValue||"50000").replace(/,/g,""),onChange:v=>y("estimatedValue",v.target.value)})})]}),t.jsx(se,{label:"Special Instructions",className:"mt-3",children:t.jsx("textarea",{className:"fc",rows:2,value:c.specialInstructions||"",onChange:v=>y("specialInstructions",v.target.value),placeholder:"Special handling, temperature requirements..."})})]})]}),t.jsxs("div",{className:"flex justify-end gap-2 px-6 py-3 border-t border-[#d9d9d9] bg-[#f8f9fa] sticky bottom-0",children:[t.jsx("button",{onClick:d,className:"px-3 py-1.5 text-xs rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] hover:bg-[#e8e8e8]",children:f("common.cancel")}),t.jsxs("button",{onClick:N,className:"px-3 py-1.5 text-xs rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] hover:bg-[#e8e8e8]",children:[" ",f("editDraft.saveAsDraft")]}),t.jsxs("button",{onClick:g,className:"px-5 py-2 text-xs rounded bg-[#107e3e] text-white hover:bg-[#0d6b34] font-medium",children:[" ",f("editDraft.confirmCreateFO")]})]})]})})}function Ot({title:a,subtitle:d,children:o,className:u="",bg:f="#fafafa"}){return t.jsxs("div",{className:`border border-[#ededed] rounded-lg p-4 mb-3 ${u}`,style:{background:f},children:[t.jsxs("h4",{className:"text-xs font-semibold text-[#6a6d70] mb-3 flex items-center gap-1",children:[a,d&&t.jsx("span",{className:"text-[11px] text-[#89919a] font-normal",children:d})]}),o]})}function se({label:a,required:d,children:o,className:u=""}){return t.jsxs("div",{className:`flex flex-col gap-0.5 ${u}`,children:[t.jsxs("label",{className:"text-[11px] font-medium text-[#6a6d70]",children:[d&&t.jsx("span",{className:"text-[#bb0000] font-bold",children:"*"})," ",a]}),o]})}function Dm({onClose:a,onImport:d}){const{t:o}=De(),[u,f]=F.useState("TTMS  Thai Transport Management"),[c,C]=F.useState("2026-02-01"),[y,k]=F.useState("2026-02-02"),[T,x]=F.useState(""),[N,g]=F.useState(!1),[B,A]=F.useState(null),v=()=>{g(!0),A(null),setTimeout(()=>{const $=Math.floor(Math.random()*4)+1,G=[];for(let q=0;q<$;q++)G.push({id:`FO-2026-${String(100+q).padStart(4,"0")}`,source:"TMS API",bu:T||"SCC",shipmentType:"0603  Chemical",productType:"Chemical",customerName:`TMS Customer ${q+1}`,customerEmail:"tms@example.com",customerPhone:"+66 2 XXX",route:"MTP-BKK",wbs:"025.MTP.TMS.AUTO",shippingType:"01 - Truck",pickupAddress:"TMS Origin",deliveryAddress:"TMS Destination",products:[{name:"Chemical Product",quantity:28e3,unit:"KG",weight:28e3}],totalWeight:28e3,totalVolume:35,requestedPickupDate:"2026-02-05",requestedDeliveryDate:"2026-02-05",specialInstructions:"Imported from TMS API",status:"PENDING_REVIEW",ocrConfidence:null,createdAt:new Date().toLocaleString(),createdBy:"System (TMS API)",language:null,originalDocument:null,reviewedBy:null,reviewedAt:null,approver:null,approverComments:null,estimatedValue:Math.floor(Math.random()*8e4+3e4)});A({count:$,orders:G}),g(!1)},2e3)},E=()=>{B&&B.orders&&d(B.orders)};return t.jsx("div",{className:"fixed inset-0 bg-black/45 flex items-center justify-center z-[2000] overflow-y-auto p-4",onClick:a,children:t.jsxs("div",{className:"bg-white rounded-xl w-full max-w-[500px] max-h-[90vh] overflow-y-auto shadow-[0_20px_60px_rgba(0,0,0,0.2)]",onClick:$=>$.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-start px-6 py-4 border-b border-[#d9d9d9] sticky top-0 bg-white z-10",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-base font-semibold",children:[" ",o("tmsModal.title")]}),t.jsx("p",{className:"text-xs text-[#6a6d70] mt-0.5",children:o("tmsModal.subtitle")})]}),t.jsx("button",{onClick:a,className:"text-xl text-[#89919a] hover:text-[#32363a] p-1",children:""})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"p-3 rounded-md text-sm flex items-center gap-2 mb-4 bg-[#ebf5ff] border-l-[3px] border-[#0854a0] text-[#1a4971]",children:[" ",o("tmsModal.apiInfo")]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("label",{className:"text-[11px] font-medium text-[#6a6d70]",children:o("tmsModal.tmsSystem")}),t.jsxs("select",{className:"fc",value:u,onChange:$=>f($.target.value),children:[t.jsx("option",{children:"TTMS  Thai Transport Management"}),t.jsx("option",{children:"SAP TM  S/4HANA"}),t.jsx("option",{children:"Custom API Endpoint"})]})]}),t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("label",{className:"text-[11px] font-medium text-[#6a6d70]",children:o("tmsModal.dateRange")}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"date",className:"fc flex-1",value:c,onChange:$=>C($.target.value)}),t.jsx("input",{type:"date",className:"fc flex-1",value:y,onChange:$=>k($.target.value)})]})]}),t.jsxs("div",{className:"flex flex-col gap-0.5",children:[t.jsx("label",{className:"text-[11px] font-medium text-[#6a6d70]",children:o("tmsModal.buFilter")}),t.jsxs("select",{className:"fc",value:T,onChange:$=>x($.target.value),children:[t.jsx("option",{value:"",children:o("freightOrders.filters.allBU")}),t.jsx("option",{children:"SCC"}),t.jsx("option",{children:"SCA"}),t.jsx("option",{children:"SPL"}),t.jsx("option",{children:"SCM"})]})]})]}),t.jsx("div",{className:"text-center mt-4",children:t.jsx("button",{onClick:v,disabled:N,className:"px-4 py-2 text-xs rounded bg-[#0854a0] text-white hover:bg-[#0a6ed1] font-medium disabled:opacity-50",children:N?" "+o("tmsModal.fetching"):" "+o("tmsModal.fetchFromTMS")})}),B&&t.jsxs("div",{className:"mt-4 p-3 rounded-md text-sm flex items-center gap-2 bg-[#e8f5e9] border-l-[3px] border-[#107e3e] text-[#1b5e20]",children:[" ",o("tmsModal.foundOrders").replace("{0}",B.count)]})]}),t.jsxs("div",{className:"flex justify-end gap-2 px-6 py-3 border-t border-[#d9d9d9] sticky bottom-0 bg-white",children:[t.jsx("button",{onClick:a,className:"px-3 py-1.5 text-xs rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] hover:bg-[#e8e8e8]",children:o("common.close")}),B&&t.jsxs("button",{onClick:E,className:"px-4 py-1.5 text-xs rounded bg-[#107e3e] text-white hover:bg-[#0d6b34] font-medium",children:[" ",o("tmsModal.importOrders").replace("{0}",B.count)]})]})]})})}function fd(){const{t:a}=De(),{state:d,dispatch:o}=ct(),[u,f]=F.useState("list"),[c,C]=F.useState(null),[y,k]=F.useState(null),[T,x]=F.useState(null),[N,g]=F.useState(""),[B,A]=F.useState(null),[v,E]=F.useState(!1),[$,G]=F.useState(!1),[q,Y]=F.useState(!1),[R,X]=F.useState(!1),[ee,te]=F.useState(!1),[me,w]=F.useState(null),[he,je]=F.useState("excel"),[be,Ce]=F.useState(""),[Te,K]=F.useState(""),M=d.shipments,O=F.useMemo(()=>({total:M.length,open:M.filter(U=>U.status==="OPEN").length,dispatched:M.filter(U=>U.status==="DISPATCHED").length,reportIn:M.filter(U=>U.status==="REPORT_IN").length,completed:M.filter(U=>U.status==="COMPLETED").length}),[M]),W=F.useMemo(()=>{let U=M;if(T&&(U=U.filter(fe=>fe.status===T)),N){const fe=N.toLowerCase();U=U.filter(we=>{var Fe,Re,dt;return we.shipmentNo.toLowerCase().includes(fe)||((Fe=we.customer)==null?void 0:Fe.toLowerCase().includes(fe))||((Re=we.driver)==null?void 0:Re.toLowerCase().includes(fe))||((dt=we.routeName)==null?void 0:dt.toLowerCase().includes(fe))})}return U},[M,T,N]),J=[{key:"shipmentNo",label:a("shipments.table.shipmentNo")},{key:"source",label:a("shipments.table.source"),render:U=>t.jsx(ni,{source:U})},{key:"product",label:a("shipments.table.product"),render:U=>t.jsx(Ql,{product:U})},{key:"bu",label:a("shipments.table.bu")},{key:"routeName",label:a("shipments.table.route")},{key:"customer",label:a("shipments.table.customer"),render:U=>t.jsx("span",{className:"max-w-[150px] truncate block",children:U})},{key:"plate",label:a("shipments.table.truck")},{key:"driver",label:a("shipments.table.driver")},{key:"consolidatedFOs",label:"FOs",render:U=>(U==null?void 0:U.length)||1},{key:"totalQty",label:a("shipments.table.qty"),render:U=>U==null?void 0:U.toLocaleString()},{key:"created",label:a("shipments.table.created"),render:U=>Kl(U)},{key:"status",label:a("shipments.table.status"),render:U=>t.jsx(sn,{status:U})},{key:"actions",label:a("shipments.table.actions"),sortable:!1,render:(U,fe)=>t.jsxs("div",{className:"flex gap-1",children:[fe.status==="OPEN"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:we=>{we.stopPropagation(),_(fe)},className:"text-xs px-2 py-0.5 rounded bg-primary/10 text-primary hover:bg-primary/20",children:a("shipments.actions.edit")}),t.jsx("button",{onClick:we=>{we.stopPropagation(),o({type:"DISPATCH_SHIPMENT",payload:fe.id})},className:"text-xs px-2 py-0.5 rounded bg-success/10 text-success hover:bg-success/20",children:a("shipments.actions.dispatch")})]}),fe.status==="DISPATCHED"&&t.jsx("button",{onClick:we=>{we.stopPropagation(),o({type:"SET_MODULE",payload:"reportin"})},className:"text-xs px-2 py-0.5 rounded bg-warning/10 text-warning hover:bg-warning/20",children:a("shipments.actions.reportIn")}),t.jsx("button",{onClick:we=>{we.stopPropagation(),j(fe)},className:"text-xs px-2 py-0.5 rounded bg-gray-100 text-text-sec hover:bg-gray-200",children:a("shipments.actions.view")})]})}],j=U=>{C(U),f("form")},_=U=>{C(U),f("form")},oe=(U,fe,we)=>{E(!1),Ce(fe),K(we),U==="upload"?(je("excel"),G(!0)):U==="tms"?X(!0):(U==="form"||U==="manual")&&Y(!0)},V=(U,fe)=>{var m,I;const we=tl("SHP"),Fe=((I=(m=U.products)==null?void 0:m[0])==null?void 0:I.quantity)||(typeof U.quantity=="string"?parseInt(U.quantity.replace(/[^0-9]/g,"")):U.quantity)||0,Re={id:we,shipmentNo:we,status:"OPEN",source:fe,bu:U.bu||be,product:U.productType||Te,routeName:U.route||"",customer:U.customerName||U.customer||"",driver:"",plate:"",totalQty:Fe,created:new Date().toISOString().split("T")[0],stages:[],consolidatedFOs:[]};o({type:"ADD_SHIPMENT",payload:Re});const dt={id:U.id||we,product:U.productType||Te,bu:U.bu||be,site:"060C",route:U.route||"",customer:U.customerName||U.customer||"",qty:Fe?Fe.toLocaleString():"0",date:U.requestedDeliveryDate||U.deliveryDate||"",wbs:U.wbs||"",shipTo:U.deliveryAddress||""};k(dt),C(Re),A({bu:U.bu||be,product:U.productType||Te}),f("form")},ye=U=>{if(G(!1),U.length===0)return;const fe=U[0];V(fe,"Excel Upload")},ge=U=>{te(!1),w(null),V(U,"Excel Upload")},Se=U=>{Y(!1),V(U,"Manual Entry")},ve=U=>{X(!1),U.length!==0&&V(U[0],"TMS API")};return u==="detail"&&c?t.jsx(dm,{shipment:c,onBack:()=>{f("list"),C(null)},onEdit:()=>f("form")}):u==="form"?t.jsx(vm,{shipment:c,selectedFO:y,channel:B,isEditMode:!!c&&!y,onBack:()=>{f("list"),C(null),k(null),A(null)}}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-text",children:a("shipments.pageTitle")}),t.jsx("p",{className:"text-table text-text-sec",children:a("shipments.pageSubtitle")})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>{const U=["ShipmentNo,Status,Product,BU,Route,Customer,Truck,Driver,Qty,Created"].concat(W.map(Re=>`${Re.shipmentNo},${Re.status},${Re.product||""},${Re.bu||""},${Re.routeName||""},${Re.customer||""},${Re.plate||""},${Re.driver||""},${Re.totalQty||""},${Re.created||""}`)).join(`
`),fe=new Blob([U],{type:"text/csv"}),we=URL.createObjectURL(fe),Fe=document.createElement("a");Fe.href=we,Fe.download=`shipments_${new Date().toISOString().slice(0,10)}.csv`,Fe.click(),URL.revokeObjectURL(we)},className:"px-3 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg",children:a("shipments.export")}),t.jsx("button",{onClick:()=>E(!0),className:"px-3 py-1.5 rounded bg-primary text-white text-table font-medium hover:bg-primary-hover transition-colors",children:a("shipments.newShipment")})]})]}),t.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-1",children:[t.jsx(Ul,{label:a("shipments.kpi.total"),count:O.total,active:!T,onClick:()=>x(null)}),t.jsx(Ul,{icon:"",label:a("shipments.kpi.open"),count:O.open,color:"text-yellow-600",active:T==="OPEN",onClick:()=>x("OPEN")}),t.jsx(Ul,{icon:"",label:a("shipments.kpi.dispatched"),count:O.dispatched,color:"text-blue-600",active:T==="DISPATCHED",onClick:()=>x("DISPATCHED")}),t.jsx(Ul,{icon:"",label:a("shipments.kpi.reportIn"),count:O.reportIn,color:"text-orange-600",active:T==="REPORT_IN",onClick:()=>x("REPORT_IN")}),t.jsx(Ul,{icon:"",label:a("shipments.kpi.completed"),count:O.completed,color:"text-green-600",active:T==="COMPLETED",onClick:()=>x("COMPLETED")})]}),t.jsx("div",{className:"flex gap-2",children:t.jsx("input",{type:"text",placeholder:`${a("common.search")}...`,value:N,onChange:U=>g(U.target.value),className:"flex-1 max-w-sm border border-border rounded px-3 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary"})}),t.jsx("div",{className:"bg-white rounded-lg border border-border-light shadow-sm",children:t.jsx(Wp,{columns:J,data:W,onRowClick:j,emptyMessage:a("common.noDataFound")})}),v&&t.jsx(Cm,{onClose:()=>E(!1),onSelect:oe}),$&&t.jsx(wm,{type:he,preSelectedBU:be,preSelectedProduct:Te,onClose:()=>G(!1),onEditDraft:U=>{w(U),te(!0)},onConfirmDrafts:ye}),q&&t.jsx(km,{onClose:()=>Y(!1),onCreate:Se}),R&&t.jsx(Dm,{onClose:()=>X(!1),onImport:ve}),ee&&me&&t.jsx(Pm,{draft:me,onClose:()=>{te(!1),w(null)},onSave:U=>{w(U)},onConfirm:ge})]})}function Em(a,d,o,u=Ep){const f=[];if(!d&&a.milesStart!=null&&o!=null){const C=Math.abs(a.milesStart-o);C>u["001"]&&f.push({rule:"001",message:`First stage gap: ${C} km exceeds tolerance of ${u["001"]} km`,value:C,threshold:u["001"]})}if(d&&d.milesEnd!=null&&a.milesStart!=null){const C=Math.abs(a.milesStart-d.milesEnd);C>u["002"]&&f.push({rule:"002",message:`Stage gap: ${C} km exceeds tolerance of ${u["002"]} km`,value:C,threshold:u["002"]})}if(a.stdDistance&&a.stdDistance>0){const C=a.milesEnd!=null&&a.milesStart!=null?a.milesEnd-a.milesStart:null;if(C!=null){const y=Math.abs(C-a.stdDistance)/a.stdDistance;y>u["003"]&&f.push({rule:"003",message:`Distance variance: ${(y*100).toFixed(1)}% exceeds ${u["003"]*100}%`,value:y,threshold:u["003"]})}}if(a.stdDistance===0){const C=a.milesEnd!=null&&a.milesStart!=null?a.milesEnd-a.milesStart:null;C!=null&&C>u["004"]&&f.push({rule:"004",message:`Dummy route distance: ${C} km exceeds tolerance of ${u["004"]} km`,value:C,threshold:u["004"]})}return{passed:f.length===0||u["005"],violations:f,bypassed:u["005"]&&f.length>0}}const Rm=[{value:"first",labelKey:"stage.type.first"},{value:"load",labelKey:"stage.type.load"},{value:"cust",labelKey:"stage.type.cust"},{value:"last",labelKey:"stage.type.last"},{value:"hub",labelKey:"stage.type.hub"}],Lm=[{value:"manual",labelKey:"stage.dataSource.manual"},{value:"mobile",labelKey:"stage.dataSource.mobile"}],gd={LPG:{color:"#dc2626",bg:"#fef2f2",icon:"",descKey:"stage.productDesc.LPG"},CHEM:{color:"#7c3aed",bg:"#f5f3ff",icon:"",descKey:"stage.productDesc.CHEM"},FUEL:{color:"#ea580c",bg:"#fff7ed",icon:"",descKey:"stage.productDesc.FUEL"},NGV:{color:"#16a34a",bg:"#f0fdf4",icon:"",descKey:"stage.productDesc.NGV"},CONTAINER:{color:"#2563eb",bg:"#eff6ff",icon:"",descKey:"stage.productDesc.CONTAINER"},SCA:{color:"#ca8a04",bg:"#fefce8",icon:"",descKey:"stage.productDesc.SCA"}};function Mm({shipment:a}){var me;const{t:d}=De(),{dispatch:o}=ct(),[u,f]=F.useState(0),[c,C]=F.useState("manual"),[y,k]=F.useState(a.stages.map(w=>({stageType:w.type==="delivery"?"cust":w.type==="transfer"?"hub":w.type==="customer"?"cust":w.type||"first",origin:w.from||w.origin||"",destination:w.to||w.dest||"",stdDistance:w.stdDistance||w.stdDist||w.distance||0,departureTime:w.departureTime||"",arrivalTime:w.arrivalTime||"",milesStart:w.milesStart!=null?String(w.milesStart):"",milesEnd:w.milesEnd!=null?String(w.milesEnd):"",gpsDistance:w.gpsDistance!=null?String(w.gpsDistance):"",weightBefore:w.weightBefore!=null?String(w.weightBefore):"",weightAfter:w.weightAfter!=null?String(w.weightAfter):"",ticketNo:w.ticketNo||"",ticketDate:w.ticketDate||"",poNo:w.poNo||"",faceQty:w.faceQty!=null?String(w.faceQty):"",actualQty:w.actualQty!=null?String(w.actualQty):"",weightBeforeUnload:w.weightBeforeUnload!=null?String(w.weightBeforeUnload):"",weightAfterUnload:w.weightAfterUnload!=null?String(w.weightAfterUnload):"",waitDiscount:w.waitDiscount||!1,cannotUnload:w.cannotUnload||!1,planArrival:w.planArrival||"",customerPlanTime:w.customerPlanTime||"",waitStartTime:w.waitStartTime||"",unloadStartTime:w.unloadStartTime||"",remarks:w.remarks||""}))),[T,x]=F.useState(null),N=a.stages[u],g=y[u],B=gd[a.product]||gd.LPG,A=F.useMemo(()=>{const w=Number(g.milesStart),he=Number(g.milesEnd);return w&&he&&he>w?he-w:null},[g.milesStart,g.milesEnd]),v=(w,he)=>{k(je=>{const be=[...je];return be[u]={...be[u],[w]:he},be})},E=()=>{const w=[];if(g.departureTime||w.push(d("stage.form.departure")),g.arrivalTime||w.push(d("stage.form.arrival")),g.milesStart||w.push(d("stage.form.milesStart")),g.milesEnd||w.push(d("stage.form.milesEnd")),ee&&(g.ticketNo||w.push("Ticket No."),g.faceQty||w.push("Face Qty")),w.length>0){const Ce={passed:!1,violations:w.map(Te=>({rule:"REQ",message:`${Te} is required`}))};return x(Ce),Ce}const he=u>0?{...a.stages[u-1],milesEnd:Number(y[u-1].milesEnd)||null}:null,je={...N,milesStart:Number(g.milesStart)||null,milesEnd:Number(g.milesEnd)||null},be=Em(je,he,a.lastTruckMiles);return x(be),be},$=()=>{E()},G=()=>{E().passed&&o({type:"UPDATE_STAGE",payload:{shipmentId:a.id,stageIndex:u,data:{milesStart:Number(g.milesStart)||null,milesEnd:Number(g.milesEnd)||null,status:"completed",departureTime:g.departureTime||null,arrivalTime:g.arrivalTime||null,gpsDistance:Number(g.gpsDistance)||null,weightBefore:Number(g.weightBefore)||null,weightAfter:Number(g.weightAfter)||null,ticketNo:g.ticketNo||null,ticketDate:g.ticketDate||null,poNo:g.poNo||null,faceQty:Number(g.faceQty)||null,actualQty:Number(g.actualQty)||null,weightBeforeUnload:Number(g.weightBeforeUnload)||null,weightAfterUnload:Number(g.weightAfterUnload)||null,waitDiscount:g.waitDiscount,cannotUnload:g.cannotUnload,planArrival:g.planArrival||null,customerPlanTime:g.customerPlanTime||null,waitStartTime:g.waitStartTime||null,unloadStartTime:g.unloadStartTime||null,remarks:g.remarks||null}}})},q=()=>{const w=a.lastTruckMiles+(u>0?(Number(y[u-1].milesEnd)||0)-a.lastTruckMiles:0),he=w+(N.stdDistance||N.distance)+Math.floor(Math.random()*10-5);v("milesStart",String(w||a.lastTruckMiles)),v("milesEnd",String(he)),v("gpsDistance",String((N.stdDistance||N.distance)+Math.floor(Math.random()*6-3))),v("departureTime","2026-02-19T08:00"),v("arrivalTime","2026-02-19T11:30")},Y=()=>{k(w=>{const he=[...w];return he[u]={...he[u],milesStart:"",milesEnd:"",gpsDistance:"",departureTime:"",arrivalTime:"",weightBefore:"",weightAfter:"",ticketNo:"",ticketDate:"",poNo:"",faceQty:"",actualQty:"",weightBeforeUnload:"",weightAfterUnload:"",waitDiscount:!1,cannotUnload:!1,planArrival:"",customerPlanTime:"",waitStartTime:"",unloadStartTime:"",remarks:""},he}),x(null)},R="w-full border border-border rounded px-2.5 py-1.5 text-table text-text focus:outline-none focus:ring-1 focus:ring-primary disabled:bg-bg disabled:text-text-muted",X=g.stageType==="load"||u===0,ee=N.type==="delivery"||g.stageType==="cust",te=N.status==="completed";return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"rounded-lg px-4 py-3 flex items-center gap-3 border",style:{backgroundColor:B.bg,borderColor:B.color+"40",color:B.color},children:[t.jsx("span",{className:"text-2xl",children:B.icon}),t.jsxs("div",{children:[t.jsxs("div",{className:"font-semibold text-sm",children:[((me=jd[a.product])==null?void 0:me.label)||a.product," Transport"]}),t.jsx("div",{className:"text-xs opacity-80",children:d(B.descKey)})]})]}),t.jsx("div",{className:"flex gap-2 flex-wrap",children:a.stages.map((w,he)=>{const je=he===u,be=w.status==="completed";let Ce="px-3 py-1.5 rounded-full text-table font-medium transition-all cursor-pointer border ";return je?Ce+="bg-primary text-white border-primary shadow-sm":be?Ce+="bg-green-50 text-green-700 border-green-300":Ce+="bg-gray-100 text-text-sec border-gray-200",t.jsxs("button",{onClick:()=>{f(he),x(null)},className:Ce,children:[be&&!je&&t.jsx("span",{className:"mr-1",children:""}),d("stage.chip.stage")," ",w.n??w.no,": ",w.from||w.origin," ",""," ",w.to||w.dest]},he)})}),t.jsxs("div",{className:"flex items-center justify-between bg-bg rounded-lg p-3",children:[t.jsxs("button",{onClick:()=>{f(Math.max(0,u-1)),x(null)},disabled:u===0,className:"px-3 py-1.5 rounded text-table text-primary hover:bg-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors font-medium",children:[""," ",d("common.back")]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("span",{className:"text-table font-semibold text-text",children:[d("stage.chip.stage")," ",N.n??N.no,": ",N.from||N.origin," ",""," ",N.to||N.dest]}),t.jsxs("span",{className:"text-label text-text-sec",children:["(",g.stdDistance," km)"]}),t.jsx("select",{value:g.stageType,onChange:w=>v("stageType",w.target.value),className:"border border-border rounded px-2 py-1 text-table text-text focus:outline-none focus:ring-1 focus:ring-primary",children:Rm.map(w=>t.jsx("option",{value:w.value,children:d(w.labelKey)},w.value))})]}),t.jsxs("button",{onClick:()=>{f(Math.min(a.stages.length-1,u+1)),x(null)},disabled:u===a.stages.length-1,className:"px-3 py-1.5 rounded text-table text-primary hover:bg-white disabled:opacity-30 disabled:cursor-not-allowed transition-colors font-medium",children:[d("stage.nav.next")," ",""]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("label",{className:"text-table font-medium text-text-sec",children:[d("stage.form.dataSource"),":"]}),t.jsx("select",{value:c,onChange:w=>C(w.target.value),className:"border border-border rounded px-3 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary",children:Lm.map(w=>t.jsx("option",{value:w.value,children:d(w.labelKey)},w.value))})]}),te&&t.jsxs("div",{className:"rounded-lg px-4 py-3 flex items-center gap-2 border-2 border-green-400 bg-green-50",children:[t.jsx("span",{className:"text-xl",children:""}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold text-green-800",children:d("stage.locked.title")||"Stage Completed & Locked"}),t.jsx("div",{className:"text-xs text-green-600",children:d("stage.locked.desc")||"This stage has been validated and saved. Fields are read-only."})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-text-sec uppercase tracking-wide mb-2",children:d("stage.section.locationDistance")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.form.origin")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{value:g.origin,disabled:!0,className:R})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.form.destination")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{value:g.destination,disabled:!0,className:R})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.form.stdDistance")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:g.stdDistance,disabled:!0,className:R+" pr-10"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-text-sec uppercase tracking-wide mb-2",children:d("stage.section.dateTime")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.form.departure")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{type:"datetime-local",value:g.departureTime,onChange:w=>v("departureTime",w.target.value),disabled:te,className:R})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.form.arrival")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{type:"datetime-local",value:g.arrivalTime,onChange:w=>v("arrivalTime",w.target.value),disabled:te,className:R})]})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-text-sec uppercase tracking-wide mb-2",children:d("stage.section.mileage")}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.form.milesStart")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:g.milesStart,onChange:w=>v("milesStart",w.target.value),disabled:te,className:R+" pr-10",placeholder:"0"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.form.milesEnd")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:g.milesEnd,onChange:w=>v("milesEnd",w.target.value),disabled:te,className:R+" pr-10",placeholder:"0"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.form.gpsDistance")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:g.gpsDistance,onChange:w=>v("gpsDistance",w.target.value),disabled:te,className:R+" pr-10",placeholder:"GPS"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.form.actualDistance")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:A??"",disabled:!0,className:R+" pr-10 font-bold",style:A!=null?{backgroundColor:"#f0fdf4",color:"#16a34a"}:{}}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]})]})]}),T&&t.jsxs(Nt,{variant:T.passed?"success":"error",icon:T.passed?"":"",children:[t.jsx("div",{className:"font-medium",children:T.passed?d("stage.validation.passed"):d("stage.validation.failed")}),T.violations.map((w,he)=>t.jsxs("div",{className:"text-label mt-1",children:[d("stage.validation.rule")," ",w.rule,": ",w.message]},he)),T.bypassed&&t.jsxs("div",{className:"text-label mt-1 font-medium",style:{color:"#d97706"},children:[""," ",d("stage.validation.bypassActive")]})]}),X&&t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4",style:{borderColor:"#f97316"},children:[t.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",style:{color:"#ea580c"},children:[""," ",d("stage.loading.sectionHeader")]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.loading.weightBefore")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{type:"number",value:g.weightBefore,onChange:w=>v("weightBefore",w.target.value),disabled:te,className:R,placeholder:"kg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.loading.weightAfter")}),t.jsx("input",{type:"number",value:g.weightAfter,onChange:w=>v("weightAfter",w.target.value),disabled:te,className:R,placeholder:"kg"})]})]})]}),ee&&t.jsxs("div",{className:"border-2 border-dashed rounded-lg p-4",style:{borderColor:"#22c55e"},children:[t.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",style:{color:"#16a34a"},children:[""," ",d("stage.customer.sectionHeader")]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h5",{className:"text-xs font-semibold text-text-sec uppercase tracking-wide mb-2",children:d("stage.customer.ticketInfo")}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.fields.ticketDocNo")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{value:g.ticketNo,onChange:w=>v("ticketNo",w.target.value),disabled:te,className:R,placeholder:"Ticket No."})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.fields.ticketDocDate")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{type:"date",value:g.ticketDate,onChange:w=>v("ticketDate",w.target.value),disabled:te,className:R})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.customer.poNo")}),t.jsx("input",{value:g.poNo,onChange:w=>v("poNo",w.target.value),disabled:te,className:R,placeholder:d("stage.customer.poPlaceholder")})]})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h5",{className:"text-xs font-semibold text-text-sec uppercase tracking-wide mb-2",children:d("stage.customer.quantity")}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.fields.faceQty")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{type:"number",value:g.faceQty,onChange:w=>v("faceQty",w.target.value),disabled:te,className:R,placeholder:"Face Qty"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-label font-medium text-text-sec mb-1",children:[d("stage.fields.actualQty")," ",t.jsx("span",{className:"text-error",children:"*"})]}),t.jsx("input",{type:"number",value:g.actualQty,onChange:w=>v("actualQty",w.target.value),disabled:te,className:R,placeholder:"Actual Qty"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.fields.weightBeforeUnload")}),t.jsx("input",{type:"number",value:g.weightBeforeUnload,onChange:w=>v("weightBeforeUnload",w.target.value),disabled:te,className:R,placeholder:"kg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.fields.weightAfterUnload")}),t.jsx("input",{type:"number",value:g.weightAfterUnload,onChange:w=>v("weightAfterUnload",w.target.value),disabled:te,className:R,placeholder:"kg"})]})]})]}),t.jsxs("div",{className:"mb-4 flex flex-wrap gap-6",children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:g.waitDiscount,onChange:w=>v("waitDiscount",w.target.checked),disabled:te,className:"w-4 h-4 rounded border-border text-primary focus:ring-primary"}),t.jsx("span",{className:"text-table text-text",children:d("stage.fields.waitDiscount")})]}),t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:g.cannotUnload,onChange:w=>v("cannotUnload",w.target.checked),disabled:te,className:"w-4 h-4 rounded border-border text-primary focus:ring-primary"}),t.jsx("span",{className:"text-table text-text",children:d("stage.fields.cannotUnload")})]})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("h5",{className:"text-xs font-semibold text-text-sec uppercase tracking-wide mb-2",children:d("stage.customer.timing")}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.fields.planArrival")}),t.jsx("input",{type:"datetime-local",value:g.planArrival,onChange:w=>v("planArrival",w.target.value),disabled:te,className:R})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.fields.customerPlanTime")}),t.jsx("input",{type:"datetime-local",value:g.customerPlanTime,onChange:w=>v("customerPlanTime",w.target.value),disabled:te,className:R})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.fields.waitStartTime")}),t.jsx("input",{type:"datetime-local",value:g.waitStartTime,onChange:w=>v("waitStartTime",w.target.value),disabled:te,className:R})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.fields.unloadStartTime")}),t.jsx("input",{type:"datetime-local",value:g.unloadStartTime,onChange:w=>v("unloadStartTime",w.target.value),disabled:te,className:R})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:d("stage.customer.remarks")}),t.jsx("textarea",{value:g.remarks,onChange:w=>v("remarks",w.target.value),disabled:te,rows:3,className:R,placeholder:d("stage.customer.remarksPlaceholder")})]})]}),!te&&t.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[t.jsxs("button",{onClick:q,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg transition-colors",children:[""," ",d("stage.actions.simulateMobile")]}),t.jsxs("button",{onClick:Y,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg transition-colors",children:[""," ",d("stage.actions.clear")]}),t.jsxs("button",{onClick:$,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded border border-blue-300 text-table text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",children:[""," ",d("stage.actions.checkMiles")]}),t.jsxs("button",{onClick:G,className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded bg-primary text-white text-table hover:bg-primary-hover transition-colors",children:[""," ",d("stage.actions.saveStage")]})]})]})}const Am=["Toll","Meal","Overnight","Ferry","Tip","Other"],Im=["Cash","Card"];function Fm({shipment:a,onTotalChange:d,allCosts:o}){const{t:u}=De(),[f,c]=F.useState([{id:1,type:"Toll",description:"Motorway toll Bangkok-Chonburi",payType:"Cash",amount:350,receipt:!0,status:"approved"},{id:2,type:"Meal",description:"Driver lunch",payType:"Cash",amount:150,receipt:!1,status:"pending"},{id:3,type:"Overnight",description:"Rest stop accommodation",payType:"Cash",amount:800,receipt:!0,status:"approved"}]),C=F.useMemo(()=>({tolls:f.filter(E=>E.type==="Toll").reduce((E,$)=>E+$.amount,0),meals:f.filter(E=>E.type==="Meal").reduce((E,$)=>E+$.amount,0),overnight:f.filter(E=>E.type==="Overnight").reduce((E,$)=>E+$.amount,0),other:f.filter(E=>!["Toll","Meal","Overnight"].includes(E.type)).reduce((E,$)=>E+$.amount,0),total:f.reduce((E,$)=>E+$.amount,0)}),[f]),y=f.filter(E=>E.receipt).length,k=f.length;F.useEffect(()=>{d==null||d(C.total,{receiptsWithReceipt:y,receiptsTotal:k})},[C.total,y,k,d]);const T=5e3,x=((o==null?void 0:o.expenses)||C.total)+((o==null?void 0:o.fuel)||0)+((o==null?void 0:o.parking)||0),N=()=>{c(E=>[...E,{id:Date.now(),type:"Other",description:"",payType:"Cash",amount:0,receipt:!1,status:"pending"}])},g=E=>c($=>$.filter(G=>G.id!==E)),B=(E,$,G)=>{c(q=>q.map(Y=>Y.id===E?{...Y,[$]:$==="amount"?Number(G):G}:Y))},A=[{icon:"",label:u("expense.kpi.tolls"),value:C.tolls,bg:"#fef9c3",border:"#fde68a",color:"#a16207"},{icon:"",label:u("expense.kpi.meals"),value:C.meals,bg:"#dcfce7",border:"#86efac",color:"#15803d"},{icon:"",label:u("expense.kpi.overnight"),value:C.overnight,bg:"#dbeafe",border:"#93c5fd",color:"#1d4ed8"},{icon:"",label:u("expense.kpi.other"),value:C.other,bg:"#fce7f3",border:"#f9a8d4",color:"#be185d"},{icon:"",label:u("expense.kpi.total"),value:C.total,bg:"#e0f2fe",border:"#7dd3fc",color:"#0369a1"}],v="w-full border border-border rounded px-2 py-1 text-table text-text focus:outline-none focus:ring-1 focus:ring-primary";return t.jsxs("div",{className:"space-y-5",children:[t.jsxs(Nt,{variant:"info",icon:"",children:[t.jsx("span",{className:"font-medium",children:u("expense.infoStrip.title")})," ",u("expense.infoStrip.body")]}),t.jsx("div",{className:"flex gap-3 overflow-x-auto pb-1",children:A.map(E=>t.jsxs("div",{className:"flex flex-col items-center gap-1 px-5 py-3 rounded-lg border min-w-[120px] flex-shrink-0",style:{backgroundColor:E.bg,borderColor:E.border},children:[t.jsx("span",{className:"text-lg",children:E.icon}),t.jsx("span",{className:"text-xl font-bold",style:{color:E.color},children:at(E.value)}),t.jsx("span",{className:"text-xs font-semibold tracking-wider",style:{color:E.color},children:E.label})]},E.label))}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded-lg",children:t.jsxs("table",{className:"w-full text-table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-bg border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec w-10",children:"#"}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:u("expense.table.type")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:u("expense.table.description")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:u("expense.table.payType")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:u("expense.table.amount")}),t.jsx("th",{className:"text-center px-3 py-2.5 font-medium text-text-sec",children:u("expense.table.receipt")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:u("expense.table.status")}),t.jsx("th",{className:"text-center px-3 py-2.5 font-medium text-text-sec w-16",children:u("common.delete")})]})}),t.jsx("tbody",{children:f.map((E,$)=>t.jsxs("tr",{className:"border-b border-border-light hover:bg-bg/30 transition-colors",children:[t.jsx("td",{className:"px-3 py-2 text-text-sec",children:$+1}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("select",{value:E.type,onChange:G=>B(E.id,"type",G.target.value),className:"border border-border rounded px-2 py-1 text-table",children:Am.map(G=>t.jsx("option",{value:G,children:G},G))})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{value:E.description,onChange:G=>B(E.id,"description",G.target.value),className:v,placeholder:u("expense.table.descriptionPlaceholder")})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("select",{value:E.payType,onChange:G=>B(E.id,"payType",G.target.value),className:"border border-border rounded px-2 py-1 text-table",children:Im.map(G=>t.jsx("option",{value:G,children:G},G))})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:E.amount,onChange:G=>B(E.id,"amount",G.target.value),className:"border border-border rounded px-2 py-1 text-table w-24 text-right"})}),t.jsx("td",{className:"px-3 py-2 text-center",children:E.receipt?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-medium",children:[""," ",u("common.yes")]}):t.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-100 text-gray-500 text-xs font-medium",children:u("common.no")})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${E.status==="approved"?"bg-green-100 text-green-700":E.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:E.status})}),t.jsx("td",{className:"px-3 py-2 text-center",children:t.jsx("button",{onClick:()=>g(E.id),className:"text-error hover:text-red-700 text-sm font-medium transition-colors",children:""})})]},E.id))}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"bg-bg font-semibold",children:[t.jsxs("td",{colSpan:4,className:"px-3 py-2.5 text-right text-text-sec",children:[u("expense.table.totalExpenses"),":"]}),t.jsx("td",{className:"px-3 py-2.5 text-right text-text font-bold",children:at(C.total)}),t.jsx("td",{colSpan:3})]})})]})}),t.jsx("button",{onClick:N,className:"inline-flex items-center gap-1.5 px-4 py-2 rounded border-2 border-dashed border-primary/40 text-table text-primary hover:bg-primary/5 hover:border-primary/60 transition-colors font-medium",children:u("reportIn.form.addExpense")}),t.jsxs("div",{className:"border-t border-border-light pt-4",children:[t.jsx("h4",{className:"text-sm font-semibold mb-3 text-text",children:u("reportIn.form.cashAdvance")}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsxs("div",{className:"rounded-lg p-4 text-center border",style:{backgroundColor:"#eff6ff",borderColor:"#bfdbfe"},children:[t.jsx("div",{className:"text-2xl mb-1",children:""}),t.jsx("div",{className:"text-label text-text-sec font-medium",children:u("expense.cashAdvance.cashAdvance")}),t.jsx("div",{className:"text-lg font-bold",style:{color:"#2563eb"},children:at(T)})]}),t.jsxs("div",{className:"rounded-lg p-4 text-center border",style:{backgroundColor:"#f0fdf4",borderColor:"#bbf7d0"},children:[t.jsx("div",{className:"text-2xl mb-1",children:""}),t.jsx("div",{className:"text-label text-text-sec font-medium",children:u("expense.cashAdvance.totalSpent")}),t.jsx("div",{className:"text-lg font-bold",style:{color:"#16a34a"},children:at(x)})]}),t.jsxs("div",{className:"rounded-lg p-4 text-center border",style:{backgroundColor:"#fffbeb",borderColor:"#fde68a"},children:[t.jsx("div",{className:"text-2xl mb-1",children:""}),t.jsx("div",{className:"text-label text-text-sec font-medium",children:u("expense.cashAdvance.balance")}),t.jsx("div",{className:"text-lg font-bold",style:{color:T-x>=0?"#ca8a04":"#dc2626"},children:at(T-x)})]}),t.jsxs("div",{className:"rounded-lg p-4 text-center border",style:{backgroundColor:"#faf5ff",borderColor:"#d8b4fe"},children:[t.jsx("div",{className:"text-2xl mb-1",children:""}),t.jsx("div",{className:"text-label text-text-sec font-medium",children:u("expense.table.status")}),t.jsxs("div",{className:"text-lg font-bold",style:{color:"#7c3aed"},children:[f.filter(E=>E.receipt).length,"/",f.length," ",u("expense.cashAdvance.receipts")]})]})]})]})]})}const Om=["Diesel B7","NGV","Diesel B20"],_m=["Fleet Card","Cash"],ri=30.94;function Bm({shipment:a,onTotalChange:d}){var N;const{t:o}=De(),[u,f]=F.useState([{id:1,fillType:"Fleet Card",station:"PTT Station Km.45",fuelType:"Diesel B7",liters:120,amount:120*ri,mileageBefore:a.lastTruckMiles,mileageAfter:a.lastTruckMiles+150,fleetCardNo:`FC-${a.vehicleNo}`,receipt:!0}]),c=F.useMemo(()=>({liters:u.reduce((g,B)=>g+(B.liters||0),0),amount:u.reduce((g,B)=>g+(B.amount||0),0)}),[u]);F.useEffect(()=>{d==null||d(c.amount)},[c.amount,d]);const C=()=>{f(g=>[...g,{id:Date.now(),fillType:"Fleet Card",station:"",fuelType:"Diesel B7",liters:0,amount:0,mileageBefore:g.length>0?g[g.length-1].mileageAfter:a.lastTruckMiles,mileageAfter:0,fleetCardNo:`FC-${a.vehicleNo}`,receipt:!1}])},y=g=>f(B=>B.filter(A=>A.id!==g)),k=(g,B,A)=>{f(v=>v.map(E=>{if(E.id!==g)return E;const $={...E,[B]:A};return B==="liters"&&($.amount=Number(A)*ri),$}))},T=g=>{const B=(g.mileageAfter||0)-(g.mileageBefore||0);return B>0&&g.liters>0?(B/g.liters).toFixed(2):""},x="w-full border border-border rounded px-2.5 py-1.5 text-table text-text focus:outline-none focus:ring-1 focus:ring-primary disabled:bg-bg disabled:text-text-muted";return t.jsxs("div",{className:"space-y-5",children:[t.jsxs(Nt,{variant:"info",icon:"",children:[t.jsx("span",{className:"font-medium",children:o("fuel.infoStrip.title")})," ",o("fuel.infoStrip.body")]}),t.jsxs("div",{className:"rounded-lg p-4 flex flex-wrap gap-6",style:{background:"linear-gradient(135deg, #1e3a5f 0%, #2563eb 100%)"},children:[t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-xs text-blue-200 uppercase tracking-wider",children:[""," ",o("fuel.header.vehicle")]}),t.jsx("div",{className:"text-white font-bold text-sm mt-0.5",children:a.plate})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-xs text-blue-200 uppercase tracking-wider",children:[""," ",o("fuel.header.lastMileage")]}),t.jsxs("div",{className:"text-white font-bold text-sm mt-0.5",children:[(N=a.lastTruckMiles)==null?void 0:N.toLocaleString()," km"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-xs text-blue-200 uppercase tracking-wider",children:[""," ",o("fuel.header.fuelPrice")]}),t.jsxs("div",{className:"text-white font-bold text-sm mt-0.5",children:["",ri,"/L"]})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-xs text-blue-200 uppercase tracking-wider",children:[""," ",o("fuel.header.fleetCard")]}),t.jsxs("div",{className:"text-white font-bold text-sm mt-0.5",children:["FC-",a.vehicleNo]})]})]}),t.jsx("div",{className:"space-y-4",children:u.map((g,B)=>{var A;return t.jsxs("div",{className:"border border-border-light rounded-lg p-4 hover:shadow-sm transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"inline-flex items-center justify-center w-7 h-7 rounded-full bg-primary text-white text-xs font-bold",children:B+1}),t.jsxs("span",{className:"text-sm font-semibold text-text",children:[o("fuel.entry.title")," #",B+1]})]}),u.length>1&&t.jsx("button",{onClick:()=>y(g.id),className:"text-error text-xs hover:text-red-700 font-medium transition-colors",children:o("fuel.entry.remove")})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 mb-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.fillType")}),t.jsx("select",{value:g.fillType,onChange:v=>k(g.id,"fillType",v.target.value),className:x,children:_m.map(v=>t.jsx("option",{value:v,children:v},v))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.station")}),t.jsx("input",{value:g.station,onChange:v=>k(g.id,"station",v.target.value),className:x,placeholder:o("fuel.form.stationPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.fuelType")}),t.jsx("select",{value:g.fuelType,onChange:v=>k(g.id,"fuelType",v.target.value),className:x,children:Om.map(v=>t.jsx("option",{value:v,children:v},v))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.liters")}),t.jsx("input",{type:"number",value:g.liters,onChange:v=>k(g.id,"liters",Number(v.target.value)),className:x})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.amount")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:((A=g.amount)==null?void 0:A.toFixed(2))||"0.00",disabled:!0,className:x+" pr-8 font-bold",style:{backgroundColor:"#f0fdf4",color:"#16a34a"}}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:""})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.mileageBefore")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:g.mileageBefore,onChange:v=>k(g.id,"mileageBefore",Number(v.target.value)),className:x+" pr-10"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.mileageAfter")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:g.mileageAfter,onChange:v=>k(g.id,"mileageAfter",Number(v.target.value)),className:x+" pr-10"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.consumption")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{value:T(g),disabled:!0,className:x+" pr-12 font-bold",style:{backgroundColor:"#fefce8",color:"#a16207"}}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km/L"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.fleetCardNo")}),t.jsx("input",{value:g.fleetCardNo,onChange:v=>k(g.id,"fleetCardNo",v.target.value),disabled:g.fillType==="Cash",className:x,placeholder:g.fillType==="Cash"?o("fuel.form.naCash"):"FC-XXXX"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:o("fuel.form.receipt")}),t.jsxs("label",{className:"flex items-center gap-2 mt-1 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:g.receipt,onChange:v=>k(g.id,"receipt",v.target.checked),className:"w-4 h-4 rounded border-border text-primary focus:ring-primary"}),t.jsx("span",{className:"text-table",children:g.receipt?" "+o("fuel.form.receiptAttached"):o("fuel.form.noReceipt")})]})]})]})]},g.id)})}),t.jsxs("div",{className:"rounded-lg p-4 flex items-center justify-between",style:{background:"linear-gradient(135deg, #f0f9ff, #e0f2fe)"},children:[t.jsxs("div",{className:"text-table text-text-sec",children:[o("common.total"),": ",t.jsxs("span",{className:"font-bold text-text",children:[c.liters.toFixed(1)," ",o("fuel.total.liters")]})]}),t.jsxs("div",{className:"text-lg font-bold",style:{color:"#0369a1"},children:[o("common.total"),": ",at(c.amount)]})]}),t.jsx("button",{onClick:C,className:"inline-flex items-center gap-1.5 px-4 py-2 rounded border-2 border-dashed border-primary/40 text-table text-primary hover:bg-primary/5 hover:border-primary/60 transition-colors font-medium",children:o("reportIn.form.addFuel")})]})}const Vm=[{value:"warehouse",labelKey:"parking.placeType.warehouse"},{value:"factory",labelKey:"parking.placeType.factory"},{value:"port",labelKey:"parking.placeType.port"},{value:"depot",labelKey:"parking.placeType.depot"},{value:"other",labelKey:"parking.placeType.other"}];function Um({shipment:a,onTotalChange:d}){const{t:o}=De(),[u,f]=F.useState([{id:1,stage:1,location:"Rest Area Km.120",placeType:"warehouse",start:"2026-02-19T08:00",end:"2026-02-19T10:00",reason:"Mandatory rest / waiting for unload slot",amount:100}]),c=F.useMemo(()=>u.reduce((N,g)=>N+(g.amount||0),0),[u]);F.useEffect(()=>{d==null||d(c)},[c,d]);const C=()=>{f(N=>[...N,{id:Date.now(),stage:1,location:"",placeType:"other",start:"",end:"",reason:"",amount:0}])},y=N=>f(g=>g.filter(B=>B.id!==N)),k=(N,g,B)=>{f(A=>A.map(v=>{if(v.id!==N)return v;const E={...v,[g]:g==="amount"||g==="stage"?Number(B):B};if(g==="stage"){const $=a.stages.find(G=>G.no===Number(B)||G.n===Number(B));$&&(E.location=$.dest||$.to||$.destination||"")}return E}))},T=(N,g)=>{if(!N||!g)return"";const B=new Date(N),v=new Date(g)-B;if(v<=0)return"";const E=Math.floor(v/36e5),$=Math.floor(v%36e5/6e4);return E>0&&$>0?`${E}h ${$}m`:E>0?`${E}h`:`${$}m`},x="w-full border border-border rounded px-2 py-1 text-table text-text focus:outline-none focus:ring-1 focus:ring-primary";return t.jsxs("div",{className:"space-y-5",children:[t.jsxs(Nt,{variant:"info",icon:"",children:[t.jsx("span",{className:"font-medium",children:o("parking.infoStrip.title")})," ",o("parking.infoStrip.body")]}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded-lg",children:t.jsxs("table",{className:"w-full text-table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-bg border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec w-10",children:"#"}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec w-20",children:o("parking.table.stage")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("parking.table.location")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("parking.table.type")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("parking.table.start")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("parking.table.end")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec w-24",children:o("parking.table.duration")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("parking.table.reason")}),t.jsx("th",{className:"text-right px-3 py-2.5 font-medium text-text-sec w-24",children:o("parking.table.amount")}),t.jsx("th",{className:"text-center px-3 py-2.5 font-medium text-text-sec w-16",children:o("common.delete")})]})}),t.jsx("tbody",{children:u.map((N,g)=>t.jsxs("tr",{className:"border-b border-border-light hover:bg-bg/30 transition-colors",children:[t.jsx("td",{className:"px-3 py-2 text-text-sec",children:g+1}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("select",{value:N.stage,onChange:B=>k(N.id,"stage",B.target.value),className:"border border-border rounded px-1.5 py-1 text-table w-full",children:(a.stages||[]).map(B=>t.jsxs("option",{value:B.no,children:[o("parking.table.stagePrefix")," ",B.no]},B.no))})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{value:N.location,onChange:B=>k(N.id,"location",B.target.value),className:x,placeholder:o("parking.table.locationPlaceholder")})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("select",{value:N.placeType,onChange:B=>k(N.id,"placeType",B.target.value),className:"border border-border rounded px-1.5 py-1 text-table",children:Vm.map(B=>t.jsx("option",{value:B.value,children:o(B.labelKey)},B.value))})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"datetime-local",value:N.start,onChange:B=>k(N.id,"start",B.target.value),className:"border border-border rounded px-1.5 py-1 text-table"})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"datetime-local",value:N.end,onChange:B=>k(N.id,"end",B.target.value),className:"border border-border rounded px-1.5 py-1 text-table"})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{backgroundColor:"#f3e8ff",color:"#7c3aed"},children:T(N.start,N.end)})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{value:N.reason,onChange:B=>k(N.id,"reason",B.target.value),className:x,placeholder:o("parking.table.reasonPlaceholder")})}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"number",value:N.amount,onChange:B=>k(N.id,"amount",B.target.value),className:"border border-border rounded px-2 py-1 text-table w-full text-right"})}),t.jsx("td",{className:"px-3 py-2 text-center",children:t.jsx("button",{onClick:()=>y(N.id),className:"text-error hover:text-red-700 text-sm font-medium transition-colors",children:""})})]},N.id))})]})}),t.jsxs("div",{className:"rounded-lg p-4 flex items-center justify-between",style:{background:"linear-gradient(135deg, #faf5ff, #f3e8ff)"},children:[t.jsxs("div",{className:"text-table text-text-sec",children:[""," ",u.length," ",u.length===1?o("parking.summary.entry"):o("parking.summary.entries")]}),t.jsxs("div",{className:"text-lg font-bold",style:{color:"#7c3aed"},children:[o("parking.summary.totalParking"),": ",at(c)]})]}),t.jsx("button",{onClick:C,className:"inline-flex items-center gap-1.5 px-4 py-2 rounded border-2 border-dashed text-table font-medium transition-colors hover:bg-purple-50",style:{borderColor:"#c084fc",color:"#7c3aed"},children:o("reportIn.form.addParking")})]})}function Gm({shipment:a,costs:d}){const{t:o}=De(),u=a.stages.filter(N=>N.status==="completed"),f=a.stages.length,c=F.useMemo(()=>a.stages.reduce((N,g)=>N+(g.stdDistance||g.stdDist||g.distance||0),0),[a.stages]),C=F.useMemo(()=>u.reduce((N,g)=>N+(g.milesEnd&&g.milesStart?g.milesEnd-g.milesStart:0),0),[u]),y={expenses:(d==null?void 0:d.expenses)||1300,fuel:(d==null?void 0:d.fuel)||3714,parking:(d==null?void 0:d.parking)||100},k=y.expenses+y.fuel+y.parking,T=(d==null?void 0:d.receiptsWithReceipt)||0,x=(d==null?void 0:d.receiptsTotal)||0;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[t.jsxs("h3",{className:"text-sm font-semibold text-text flex items-center gap-2",children:[""," ",o("reportIn.form.reviewClose")]}),t.jsxs("div",{className:"flex gap-4 text-table",children:[t.jsxs("div",{className:"px-3 py-1.5 rounded",style:{backgroundColor:"#eff6ff"},children:[t.jsxs("span",{className:"text-text-sec",children:[o("reportIn.form.stages"),":"]})," ",t.jsxs("span",{className:"font-bold",style:{color:"#2563eb"},children:[u.length,"/",f]})]}),t.jsxs("div",{className:"px-3 py-1.5 rounded",style:{backgroundColor:"#f0fdf4"},children:[t.jsxs("span",{className:"text-text-sec",children:[o("review.summary.totalStdDist"),":"]})," ",t.jsxs("span",{className:"font-bold",style:{color:"#16a34a"},children:[c," km"]})]}),t.jsxs("div",{className:"px-3 py-1.5 rounded",style:{backgroundColor:"#fff7ed"},children:[t.jsxs("span",{className:"text-text-sec",children:[o("review.summary.totalActual"),":"]})," ",t.jsxs("span",{className:"font-bold",style:{color:"#ea580c"},children:[C," km"]})]})]})]}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded-lg",children:t.jsxs("table",{className:"w-full text-table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-bg border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec w-16",children:o("review.table.stage")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("review.table.from")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("review.table.to")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("review.table.type")}),t.jsx("th",{className:"text-right px-3 py-2.5 font-medium text-text-sec",children:o("review.table.stdDist")}),t.jsx("th",{className:"text-right px-3 py-2.5 font-medium text-text-sec",children:o("review.table.milesStart")}),t.jsx("th",{className:"text-right px-3 py-2.5 font-medium text-text-sec",children:o("review.table.milesEnd")}),t.jsx("th",{className:"text-right px-3 py-2.5 font-medium text-text-sec",children:o("review.table.actualDist")}),t.jsx("th",{className:"text-right px-3 py-2.5 font-medium text-text-sec",children:o("review.table.variance")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:o("review.table.status")})]})}),t.jsx("tbody",{children:a.stages.map((N,g)=>{const B=N.milesEnd&&N.milesStart?N.milesEnd-N.milesStart:null,A=N.stdDistance||N.stdDist||N.distance||0,v=B!=null&&A>0?((B-A)/A*100).toFixed(1):null,E=v!=null&&Math.abs(parseFloat(v))<=15;return t.jsxs("tr",{className:"border-b border-border-light hover:bg-bg/30 transition-colors",children:[t.jsx("td",{className:"px-3 py-2.5 font-medium",children:N.n??N.no}),t.jsx("td",{className:"px-3 py-2.5",children:N.from||N.origin}),t.jsx("td",{className:"px-3 py-2.5",children:N.to||N.dest}),t.jsx("td",{className:"px-3 py-2.5",children:t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-text-sec",children:N.type})}),t.jsxs("td",{className:"px-3 py-2.5 text-right",children:[A," km"]}),t.jsx("td",{className:"px-3 py-2.5 text-right font-mono text-sm",children:N.milesStart!=null?N.milesStart.toLocaleString():""}),t.jsx("td",{className:"px-3 py-2.5 text-right font-mono text-sm",children:N.milesEnd!=null?N.milesEnd.toLocaleString():""}),t.jsx("td",{className:"px-3 py-2.5 text-right font-bold",children:B!=null?`${B} km`:""}),t.jsx("td",{className:"px-3 py-2.5 text-right",children:v!=null?t.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-bold",style:{backgroundColor:E?"#dcfce7":"#fee2e2",color:E?"#16a34a":"#dc2626"},children:[parseFloat(v)>0?"+":"",v,"%"]}):""}),t.jsx("td",{className:"px-3 py-2.5",children:t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${N.status==="completed"?"bg-green-100 text-green-700":"bg-gray-100 text-text-sec"}`,children:[N.status==="completed"&&""," ",N.status]})})]},g)})}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"bg-bg font-semibold border-t-2 border-border",children:[t.jsx("td",{colSpan:4,className:"px-3 py-2.5 text-right text-text-sec",children:o("review.table.totals")}),t.jsxs("td",{className:"px-3 py-2.5 text-right font-bold",children:[c," km"]}),t.jsx("td",{colSpan:2}),t.jsxs("td",{className:"px-3 py-2.5 text-right font-bold",children:[C," km"]}),t.jsx("td",{}),t.jsx("td",{className:"px-3 py-2.5",children:t.jsxs("span",{className:"font-bold",style:{color:"#2563eb"},children:[u.length,"/",f]})})]})})]})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-semibold mb-3 text-text",children:o("reportIn.form.costSummary")}),t.jsxs("div",{className:"rounded-lg border border-border-light overflow-hidden",children:[t.jsx("div",{className:"bg-bg px-4 py-2 border-b border-border",children:t.jsxs("div",{className:"flex justify-between text-table font-medium text-text-sec",children:[t.jsx("span",{children:o("review.costs.category")}),t.jsx("span",{children:o("review.costs.amount")})]})}),t.jsxs("div",{className:"divide-y divide-border-light",children:[t.jsx(li,{icon:"",label:o("review.costs.expenses"),value:at(y.expenses),color:"#dc2626"}),t.jsx(li,{icon:"",label:o("review.costs.fuel"),value:at(y.fuel),color:"#d97706"}),t.jsx(li,{icon:"",label:o("review.costs.parking"),value:at(y.parking),color:"#7c3aed"})]}),t.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",style:{background:"linear-gradient(135deg, #fef2f2, #fff1f2)"},children:[t.jsxs("span",{className:"text-table font-bold text-text flex items-center gap-2",children:[""," ",o("reportIn.form.grandTotal")]}),t.jsx("span",{className:"text-xl font-bold",style:{color:"#dc2626"},children:at(k)})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[t.jsx(ln,{label:o("review.stats.completion"),value:f>0?`${Math.round(u.length/f*100)}%`:"0%",color:"#2563eb",bg:"#eff6ff"}),t.jsx(ln,{label:o("review.stats.distanceVariance"),value:c>0?`${((C-c)/c*100).toFixed(1)}%`:"0%",color:Math.abs(C-c)/(c||1)<=.15?"#16a34a":"#dc2626",bg:Math.abs(C-c)/(c||1)<=.15?"#f0fdf4":"#fef2f2"}),t.jsx(ln,{label:o("review.stats.costPerKm"),value:C>0?at(k/C):"",color:"#ca8a04",bg:"#fffbeb"}),t.jsx(ln,{label:o("review.stats.receiptsRatio"),value:`${T}/${x}`,color:"#7c3aed",bg:"#faf5ff"})]})]})}function li({icon:a,label:d,value:o,color:u}){return t.jsxs("div",{className:"px-4 py-2.5 flex justify-between items-center hover:bg-bg/30 transition-colors",children:[t.jsxs("span",{className:"text-table text-text flex items-center gap-2",children:[t.jsx("span",{children:a})," ",d]}),t.jsx("span",{className:"text-table font-bold",style:{color:u},children:o})]})}function ln({label:a,value:d,color:o,bg:u}){return t.jsxs("div",{className:"rounded-lg p-4 text-center border",style:{backgroundColor:u,borderColor:o+"30"},children:[t.jsx("div",{className:"text-label text-text-sec font-medium mb-1",children:a}),t.jsx("div",{className:"text-lg font-bold",style:{color:o},children:d})]})}const Hm=()=>{const[a,d]=F.useState({expenses:0,fuel:0,parking:0,receiptsWithReceipt:0,receiptsTotal:0});return{costs:a,setCosts:d}},zm=[{key:"vehicleInfo",icon:"",labelKey:"reportIn.form.vehicleInfo"},{key:"stages",icon:"",labelKey:"reportIn.form.stages"},{key:"expenses",icon:"",labelKey:"reportIn.form.expenses"},{key:"fuel",icon:"",labelKey:"reportIn.form.fuel"},{key:"parking",icon:"",labelKey:"reportIn.form.parking"},{key:"reviewClose",icon:"",labelKey:"reportIn.form.reviewClose"}];function Km({shipment:a,onBack:d}){var E,$,G;const{t:o}=De(),{dispatch:u}=ct(),[f,c]=F.useState("vehicleInfo"),{costs:C,setCosts:y}=Hm(),[k,T]=F.useState({driver:a.driver||"",driverId:a.driverId||"",vehiclePlate:a.plate||"",trailer:a.trailer||"",vehicleType:a.vehicleType||"",vehicleAge:a.vehicleAge<=8?"lte8":"gt8",odometerStart:a.lastTruckMiles||0,odometerEnd:"",lastTruckMiles:a.lastTruckMiles||0,milesSource:"SAP"}),x=()=>{u({type:"SUBMIT_FOR_REVIEW",payload:a.id}),window.alert(o("reportIn.submitSuccess")||"Report-In submitted for review."),d()},N=()=>{u({type:"SAVE_REPORT_IN_DRAFT",payload:a.id}),window.alert(o("reportIn.draftSaved")||"Draft saved.")},g=()=>{var Y;u({type:"COMPLETE_REPORT_IN",payload:a.id});const q=((Y=a.stages)==null?void 0:Y.filter(R=>R.type==="customer"||R.type==="delivery"||R.type==="cust"))||[];if(q.length>0){const R=q.map((X,ee)=>({id:`AW-${a.id}-${ee}`,shipmentNo:a.shipmentNo||a.id,stage:`S${X.n??X.no??ee+1}`,product:a.product,soldTo:X.soldTo||"",soldToName:X.shipToName||X.to||X.dest||"",shipTo:X.shipToCode||"",shipToName:X.shipToName||X.to||X.dest||"",ticketQty:X.faceQty||0,actualQty:X.actualQty||0,billingQty:X.actualQty||0,billingDist:X.stdDistance||X.stdDist||X.distance||0,actualDist:X.milesEnd&&X.milesStart?X.milesEnd-X.milesStart:0,cannotUnload:X.cannotUnload||!1,plate:a.plate||"",driver:a.driver||"",status:"awaiting"}));u({type:"ADD_AWAITING_ROWS",payload:R})}window.alert(o("reportIn.approveSuccess")||"Report-In approved and closed."),d()},B=()=>{u({type:"REJECT_REPORT_IN",payload:a.id}),window.alert(o("reportIn.rejectSuccess")||"Report-In rejected. Driver must correct and resubmit."),d()},A=((E=a.stages)==null?void 0:E.filter(q=>q.status==="completed").length)||0,v=(($=a.stages)==null?void 0:$.length)||0;return t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"flex items-center justify-between flex-wrap gap-2",children:t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[t.jsx("button",{onClick:d,className:"text-primary hover:text-primary-hover text-sm font-medium",children:` ${o("common.backToList")}`}),t.jsx("span",{className:"text-text-sec",children:"/"}),t.jsxs("h1",{className:"text-lg font-bold text-text",children:[o("reportIn.formTitle"),": ",a.shipmentNo]}),t.jsx(Ql,{product:a.product}),t.jsx(sn,{status:a.status})]})}),t.jsxs("div",{className:"rounded-lg p-4 flex flex-wrap gap-6 text-table",style:{background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #f0fdf4 100%)"},children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec text-xs uppercase tracking-wide",children:o("reportIn.form.summaryStrip.route")}),t.jsx("div",{className:"font-semibold text-text",children:a.routeName})]}),t.jsxs("div",{children:[t.jsxs("span",{className:"text-text-sec text-xs uppercase tracking-wide",children:[o("reportIn.form.summaryStrip.driver")," (",o("shipments.table.truck"),")"]}),t.jsxs("div",{className:"font-semibold text-text",children:[a.driver," ",t.jsxs("span",{className:"text-text-sec",children:["(",a.plate,")"]})]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec text-xs uppercase tracking-wide",children:o("reportIn.form.summaryStrip.vehicle")}),t.jsx("div",{className:"font-semibold text-text",children:a.vehicleType})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec text-xs uppercase tracking-wide",children:o("reportIn.form.summaryStrip.customer")}),t.jsx("div",{className:"font-semibold text-text",children:a.customer})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec text-xs uppercase tracking-wide",children:o("reportIn.form.summaryStrip.lastTruckMiles")}),t.jsxs("div",{className:"font-bold text-amber-700 bg-amber-100 px-2 py-0.5 rounded inline-block",children:[""," ",(G=a.lastTruckMiles)==null?void 0:G.toLocaleString()," km"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec text-xs uppercase tracking-wide",children:o("reportIn.form.stages")}),t.jsxs("div",{className:"font-semibold text-text",children:[A," / ",v]})]})]}),t.jsx("div",{className:"flex border-b border-border overflow-x-auto",children:zm.map(q=>t.jsxs("button",{onClick:()=>c(q.key),className:`flex items-center gap-1.5 px-4 py-2.5 text-table border-b-2 transition-colors whitespace-nowrap
              ${f===q.key?"border-primary text-primary font-medium":"border-transparent text-text-sec hover:text-text"}`,children:[t.jsx("span",{children:q.icon})," ",o(q.labelKey)]},q.key))}),t.jsxs("div",{className:"bg-white rounded-lg border border-border-light shadow-sm p-4",children:[f==="vehicleInfo"&&t.jsx(Qm,{shipment:a,vehicleData:k,setVehicleData:T}),f==="stages"&&t.jsx(Mm,{shipment:a}),f==="expenses"&&t.jsx(Fm,{shipment:a,onTotalChange:(q,Y)=>y(R=>({...R,expenses:q,...Y||{}})),allCosts:C}),f==="fuel"&&t.jsx(Bm,{shipment:a,onTotalChange:q=>y(Y=>({...Y,fuel:q}))}),f==="parking"&&t.jsx(Um,{shipment:a,onTotalChange:q=>y(Y=>({...Y,parking:q}))}),f==="reviewClose"&&t.jsx(Gm,{shipment:a,costs:C})]}),t.jsxs("div",{className:"sticky bottom-4 bg-white border border-border rounded-lg py-3 px-4 flex items-center justify-between shadow-lg z-10",children:[t.jsxs("div",{className:"text-table text-text-sec",children:[o("common.status.label"),": ",t.jsx("span",{className:"font-medium text-text",children:a.riStatus==="in_progress"?o("reportIn.status.draftInProgress"):a.riStatus==="awaiting"?o("reportIn.status.awaitingEntry"):a.riStatus}),t.jsx("span",{className:"mx-2",children:"|"}),o("reportIn.form.stages"),": ",A,"/",v]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:N,className:"inline-flex items-center gap-1 px-4 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg transition-colors",children:o("common.saveDraft")}),t.jsx("button",{onClick:x,className:"inline-flex items-center gap-1 px-4 py-1.5 rounded bg-primary text-white text-table hover:bg-primary-hover transition-colors",children:o("common.submitForReview")}),a.riStatus==="pending_review"&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:B,className:"px-4 py-1.5 rounded bg-red-500 text-white text-table hover:bg-red-600 transition-colors",children:o("common.reject")}),t.jsx("button",{onClick:g,className:"px-4 py-1.5 rounded bg-success text-white text-table hover:bg-green-700 transition-colors",children:o("common.approveClose")})]})]})]})]})}function Qm({shipment:a,vehicleData:d,setVehicleData:o}){var C;const{t:u}=De(),f=(y,k)=>{o(T=>({...T,[y]:k}))},c="w-full border border-border rounded px-2.5 py-1.5 text-table text-text focus:outline-none focus:ring-1 focus:ring-primary disabled:bg-bg disabled:text-text-muted";return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-semibold text-text mb-3 flex items-center gap-1.5",children:[""," ",u("reportIn.vehicleInfo.sectionHeader")]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.driver")}),t.jsx("input",{value:d.driver,onChange:y=>f("driver",y.target.value),className:c})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.driverId")}),t.jsx("input",{value:d.driverId,onChange:y=>f("driverId",y.target.value),className:c})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.vehiclePlate")}),t.jsx("input",{value:d.vehiclePlate,onChange:y=>f("vehiclePlate",y.target.value),className:c})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.trailer")}),t.jsx("input",{value:d.trailer,onChange:y=>f("trailer",y.target.value),className:c,placeholder:u("reportIn.vehicleInfo.trailerPlaceholder")})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.vehicleType")}),t.jsx("input",{value:d.vehicleType,disabled:!0,className:c})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.vehicleAge")}),t.jsxs("select",{value:d.vehicleAge,onChange:y=>f("vehicleAge",y.target.value),className:c,children:[t.jsxs("option",{value:"lte8",children:[""," 8 ",""]}),t.jsxs("option",{value:"gt8",children:["> 8 ",""]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.odometerStart")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:d.odometerStart,onChange:y=>f("odometerStart",y.target.value),className:c+" pr-10"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.odometerEnd")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"number",value:d.odometerEnd,onChange:y=>f("odometerEnd",y.target.value),className:c+" pr-10"}),t.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-label text-text-sec",children:"km"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.lastTruckMiles")}),t.jsxs("div",{className:"rounded px-2.5 py-1.5 text-table font-bold border-2",style:{backgroundColor:"#fef3c7",borderColor:"#f59e0b",color:"#92400e"},children:[""," ",(C=d.lastTruckMiles)==null?void 0:C.toLocaleString()," km"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-label font-medium text-text-sec mb-1",children:u("reportIn.vehicleInfo.milesSource")}),t.jsxs("select",{value:d.milesSource,onChange:y=>f("milesSource",y.target.value),className:c,children:[t.jsx("option",{value:"SAP",children:"SAP"}),t.jsx("option",{value:"GPS",children:"GPS"}),t.jsx("option",{value:"Manual",children:u("reportIn.vehicleInfo.manual")})]})]})]}),t.jsxs("div",{className:"border-2 rounded-lg p-4",style:{borderColor:"#ef4444"},children:[t.jsxs("h4",{className:"text-sm font-semibold mb-3 flex items-center gap-2",style:{color:"#ef4444"},children:[""," ",u("reportIn.form.milesConfig")]}),t.jsxs("div",{className:"space-y-0",children:[t.jsx(zl,{rule:"001",desc:"First stage start miles vs Last Truck Miles tolerance",value:"50 km",detail:"| milesStart - lastTruckMiles | must be <= 50 km"}),t.jsx(zl,{rule:"002",desc:"Stage-to-stage gap tolerance (previous end vs current start)",value:"10 km",detail:"| prevStage.milesEnd - currStage.milesStart | must be <= 10 km"}),t.jsx(zl,{rule:"003",desc:"Distance variance % (actual vs standard distance)",value:"15%",detail:"| actualDist - stdDist | / stdDist must be <= 15%"}),t.jsx(zl,{rule:"004",desc:"Dummy route distance tolerance (stdDistance = 0)",value:"100 km",detail:"Actual distance on zero-std routes must be <= 100 km"}),t.jsx(zl,{rule:"005",desc:"Broken miles bypass mode",value:"Enabled",detail:"When enabled, violations produce warnings instead of hard blocks"})]})]})]})}function zl({rule:a,desc:d,value:o,detail:u}){return t.jsxs("div",{className:"flex items-center justify-between py-2.5 px-2 border-b border-border-light last:border-0 hover:bg-red-50/30 transition-colors rounded",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"inline-flex items-center justify-center px-2 py-0.5 rounded text-xs font-mono font-bold",style:{backgroundColor:"#fee2e2",color:"#ef4444"},children:a}),t.jsxs("div",{children:[t.jsx("div",{className:"text-table font-medium text-text",children:d}),u&&t.jsx("div",{className:"text-label text-text-sec mt-0.5",children:u})]})]}),t.jsx("span",{className:"font-bold text-table text-text ml-4 whitespace-nowrap",children:o})]})}const $m=[{key:"awaiting",icon:"",labelKey:"reportIn.tabs.awaiting"},{key:"draft",icon:"",labelKey:"reportIn.tabs.draft"},{key:"pendingReview",icon:"",labelKey:"reportIn.tabs.pendingReview"},{key:"rejected",icon:"",labelKey:"reportIn.tabs.rejected"},{key:"completed",icon:"",labelKey:"reportIn.tabs.completed"}],Wm=[{value:"",labelKey:"reportIn.filters.allTypes"},{value:"LPG",labelKey:"common.products.LPG"},{value:"CHEM",labelKey:"common.products.CHEM"},{value:"NGV",labelKey:"common.products.NGV"},{value:"FUEL",labelKey:"common.products.FUEL"},{value:"SCA",labelKey:"common.products.SCA"},{value:"CONTAINER",labelKey:"common.products.CONTAINER"}],qm=[{value:"",labelKey:"reportIn.filters.allBU"},{value:"0609-BRP",labelKey:""},{value:"060A-SRT",labelKey:""},{value:"060C-BPK",labelKey:""},{value:"060E-NKC",labelKey:""}],Ym={awaiting:"awaiting",draft:"in_progress",pendingReview:"pending_review",rejected:"rejected",completed:"completed"};function Xm(){const{t:a}=De(),{state:d}=ct(),[o,u]=F.useState("list"),[f,c]=F.useState(null),[C,y]=F.useState("awaiting"),[k,T]=F.useState(""),[x,N]=F.useState(""),[g,B]=F.useState(""),[A,v]=F.useState(0),E=F.useMemo(()=>d.shipments.filter(R=>["DISPATCHED","REPORT_IN","COMPLETED"].includes(R.status)),[d.shipments]),$=F.useMemo(()=>({awaiting:E.filter(R=>R.riStatus==="awaiting").length,inProgress:E.filter(R=>R.riStatus==="in_progress").length,pendingReview:E.filter(R=>R.riStatus==="pending_review").length,completed:E.filter(R=>R.riStatus==="completed").length,rejected:E.filter(R=>R.riStatus==="rejected").length}),[E]),G=[{key:"awaiting",labelKey:"reportIn.kpi.awaiting",count:$.awaiting,bg:"#fff8f0",border:"#fed7aa",color:"#ea580c",icon:""},{key:"draft",labelKey:"reportIn.kpi.inProgress",count:$.inProgress,bg:"#e8f4fd",border:"#93c5fd",color:"#2563eb",icon:""},{key:"pendingReview",labelKey:"reportIn.kpi.pendingReview",count:$.pendingReview,bg:"#fff8e1",border:"#fde68a",color:"#ca8a04",icon:""},{key:"completed",labelKey:"reportIn.kpi.completed",count:$.completed,bg:"#f1fdf6",border:"#86efac",color:"#16a34a",icon:""},{key:"rejected",labelKey:"reportIn.kpi.rejected",count:$.rejected,bg:"#fff0f0",border:"#fca5a5",color:"#dc2626",icon:""}],q=F.useMemo(()=>{let R=E.filter(X=>X.riStatus===Ym[C]);if(k){const X=k.toLowerCase();R=R.filter(ee=>{var te,me,w;return ee.shipmentNo.toLowerCase().includes(X)||((te=ee.customer)==null?void 0:te.toLowerCase().includes(X))||((me=ee.driver)==null?void 0:me.toLowerCase().includes(X))||((w=ee.routeName)==null?void 0:w.toLowerCase().includes(X))})}return x&&(R=R.filter(X=>X.product===x)),g&&(R=R.filter(X=>X.bu===g)),R},[E,C,k,x,g]),Y=R=>{c(R),u("form")};return o==="form"&&f?t.jsx(Km,{shipment:f,onBack:()=>{u("list"),c(null)}}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-lg font-bold text-text flex items-center gap-2",children:[t.jsx("span",{children:""})," ",a("reportIn.pageTitle")]}),t.jsxs("span",{className:"inline-flex items-center gap-1.5 mt-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[t.jsx("span",{children:""})," ",a("reportIn.autoReady")]})]}),t.jsxs("button",{onClick:()=>v(R=>R+1),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg transition-colors",children:[t.jsx("span",{children:""})," ",a("reportIn.refresh")]})]}),t.jsx("div",{className:"flex gap-3 overflow-x-auto pb-1",children:G.map(R=>t.jsxs("button",{onClick:()=>y(R.key),className:"flex flex-col items-center gap-1 px-5 py-3 rounded-lg border-2 transition-all min-w-[140px] flex-shrink-0",style:{backgroundColor:R.bg,borderColor:C===R.key?R.color:R.border,boxShadow:C===R.key?`0 0 0 1px ${R.color}`:"none"},children:[t.jsx("span",{className:"text-lg",children:R.icon}),t.jsx("span",{className:"text-2xl font-bold",style:{color:R.color},children:R.count}),t.jsx("span",{className:"text-xs text-text-sec whitespace-nowrap",children:a(R.labelKey)})]},R.key))}),t.jsx("div",{className:"flex border-b border-border overflow-x-auto",children:$m.map(R=>t.jsxs("button",{onClick:()=>y(R.key),className:`flex items-center gap-1.5 px-4 py-2.5 text-table border-b-2 transition-colors whitespace-nowrap
              ${C===R.key?"border-primary text-primary font-medium":"border-transparent text-text-sec hover:text-text"}`,children:[t.jsx("span",{children:R.icon})," ",a(R.labelKey),t.jsx("span",{className:"ml-1 px-1.5 py-0.5 rounded-full text-[10px] font-bold bg-gray-200 text-gray-600",children:R.key==="awaiting"?$.awaiting:R.key==="draft"?$.inProgress:R.key==="pendingReview"?$.pendingReview:R.key==="rejected"?$.rejected:$.completed})]},R.key))}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[t.jsx("input",{type:"text",placeholder:a("common.search")+"...",value:k,onChange:R=>T(R.target.value),className:"flex-1 min-w-[280px] max-w-md border border-border rounded px-3 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary"}),t.jsx("select",{value:x,onChange:R=>N(R.target.value),className:"border border-border rounded px-3 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary",children:Wm.map(R=>t.jsx("option",{value:R.value,children:a(R.labelKey)},R.value))}),t.jsx("select",{value:g,onChange:R=>B(R.target.value),className:"border border-border rounded px-3 py-1.5 text-table focus:outline-none focus:ring-1 focus:ring-primary",children:qm.map(R=>t.jsx("option",{value:R.value,children:R.labelKey?a(R.labelKey):R.value||a("reportIn.filters.allBU")},R.value))})]}),t.jsx("div",{className:"bg-white rounded-lg border border-border-light shadow-sm overflow-x-auto",children:t.jsxs("table",{className:"w-full text-table",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-bg border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec w-10",children:"#"}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.shipmentNo")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.type")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.route")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.driverPlate")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.customer")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.dispatchDate")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.stageProgress")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.status")}),t.jsx("th",{className:"text-left px-3 py-2.5 font-medium text-text-sec",children:a("reportIn.table.actions")})]})}),t.jsx("tbody",{children:q.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"px-3 py-8 text-center text-text-sec",children:a("common.noDataFound")})}):q.map((R,X)=>{var me,w,he;const ee=((me=R.stages)==null?void 0:me.filter(je=>je.status==="completed").length)||0,te=((w=R.stages)==null?void 0:w.length)||0;return t.jsxs("tr",{onClick:()=>Y(R),className:"border-b border-border-light hover:bg-bg/50 cursor-pointer transition-colors",children:[t.jsx("td",{className:"px-3 py-2.5 text-text-sec",children:X+1}),t.jsx("td",{className:"px-3 py-2.5 font-medium text-primary",children:R.shipmentNo}),t.jsx("td",{className:"px-3 py-2.5",children:t.jsx(Ql,{product:R.product})}),t.jsx("td",{className:"px-3 py-2.5",children:R.routeName}),t.jsxs("td",{className:"px-3 py-2.5",children:[t.jsx("div",{children:R.driver}),t.jsx("div",{className:"text-label text-text-sec",children:R.plate})]}),t.jsx("td",{className:"px-3 py-2.5",children:R.customer}),t.jsx("td",{className:"px-3 py-2.5",children:Kl(R.created)}),t.jsx("td",{className:"px-3 py-2.5",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx("div",{className:"flex gap-0.5",children:(he=R.stages)==null?void 0:he.map((je,be)=>t.jsx("div",{className:"h-2 rounded-full",style:{width:`${Math.max(16,48/te)}px`,backgroundColor:je.status==="completed"?"#16a34a":"#e5e7eb"}},be))}),t.jsxs("span",{className:"text-label text-text-sec ml-1",children:[ee,"/",te]})]})}),t.jsx("td",{className:"px-3 py-2.5",children:R.riStatus==="completed"?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700",children:[""," Completed"]}):R.riStatus==="pending_review"?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700",children:[""," Pending Review"]}):R.riStatus==="rejected"?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[""," Rejected"]}):R.riStatus==="in_progress"?t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:[""," In Progress"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-700",children:[""," Awaiting"]})}),t.jsx("td",{className:"px-3 py-2.5",children:t.jsxs("button",{onClick:je=>{je.stopPropagation(),Y(R)},className:"inline-flex items-center gap-1 text-xs px-2.5 py-1 rounded bg-primary/10 text-primary hover:bg-primary/20 font-medium transition-colors",children:[t.jsx("span",{children:""})," ",a("common.status.open")]})})]},R.id)})})]})})]})}function Zm({open:a,onClose:d,onReportCreated:o}){const{t:u}=De(),{state:f,dispatch:c}=ct(),[C,y]=F.useState(""),[k,T]=F.useState(""),[x,N]=F.useState(""),[g,B]=F.useState(""),[A,v]=F.useState(""),[E,$]=F.useState("2026-02-01"),[G,q]=F.useState("2026-02-19"),[Y,R]=F.useState(""),[X,ee]=F.useState(new Set),[te,me]=F.useState(!1),w=F.useMemo(()=>{if(!te)return[];let K=f.awaitingSettlement.filter(M=>M.status==="awaiting");return C&&(K=K.filter(M=>M.product===C)),k&&(K=K.filter(M=>(M.route||"").startsWith(k)||(M.wbs||"").includes(k))),x&&(K=K.filter(M=>M.route===x)),A==="yes"&&(K=K.filter(M=>M.cannotUnload===!1)),A==="no"&&(K=K.filter(M=>M.cannotUnload===!0)),g&&(K=K.filter(M=>(M.wbs||"").toLowerCase().includes(g.toLowerCase()))),E&&(K=K.filter(M=>{const O=M.docDate||M.billingDate;return!O||O>=E})),G&&(K=K.filter(M=>{const O=M.docDate||M.billingDate;return!O||O<=G})),K},[f.awaitingSettlement,C,k,x,A,g,E,G,te]),he=K=>{ee(M=>{const O=new Set(M);return O.has(K)?O.delete(K):O.add(K),O})},je=()=>{X.size===w.length?ee(new Set):ee(new Set(w.map(K=>K.id)))},be=()=>me(!0),Ce=()=>{const K=w.filter(j=>X.has(j.id));if(!K.length)return;const M=K[0].product;if(M==="NGV"&&(!Y||parseFloat(Y)<=0)){window.alert(u("settlement.createModal.ngvRateRequired")||"NGV Rate is required for NGV reports");return}const O=tl("RPT"),W=K.reduce((j,_)=>j+(_.billingQty||_.totalCost||0),0);c({type:"ADD_SETTLEMENT_REPORT",payload:{id:O,reportNo:O,product:M,period:`${E} to ${G}`,site:k||"All",status:"pending_so",rows:K.length,total:W,soNumbers:[],ngvRate:M==="NGV"?parseFloat(Y)||0:void 0,items:K.map(j=>({...j,status:"in_report"}))}}),K.forEach(j=>{c({type:"UPDATE_AWAITING",payload:{id:j.id,status:"in_report"}})});const J={id:O,reportNo:O,product:M,period:`${E} to ${G}`,site:k||"All",status:"pending_so",rows:K.length,total:W,soNumbers:[],ngvRate:M==="NGV"?parseFloat(Y)||0:void 0,items:K.map(j=>({...j,status:"in_report"}))};ee(new Set),me(!1),d(),o==null||o(J)},Te=()=>{ee(new Set),me(!1),d()};return a?nn.createPortal(t.jsxs("div",{className:"fixed inset-0 z-[600] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:Te}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"rounded-t-lg px-5 py-3 flex items-center justify-between",style:{background:"linear-gradient(135deg, #ff9800, #f57c00)"},children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-base font-bold text-white",children:[""," ",u("settlement.createReport")]}),t.jsx("p",{className:"text-[10px] text-white/70",children:u("settlement.createModal.subtitle")})]}),t.jsx("button",{onClick:Te,className:"text-white/80 hover:text-white text-lg leading-none",children:""})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:u("settlement.createModal.site")}),t.jsxs("select",{value:k,onChange:K=>T(K.target.value),className:"w-full border border-border rounded px-3 py-1.5 text-xs",children:[t.jsx("option",{value:"",children:u("common.all")}),t.jsx("option",{value:"BPK",children:"BPK"}),t.jsx("option",{value:"SRB",children:"SRB"}),t.jsx("option",{value:"MTP",children:"MTP"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:u("settlement.createModal.fromDate")}),t.jsx("input",{type:"date",value:E,onChange:K=>$(K.target.value),className:"w-full border border-border rounded px-3 py-1.5 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:u("settlement.createModal.toDate")}),t.jsx("input",{type:"date",value:G,onChange:K=>q(K.target.value),className:"w-full border border-border rounded px-3 py-1.5 text-xs"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:u("settlement.createModal.product")}),t.jsxs("select",{value:C,onChange:K=>{y(K.target.value),ee(new Set),me(!1)},className:"w-full border border-border rounded px-3 py-1.5 text-xs",children:[t.jsx("option",{value:"",children:u("common.all")}),t.jsx("option",{value:"LPG",children:"LPG"}),t.jsx("option",{value:"NGV",children:"NGV"}),t.jsx("option",{value:"FUEL",children:"FUEL"}),t.jsx("option",{value:"CHEM",children:"Chemical"}),t.jsx("option",{value:"CONTAINER",children:"Container"}),t.jsx("option",{value:"SCA",children:"SCA"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:u("settlement.createModal.route")}),t.jsxs("select",{value:x,onChange:K=>N(K.target.value),className:"w-full border border-border rounded px-3 py-1.5 text-xs",children:[t.jsx("option",{value:"",children:u("common.all")}),t.jsx("option",{value:"0C3415",children:"0C3415"}),t.jsx("option",{value:"0C2801",children:"0C2801"}),t.jsx("option",{value:"0N2001",children:"0N2001"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:u("settlement.createModal.wbs")}),t.jsx("input",{type:"text",value:g,onChange:K=>B(K.target.value),placeholder:u("settlement.createModal.wbsPlaceholder"),className:"w-full border border-border rounded px-3 py-1.5 text-xs"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:[u("settlement.gasUnload.canUnload"),"/",u("settlement.gasUnload.cannotShort")]}),t.jsxs("select",{value:A,onChange:K=>v(K.target.value),className:"w-full border border-border rounded px-3 py-1.5 text-xs",children:[t.jsx("option",{value:"",children:u("common.all")}),t.jsx("option",{value:"no",children:u("settlement.gasUnload.cannotUnload")}),t.jsx("option",{value:"yes",children:u("settlement.gasUnload.canUnload")})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-[10px] text-text-sec font-medium mb-1",children:u("settlement.reportDetail.ngvRate")}),t.jsx("input",{type:"number",step:"0.01",value:Y,onChange:K=>R(K.target.value),placeholder:u("settlement.createModal.ngvRatePlaceholder"),className:"w-full border-2 border-orange-300 rounded px-3 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-orange-400"})]}),t.jsx("div",{className:"flex items-end",children:t.jsxs("button",{onClick:be,className:"w-full px-3 py-1.5 rounded text-white text-xs font-medium",style:{background:"linear-gradient(135deg, #2196f3, #1565c0)"},children:[""," ",u("common.search")]})})]}),te&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"text-xs font-semibold text-text",children:[""," ",u("settlement.createModal.selectShipTos")]}),t.jsxs("span",{className:"text-[10px] text-text-sec",children:[w.length," ",u("settlement.createModal.rowsFound"),", ",X.size," ",u("settlement.createModal.selected")]})]}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded-lg",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"px-3 py-2 w-8",children:t.jsx("input",{type:"checkbox",checked:X.size===w.length&&w.length>0,onChange:je,className:"rounded"})}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("settlement.table.shipment")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("settlement.table.stage")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("settlement.table.shipTo")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("settlement.createModal.shipToName")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("shipments.table.product")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("settlement.createModal.volume")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("settlement.table.billingDist")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:u("settlement.table.gasUnload")})]})}),t.jsxs("tbody",{children:[w.map(K=>{var M;return t.jsxs("tr",{onClick:()=>he(K.id),className:`border-b border-border-light cursor-pointer transition-colors
                          ${X.has(K.id)?"bg-blue-50":"hover:bg-gray-50"}`,children:[t.jsx("td",{className:"px-3 py-2",children:t.jsx("input",{type:"checkbox",checked:X.has(K.id),readOnly:!0,className:"rounded"})}),t.jsx("td",{className:"px-3 py-2 font-mono text-primary",children:K.shipmentNo}),t.jsx("td",{className:"px-3 py-2",children:K.stage||"-"}),t.jsx("td",{className:"px-3 py-2",children:K.shipTo}),t.jsx("td",{className:"px-3 py-2",children:K.shipToName}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("span",{className:`badge-pill ${K.product==="LPG"?"badge-lpg":"badge-ngv"}`,children:K.product})}),t.jsx("td",{className:"px-3 py-2 text-right",children:(M=K.ticketQty||K.gasQty)==null?void 0:M.toLocaleString()}),t.jsxs("td",{className:"px-3 py-2 text-right",children:[K.billingDist||K.distance," km"]}),t.jsx("td",{className:"px-3 py-2",children:K.product==="LPG"?K.cannotUnload?t.jsx("span",{className:"badge-pill bg-red-100 text-red-700",children:""}):t.jsx("span",{className:"badge-pill bg-green-100 text-green-700",children:""}):"-"})]},K.id)}),w.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"text-center py-6 text-text-muted text-xs",children:u("settlement.createModal.noRowsMatch")})})]}),X.size>0&&t.jsx("tfoot",{children:t.jsxs("tr",{className:"bg-blue-50 font-semibold text-xs border-t-2 border-primary",children:[t.jsx("td",{className:"px-3 py-2"}),t.jsxs("td",{className:"px-3 py-2 text-primary",children:[X.size," selected"]}),t.jsx("td",{className:"px-3 py-2"}),t.jsx("td",{className:"px-3 py-2"}),t.jsx("td",{className:"px-3 py-2"}),t.jsx("td",{className:"px-3 py-2"}),t.jsx("td",{className:"px-3 py-2 text-right text-primary",children:w.filter(K=>X.has(K.id)).reduce((K,M)=>K+(M.ticketQty||M.gasQty||0),0).toLocaleString()}),t.jsxs("td",{className:"px-3 py-2 text-right text-primary",children:[w.filter(K=>X.has(K.id)).reduce((K,M)=>K+(M.billingDist||M.distance||0),0)," km"]}),t.jsx("td",{className:"px-3 py-2"})]})})]})})]})]}),t.jsxs("div",{className:"border-t border-border px-5 py-3 rounded-b-lg flex justify-end gap-2 bg-gray-50",children:[t.jsx("button",{onClick:Te,className:"px-4 py-1.5 rounded border border-border text-xs text-text-sec hover:bg-white",children:u("common.cancel")}),t.jsxs("button",{onClick:Ce,disabled:X.size===0,className:"px-4 py-1.5 rounded text-white text-xs font-medium disabled:opacity-50",style:{background:X.size>0?"linear-gradient(135deg, #4caf50, #388e3c)":"#ccc"},children:[""," ",u("settlement.createModal.createButton")," (",X.size,")"]})]})]})]}),document.body):null}function Jm({onReportCreated:a}){const{t:d}=De(),{state:o}=ct(),[u,f]=F.useState(""),[c,C]=F.useState(""),[y,k]=F.useState(!1),T=F.useMemo(()=>{let x=o.awaitingSettlement.filter(N=>N.status==="awaiting");if(c&&(x=x.filter(N=>N.product===c)),u){const N=u.toLowerCase();x=x.filter(g=>{var B,A;return g.shipmentNo.toLowerCase().includes(N)||((B=g.soldToName)==null?void 0:B.toLowerCase().includes(N))||((A=g.shipToName)==null?void 0:A.toLowerCase().includes(N))})}return x},[o.awaitingSettlement,c,u]);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-white rounded-lg border border-border-light shadow-sm",children:[t.jsxs("div",{className:"border-b border-border-light px-4 py-2.5 flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-sm font-semibold text-text",children:[""," ",d("settlement.tabs.awaiting")]}),t.jsx("p",{className:"text-[10px] text-text-sec",children:d("settlement.awaiting.customerStageNote")})]}),t.jsxs("button",{onClick:()=>k(!0),className:"px-3 py-1.5 rounded text-white text-xs font-medium flex items-center gap-1.5",style:{background:"linear-gradient(135deg, #2196f3, #1976d2)"},children:[""," ",d("settlement.createReport")]})]}),t.jsxs("div",{className:"px-4 py-2.5 border-b border-border-light flex items-center gap-2 flex-wrap bg-gray-50",children:[t.jsx("input",{type:"text",placeholder:d("common.search")+"...",value:u,onChange:x=>f(x.target.value),className:"max-w-xs border border-border rounded px-3 py-1.5 text-xs focus:outline-none focus:ring-1 focus:ring-primary"}),t.jsxs("select",{value:c,onChange:x=>C(x.target.value),className:"border border-border rounded px-3 py-1.5 text-xs",children:[t.jsx("option",{value:"",children:"All Products"}),t.jsx("option",{value:"LPG",children:"LPG"}),t.jsx("option",{value:"NGV",children:"NGV"})]}),t.jsxs("span",{className:"text-[10px] text-text-sec ml-auto",children:[T.length," rows"]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.shipment")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.stage")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("shipments.table.product")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.soldTo")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.shipTo")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.customerDoc")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.ticketQty")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.billingDist")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("settlement.table.gasUnload")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:d("cashAdvance.table.date")})]})}),t.jsxs("tbody",{children:[T.map(x=>{var N;return t.jsxs("tr",{className:"border-b border-border-light border-l-4 border-l-orange-400 hover:bg-orange-50/30 transition-colors",children:[t.jsx("td",{className:"px-3 py-2 whitespace-nowrap font-mono text-primary",children:t.jsx("button",{onClick:()=>{window.parent.postMessage({type:"NAVIGATE_TO_SHIPMENT",shipmentId:x.shipmentNo},"*")},className:"hover:underline cursor-pointer",children:x.shipmentNo})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:x.stage||"-"}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsxs("span",{className:`badge-pill ${x.product==="LPG"?"badge-lpg":"badge-ngv"}`,children:[x.product==="LPG"?"":""," ",x.product]})}),t.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[t.jsx("div",{className:"text-xs font-medium",children:x.soldToName}),t.jsx("div",{className:"text-[10px] text-text-sec",children:x.soldTo})]}),t.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[t.jsx("div",{className:"text-xs font-medium",children:x.shipToName}),t.jsx("div",{className:"text-[10px] text-text-sec",children:x.shipTo})]}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:x.custDoc||"-"}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:((N=x.ticketQty||x.gasQty)==null?void 0:N.toLocaleString())||"-"}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right",children:x.billingDist||x.distance?`${x.billingDist||x.distance} km`:"-"}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:x.product==="LPG"?x.cannotUnload?t.jsxs("span",{className:"badge-pill bg-red-100 text-red-700",children:["",d("settlement.gasUnload.cannot")]}):t.jsxs("span",{className:"badge-pill bg-green-100 text-green-700",children:["",d("settlement.gasUnload.can")]}):t.jsx("span",{className:"text-text-sec",children:"-"})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:x.docDate||"-"})]},x.id)}),T.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:10,className:"text-center py-10 text-text-muted text-xs",children:"No shipments awaiting settlement"})})]})]})})]}),t.jsx(Zm,{open:y,onClose:()=>k(!1),onReportCreated:a})]})}const ex={pending_so:{label:"Pending SO",color:"bg-yellow-100 text-yellow-700"},so_posted:{label:"SO Posted",color:"bg-green-100 text-green-700"}};function tx({onViewReport:a,onCreateReport:d}){const{t:o}=De(),{state:u}=ct();return t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white rounded-lg border border-border-light shadow-sm",children:[t.jsxs("div",{className:"border-b border-border-light px-4 py-2.5 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-semibold text-text",children:[""," ",o("settlement.tabs.reports")]}),t.jsxs("button",{onClick:d,className:"px-3 py-1.5 rounded text-white text-xs font-medium flex items-center gap-1.5",style:{background:"linear-gradient(135deg, #ff9800, #f57c00)"},children:[""," ",o("settlement.createReport")]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("settlement.table.reportNo")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("shipments.table.product")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("settlement.table.period")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("settlement.table.site")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("settlement.table.rows")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("settlement.table.total")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("freightOrders.table.status")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("settlement.table.soNo")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:o("freightOrders.table.actions")})]})}),t.jsxs("tbody",{children:[u.settlementReports.map(f=>{const c=f.status==="so_posted",C=ex[f.status]||{label:f.status,color:"bg-gray-100 text-gray-700"},y=f.soNumbers||(f.soNo?[f.soNo]:[]);return t.jsxs("tr",{className:`border-b border-border-light hover:bg-blue-50/30 transition-colors cursor-pointer
                      ${c?"bg-green-50/40":"bg-blue-50/20"}`,onClick:()=>a==null?void 0:a(f),children:[t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsx("span",{className:"font-mono font-medium text-purple-700 hover:underline cursor-pointer",children:f.reportNo})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsxs("span",{className:`badge-pill ${f.product==="LPG"?"badge-lpg":"badge-ngv"}`,children:[f.product==="LPG"?"":""," ",f.product]})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:f.period}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:f.site}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:f.rows}),t.jsxs("td",{className:"px-3 py-2 whitespace-nowrap text-right font-medium",children:["",Number(f.total).toLocaleString()]}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsx("span",{className:`badge-pill ${C.color}`,children:C.label})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:y.length>0?t.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[t.jsx("span",{className:"badge-pill bg-green-100 text-green-700 font-mono",children:y[0]}),y.length>1&&t.jsxs("span",{className:"badge-pill bg-green-100 text-green-700 text-[10px]",children:["+",y.length-1," more"]})]}):t.jsx("span",{className:"text-text-muted",children:"-"})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsxs("button",{onClick:k=>{k.stopPropagation(),a==null||a(f)},className:"text-xs px-2 py-0.5 rounded bg-primary/10 text-primary hover:bg-primary/20 flex items-center gap-1",children:[""," View"]})})]},f.id)}),u.settlementReports.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"text-center py-10 text-text-muted text-xs",children:"No settlement reports found"})})]})]})})]})})}function rx({open:a,onClose:d,columns:o,onChange:u}){const{language:f,t:c}=De();F.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]);const C=x=>{u(o.map(N=>N.key===x?{...N,show:!N.show}:N))},y=()=>u(o.map(x=>({...x,show:!0}))),k=()=>u(o.map(x=>({...x,show:!1})));if(!a)return null;const T=o.filter(x=>x.show).length;return nn.createPortal(t.jsxs("div",{className:"fixed inset-0 z-[600] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:d}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[85vh] flex flex-col",children:[t.jsxs("div",{className:"rounded-t-lg px-5 py-3 flex items-center justify-between",style:{background:"linear-gradient(135deg, #4caf50, #388e3c)"},children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-base font-bold text-white",children:[""," ",c("columnSettings.title")]}),t.jsxs("p",{className:"text-[10px] text-white/70",children:[c("columnSettings.subtitle")," (",T," / ",o.length," ",c("columnSettings.visible"),")"]})]}),t.jsx("button",{onClick:d,className:"text-white/80 hover:text-white text-lg leading-none",children:""})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:y,className:"px-3 py-1 rounded border border-green-300 text-xs text-green-700 hover:bg-green-50",children:c("columnSettings.showAll")}),t.jsx("button",{onClick:k,className:"px-3 py-1 rounded border border-red-300 text-xs text-red-700 hover:bg-red-50",children:c("columnSettings.hideAll")})]}),t.jsx("div",{className:"grid grid-cols-2 gap-1.5",children:o.map(x=>t.jsxs("label",{className:`flex items-center gap-2 p-2 rounded cursor-pointer transition-colors text-xs
                  ${x.show?"bg-green-50 hover:bg-green-100":"bg-gray-50 hover:bg-gray-100"}`,children:[t.jsx("input",{type:"checkbox",checked:x.show,onChange:()=>C(x.key),className:"rounded text-green-600"}),t.jsx("span",{className:x.show?"text-text font-medium":"text-text-sec",children:f==="th"?x.labelTh:x.label})]},x.key))})]}),t.jsxs("div",{className:"border-t border-border px-5 py-3 rounded-b-lg flex justify-end gap-2 bg-gray-50",children:[t.jsx("button",{onClick:d,className:"px-4 py-1.5 rounded border border-border text-xs text-text-sec hover:bg-white",children:c("columnSettings.close")}),t.jsxs("button",{onClick:d,className:"px-4 py-1.5 rounded text-white text-xs font-medium",style:{background:"linear-gradient(135deg, #4caf50, #388e3c)"},children:[""," ",c("columnSettings.apply")]})]})]})]}),document.body)}function lx({report:a,onBack:d}){var B,A;const{language:o,t:u}=De(),{dispatch:f}=ct(),[c,C]=F.useState(!1),[y,k]=F.useState((a==null?void 0:a.product)==="LPG"?[...Mp]:[...Ap]);if(!a)return t.jsx("div",{className:"text-center py-10 text-text-muted text-xs",children:u("settlement.reportDetail.selectReport")});const T=y.filter(v=>v.show),x=a.status==="so_posted",N=()=>{const v=a.items||[],E=[];if(a.product==="LPG"){const G={};v.forEach(q=>{const Y=`${q.soldTo||"unknown"}_${q.cannotUnload?"no":"yes"}`;G[Y]||(G[Y]=[]),G[Y].push(q)}),Object.entries(G).forEach(([q,Y])=>{const R=q.endsWith("_yes"),X=`80979-${String(Date.now()).slice(-3)}-${E.length+1}`;E.push({id:tl("SO"),soNo:X,reportNo:a.reportNo,product:"LPG",soldTo:Y[0].soldTo||"",soldToName:Y[0].soldToName||"",soType:u(R?"settlement.gasUnload.canUnload":"settlement.gasUnload.cannotUnload"),total:Y.reduce((ee,te)=>ee+(te.billingQty||te.totalCost||0),0),status:"pending",created:new Date().toISOString().split("T")[0],numRows:Y.length,rows:Y.map(ee=>({shipmentNo:ee.shipmentNo,soldTo:ee.soldTo,shipToName:ee.shipToName,custDoc:ee.custDoc||"-",qty:ee.billingQty||ee.gasQty,soNo:X}))})})}else{const G=v.filter(Y=>(Y.billingDist||Y.distance||0)<=200),q=v.filter(Y=>(Y.billingDist||Y.distance||0)>200);[{bucket:G,label:"200km"},{bucket:q,label:">200km"}].forEach(({bucket:Y,label:R})=>{if(Y.length===0)return;const X=`21060-${String(Date.now()).slice(-3)}-${E.length+1}`;E.push({id:tl("SO"),soNo:X,reportNo:a.reportNo,product:"NGV",soldTo:Y[0].soldTo||"",soldToName:Y[0].soldToName||"",soType:R,total:Y.reduce((ee,te)=>ee+(te.gasQty||te.totalCost||0),0),status:"pending",created:new Date().toISOString().split("T")[0],numRows:Y.length,rows:Y.map(ee=>({shipmentNo:ee.shipmentNo,soldTo:ee.soldTo,shipToName:ee.shipToName,custDoc:ee.custDoc||"-",qty:ee.gasQty||ee.billingQty,soNo:X}))})})}const $={};if(E.forEach(G=>{G.rows.forEach(q=>{$[q.shipmentNo]=G.soNo})}),E.length===0){window.alert(" No Sales Orders could be created. Please check report items.");return}f({type:"ADD_SALES_ORDERS",payload:E}),f({type:"UPDATE_REPORT",payload:{id:a.id,status:"so_posted",soNumbers:E.map(G=>G.soNo),items:v.map(G=>({...G,soNo:$[G.shipmentNo]||G.soNo}))}}),window.alert(` ${E.length} Sales Order(s) created!

${E.map(G=>`${G.soNo}  ${G.soType} (${G.numRows} rows)`).join(`
`)}

SO numbers have been stamped back to the report.`)},g={};return(B=a.items)==null||B.forEach(v=>{v.soNo&&(g[v.soNo]||(g[v.soNo]=[]),g[v.soNo].push(v))}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("button",{onClick:d,className:"text-primary hover:text-primary-hover text-xs flex items-center gap-1",children:[""," ",u("settlement.reportDetail.backToReports")]}),t.jsxs("div",{className:"rounded-lg p-4 text-white shadow-sm",style:{background:"linear-gradient(135deg, #43a047, #2e7d32)"},children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsxs("h2",{className:"text-base font-bold flex items-center gap-2",children:[""," ",a.reportNo,t.jsx("span",{className:`badge-pill text-[10px] ${x?"bg-white/20 text-white":"bg-yellow-300 text-yellow-900"}`,children:x?" "+u("common.status.soPosted"):" "+u("common.status.pendingSO")})]}),t.jsxs("span",{className:`badge-pill ${a.product==="LPG"?"bg-red-500/20 text-white":"bg-green-300/20 text-white"}`,children:[a.product==="LPG"?"":""," ",a.product]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-white/60",children:u("settlement.table.period")}),t.jsx("div",{className:"font-medium",children:a.period})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white/60",children:u("settlement.table.site")}),t.jsx("div",{className:"font-medium",children:a.site})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white/60",children:u("settlement.reportDetail.selectedRows")}),t.jsx("div",{className:"font-medium",children:a.rows})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-white/60",children:u("settlement.table.status")}),t.jsx("div",{className:"font-medium",children:u(x?"common.status.soPosted":"common.status.pendingSO")})]}),a.product==="NGV"&&a.ngvRate&&t.jsxs("div",{children:[t.jsx("span",{className:"text-white/60",children:u("settlement.reportDetail.ngvRate")}),t.jsxs("div",{className:"font-medium",children:[a.ngvRate," ",u("settlement.reportDetail.ngvRateUnit")]})]})]})]}),t.jsxs("div",{className:"rounded-lg px-4 py-3 text-xs border border-yellow-300",style:{background:"#fffde7"},children:[t.jsxs("h4",{className:"font-bold text-yellow-900 mb-1",children:[""," ",u("settlement.reportDetail.soSplitRules")]}),a.product==="LPG"?t.jsxs("ul",{className:"text-yellow-800 space-y-0.5 list-disc list-inside",children:[t.jsx("li",{children:u("settlement.splitRules.lpg.rule1")}),t.jsx("li",{children:u("settlement.splitRules.lpg.rule2")}),t.jsx("li",{children:u("settlement.splitRules.lpg.rule3")})]}):t.jsxs("ul",{className:"text-yellow-800 space-y-0.5 list-disc list-inside",children:[t.jsxs("li",{children:["Split by distance: >200km vs ","","200km"]}),t.jsx("li",{children:u("settlement.splitRules.ngv.rule2")}),t.jsx("li",{children:u("settlement.splitRules.ngv.rule3")})]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-border-light shadow-sm",children:[t.jsxs("div",{className:"border-b border-border-light px-4 py-2.5 flex items-center gap-2 flex-wrap bg-gray-50",children:[t.jsxs("button",{onClick:()=>C(!0),className:"px-3 py-1.5 rounded border border-border text-xs text-text-sec hover:bg-white flex items-center gap-1",children:[""," ",u("settlement.columnSettings")]}),t.jsxs("button",{onClick:()=>{var Y;if(!((Y=a.items)!=null&&Y.length))return;const v=T.map(R=>o==="th"?R.labelTh:R.label).join(","),E=a.items.map(R=>T.map(X=>{const ee=X.key==="no"?"":R[X.key]??"";return`"${String(ee).replace(/"/g,'""')}"`}).join(",")).join(`
`),$=new Blob([v+`
`+E],{type:"text/csv"}),G=URL.createObjectURL($),q=document.createElement("a");q.href=G,q.download=`${a.reportNo}.csv`,q.click(),URL.revokeObjectURL(G)},className:"px-3 py-1.5 rounded border border-border text-xs text-text-sec hover:bg-white flex items-center gap-1",children:[""," ",u("settlement.exportExcel")]}),!x&&t.jsxs("button",{onClick:N,className:"px-3 py-1.5 rounded text-white text-xs font-medium flex items-center gap-1 ml-auto",style:{background:"linear-gradient(135deg, #2196f3, #1565c0)"},children:[""," ",u("settlement.createSalesOrder")]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsx("tr",{className:"bg-gray-50 border-b border-border",children:T.map(v=>t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec whitespace-nowrap",children:o==="th"?v.labelTh:v.label},v.key))})}),t.jsx("tbody",{children:(A=a.items)==null?void 0:A.map((v,E)=>{const $=!!v.soNo;return t.jsx("tr",{className:`border-b transition-colors
                      ${$?"border-l-4 border-l-green-500 bg-green-50/30 hover:bg-green-50/60":"border-l-4 border-l-orange-400 bg-orange-50/20 hover:bg-orange-50/40"} border-b-border-light`,children:T.map(G=>{var q;return t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:G.key==="no"?E+1:G.key==="soNo"&&v.soNo?t.jsx("span",{className:"badge-pill bg-green-100 text-green-700 font-mono",children:v.soNo}):G.key==="cannotUnload"?v.cannotUnload?t.jsx("span",{className:"badge-pill bg-red-100 text-red-700",children:""}):t.jsx("span",{className:"badge-pill bg-green-100 text-green-700",children:""}):G.key==="billingQty"||G.key==="actualQty"||G.key==="ticketQty"||G.key==="gasQty"?((q=v[G.key])==null?void 0:q.toLocaleString())??"":G.key==="totalFreight"||G.key==="grandTotal"||G.key==="fuelSurcharge"||G.key==="otherCharge"||G.key==="totalCost"||G.key==="stationCost"?v[G.key]!=null?at(v[G.key]):"":v[G.key]??""},G.key)})},E)})})]})}),t.jsxs("div",{className:"px-4 py-2.5 bg-gray-50 border-t border-border-light flex items-center justify-between text-xs",children:[t.jsxs("span",{className:"text-text-sec",children:[a.rows," ",u("settlement.reportDetail.rows")," | ",T.length,"/",y.length," ",u("settlement.reportDetail.colsVisible")]}),t.jsxs("span",{className:"font-bold",children:[u("common.total"),": ",at(a.total)]})]})]}),Object.keys(g).length>0&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("h3",{className:"text-sm font-semibold text-text",children:[""," ",u("settlement.reportDetail.soStampedBack")]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries(g).map(([v,E])=>t.jsxs("div",{className:"rounded-lg border-2 border-green-300 bg-green-50/50 p-3 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"font-mono font-bold text-green-700 text-sm",children:v}),t.jsxs("span",{className:"badge-pill bg-green-100 text-green-700",children:[E.length," ",u("settlement.reportDetail.rows")]})]}),t.jsx("div",{className:"space-y-1 text-xs text-text-sec",children:E.map(($,G)=>{var q;return t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{children:$.shipToName||$.soldToName}),t.jsx("span",{className:"font-medium text-text",children:(q=$.billingQty||$.gasQty)==null?void 0:q.toLocaleString()})]},G)})})]},v))})]}),t.jsx(rx,{open:c,onClose:()=>C(!1),columns:y,onChange:k})]})}function sx({open:a,onClose:d,salesOrder:o,onPostToSAP:u,postingId:f}){var k,T;const{t:c}=De();if(F.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),!a||!o)return null;const C=f===o.id,y=o.status==="pending";return nn.createPortal(t.jsxs("div",{className:"fixed inset-0 z-[600] flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:d}),t.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[85vh] flex flex-col",children:[t.jsxs("div",{className:"rounded-t-lg px-5 py-3 flex items-center justify-between",style:{background:"linear-gradient(135deg, #2196f3, #1565c0)"},children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-base font-bold text-white",children:[""," ",c("settlement.soDetail.title")]}),t.jsxs("p",{className:"text-[10px] text-white/70",children:[c("settlement.soDetail.soPrefix"),": ",o.soNo]})]}),t.jsx("button",{onClick:d,className:"text-white/80 hover:text-white text-lg leading-none",children:""})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-3 gap-3 text-xs",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec block text-[10px]",children:c("settlement.soDetail.soNumber")}),t.jsx("span",{className:"font-mono font-bold text-primary",children:o.soNo})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec block text-[10px]",children:c("settlement.soDetail.report")}),t.jsx("span",{className:"font-mono text-purple-700",children:o.reportNo})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec block text-[10px]",children:c("settlement.soDetail.product")}),t.jsxs("span",{className:`badge-pill ${o.product==="LPG"?"badge-lpg":"badge-ngv"}`,children:[o.product==="LPG"?"":""," ",o.product]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec block text-[10px]",children:c("settlement.soDetail.soldTo")}),t.jsx("div",{className:"font-medium",children:o.soldToName}),t.jsx("div",{className:"text-[10px] text-text-sec",children:o.soldTo})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec block text-[10px]",children:c("settlement.soDetail.soType")}),t.jsx("span",{className:"badge-pill bg-orange-100 text-orange-700",children:o.soType})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-text-sec block text-[10px]",children:c("settlement.soDetail.sapStatus")}),o.status==="posted"?t.jsxs("span",{className:"badge-pill bg-green-100 text-green-700",children:[""," ",c("settlement.status.posted")]}):C?t.jsxs("span",{className:"badge-pill bg-blue-100 text-blue-700",children:[""," ",c("settlement.postToSAP.posting")]}):t.jsxs("span",{className:"badge-pill bg-yellow-100 text-yellow-700",children:[""," ",c("settlement.status.pending")]})]})]}),y&&t.jsxs("div",{className:"rounded-lg px-4 py-3 flex items-center justify-between border-2",style:{borderColor:"#9c27b0",background:"linear-gradient(135deg, #f3e5f5, #e1bee7)"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl",children:""}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm font-semibold",style:{color:"#7b1fa2"},children:c("settlement.postToSAP.readyTitle")}),t.jsx("div",{className:"text-xs",style:{color:"#9c27b0"},children:c("settlement.postToSAP.readyDesc")})]})]}),t.jsx("button",{onClick:()=>u&&u(o),disabled:C,className:"px-4 py-2 rounded text-white text-xs font-medium disabled:opacity-50",style:{background:"linear-gradient(135deg, #9c27b0, #7b1fa2)"},children:c(C?"settlement.postToSAP.posting":"settlement.postToSAP.button")})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-semibold text-text mb-2",children:c("settlement.soDetail.rowsStamped")}),t.jsx("div",{className:"overflow-x-auto border border-border-light rounded-lg",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:c("settlement.table.shipment")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:c("settlement.table.soldTo")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:c("settlement.createModal.shipToName")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:c("settlement.soDetail.custDoc")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:c("settlement.soDetail.quantity")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:c("settlement.table.soNo")})]})}),t.jsx("tbody",{children:(k=o.rows)==null?void 0:k.map((x,N)=>{var g;return t.jsxs("tr",{className:"border-b border-border-light border-l-4 border-l-green-500 hover:bg-green-50/30",children:[t.jsx("td",{className:"px-3 py-2 font-mono text-primary",children:x.shipmentNo||"-"}),t.jsx("td",{className:"px-3 py-2",children:x.soldTo||o.soldTo}),t.jsx("td",{className:"px-3 py-2",children:x.shipToName}),t.jsx("td",{className:"px-3 py-2",children:x.custDoc||"-"}),t.jsx("td",{className:"px-3 py-2 text-right",children:(g=x.qty)==null?void 0:g.toLocaleString()}),t.jsx("td",{className:"px-3 py-2",children:t.jsx("span",{className:"badge-pill bg-green-100 text-green-700 font-mono",children:x.soNo||o.soNo})})]},N)})}),t.jsx("tfoot",{children:t.jsxs("tr",{className:"bg-gray-50 font-medium",children:[t.jsx("td",{colSpan:4,className:"px-3 py-2 text-right",children:c("cashAdvance.total")}),t.jsx("td",{className:"px-3 py-2 text-right",children:(T=o.rows)==null?void 0:T.reduce((x,N)=>x+(N.qty||0),0).toLocaleString()}),t.jsx("td",{className:"px-3 py-2 font-bold",children:at(o.total)})]})})]})})]})]}),t.jsxs("div",{className:"border-t border-border px-5 py-3 rounded-b-lg flex justify-end gap-2",children:[t.jsxs("button",{onClick:()=>window.print(),className:"px-4 py-1.5 rounded border border-[#d9d9d9] bg-[#f5f5f5] text-[#32363a] text-xs font-medium hover:bg-[#e8e8e8] flex items-center gap-1",children:[""," ",c("common.print")||"Print"]}),y&&t.jsxs("button",{onClick:()=>u&&u(o),disabled:C,className:"px-4 py-1.5 rounded text-white text-xs font-medium disabled:opacity-50 flex items-center gap-1",style:{background:"linear-gradient(135deg, #9c27b0, #7b1fa2)"},children:[""," ",c(C?"settlement.postToSAP.posting":"settlement.postToSAP.button")]}),t.jsx("button",{onClick:d,className:"px-4 py-1.5 rounded bg-primary text-white text-xs font-medium hover:bg-primary-hover",children:c("common.close")})]})]})]}),document.body)}function nx(){const{t:a}=De(),{state:d,dispatch:o}=ct(),[u,f]=F.useState(null),[c,C]=F.useState(null),y=(x,N)=>{N&&N.stopPropagation(),C(x.id),setTimeout(()=>{o({type:"UPDATE_SALES_ORDER",payload:{id:x.id,status:"posted",sapPostedAt:new Date().toISOString()}}),C(null),window.alert(`${a("settlement.postToSAP.success")}

SO: ${x.soNo}
SAP Status: Posted`)},1200)},k=d.salesOrders.filter(x=>x.status==="pending").length,T=d.salesOrders.filter(x=>x.status==="posted").length;return t.jsxs("div",{className:"space-y-4",children:[k>0&&t.jsxs("div",{className:"rounded-lg px-4 py-3 text-xs border border-yellow-300 flex items-center justify-between",style:{background:"#fffde7"},children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-base",children:""}),t.jsxs("span",{className:"text-yellow-800 font-medium",children:[k," ",a("settlement.postToSAP.pendingOrders")," | ",T," ",a("settlement.postToSAP.postedOrders")]})]}),t.jsxs("button",{onClick:()=>{const x=d.salesOrders.filter(N=>N.status==="pending");x.length!==0&&x.forEach(N=>y(N))},className:"px-3 py-1.5 rounded text-white text-xs font-medium flex items-center gap-1",style:{background:"linear-gradient(135deg, #9c27b0, #7b1fa2)"},children:[""," ",a("settlement.postToSAP.postAll")]})]}),t.jsxs("div",{className:"bg-white rounded-lg border border-border-light shadow-sm",children:[t.jsxs("div",{className:"border-b border-border-light px-4 py-2.5 flex items-center justify-between",children:[t.jsxs("h3",{className:"text-sm font-semibold text-text",children:[""," ",a("settlement.tabs.salesOrders")]}),t.jsxs("button",{onClick:()=>{if(!d.salesOrders.length)return;const x="SO No,Report,Product,Sold To,SO Type,Rows,Total,Status",N=d.salesOrders.map(v=>{var E;return`"${v.soNo}","${v.reportNo}","${v.product}","${v.soldToName}","${v.soType}",${v.numRows||((E=v.rows)==null?void 0:E.length)||0},${v.total},"${v.status}"`}).join(`
`),g=new Blob([x+`
`+N],{type:"text/csv"}),B=URL.createObjectURL(g),A=document.createElement("a");A.href=B,A.download="sales_orders.csv",A.click(),URL.revokeObjectURL(B)},className:"px-3 py-1.5 rounded border border-border text-xs text-text-sec hover:bg-bg flex items-center gap-1",children:[""," ",a("common.export")]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-xs",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-gray-50 border-b border-border",children:[t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("settlement.table.soNumber")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("settlement.table.report")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("shipments.table.product")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("settlement.table.soldTo")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("settlement.table.soType")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("settlement.table.rows")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("settlement.table.total")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("settlement.table.sapStatus")}),t.jsx("th",{className:"text-left px-3 py-2 font-medium text-text-sec",children:a("freightOrders.table.actions")})]})}),t.jsxs("tbody",{children:[d.salesOrders.map(x=>{var N;return t.jsxs("tr",{onClick:()=>f(x),className:`border-b border-border-light hover:bg-green-50/30 transition-colors cursor-pointer ${x.status==="posted"?"border-l-4 border-l-green-500":"border-l-4 border-l-yellow-400"}`,children:[t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsx("span",{className:"font-mono font-bold text-primary hover:underline",children:x.soNo})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsx("span",{className:"font-mono text-purple-700 hover:underline",children:x.reportNo})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsxs("span",{className:`badge-pill ${x.product==="LPG"?"badge-lpg":"badge-ngv"}`,children:[x.product==="LPG"?"":""," ",x.product]})}),t.jsxs("td",{className:"px-3 py-2 whitespace-nowrap",children:[t.jsx("div",{className:"text-xs font-medium",children:x.soldToName}),t.jsx("div",{className:"text-[10px] text-text-sec",children:x.soldTo})]}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsx("span",{className:"badge-pill bg-orange-100 text-orange-700",children:x.soType})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-center",children:x.numRows||((N=x.rows)==null?void 0:N.length)||0}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-right font-medium",children:at(x.total)}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:x.status==="posted"?t.jsxs("span",{className:"badge-pill bg-green-100 text-green-700",children:[""," ",a("settlement.status.posted")]}):c===x.id?t.jsxs("span",{className:"badge-pill bg-blue-100 text-blue-700",children:[""," ",a("settlement.postToSAP.posting")]}):t.jsxs("span",{className:"badge-pill bg-yellow-100 text-yellow-700",children:[""," ",a("settlement.status.pending")]})}),t.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsxs("button",{onClick:g=>{g.stopPropagation(),f(x)},className:"text-xs px-2 py-0.5 rounded bg-primary/10 text-primary hover:bg-primary/20 flex items-center gap-1",children:[""," ",a("common.view")]}),x.status==="pending"&&t.jsxs("button",{onClick:g=>y(x,g),disabled:c===x.id,className:"text-xs px-2 py-0.5 rounded text-white flex items-center gap-1 disabled:opacity-50",style:{background:"linear-gradient(135deg, #9c27b0, #7b1fa2)"},children:[""," ",a("settlement.postToSAP.button")]})]})})]},x.id)}),d.salesOrders.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:9,className:"text-center py-10 text-text-muted text-xs",children:a("settlement.salesOrders.empty")})})]})]})})]}),t.jsx(sx,{open:!!u,onClose:()=>f(null),salesOrder:u,onPostToSAP:y,postingId:c})]})}const ax=[{key:"awaiting",labelKey:"settlement.flowSteps.awaiting",color:"#4caf50"},{key:"createReport",labelKey:"settlement.flowSteps.createReport",color:"#ff9800"},{key:"displayRecheck",labelKey:"settlement.flowSteps.displayRecheck",color:"#e91e63"},{key:"createSO",labelKey:"settlement.flowSteps.createSO",color:"#2196f3"},{key:"postToSAP",labelKey:"settlement.flowSteps.postToSAP",color:"#9c27b0"},{key:"stampSO",labelKey:"settlement.flowSteps.stampSO",color:"#00bcd4"},{key:"completed",labelKey:"settlement.flowSteps.completed",color:"#4caf50"}],ix={awaiting:0,reports:1,reportDetail:2,salesOrders:4},ox=[{key:"awaiting",icon:"",labelKey:"settlement.tabs.awaiting"},{key:"reports",icon:"",labelKey:"settlement.tabs.reports"},{key:"reportDetail",icon:"",labelKey:"settlement.tabs.reportDetail"},{key:"salesOrders",icon:"",labelKey:"settlement.tabs.salesOrders"}];function cx(){const{t:a}=De(),{state:d}=ct(),[o,u]=F.useState("awaiting"),[f,c]=F.useState(null),[C,y]=F.useState(0),k=F.useMemo(()=>({awaiting:d.awaitingSettlement.filter(A=>A.status==="awaiting").length,lpgAwaiting:d.awaitingSettlement.filter(A=>A.product==="LPG"&&A.status==="awaiting").length,ngvAwaiting:d.awaitingSettlement.filter(A=>A.product==="NGV"&&A.status==="awaiting").length,reportsCreated:d.settlementReports.length,soPosted:d.salesOrders.filter(A=>A.status==="posted").length}),[d.awaitingSettlement,d.settlementReports,d.salesOrders]),T=F.useCallback(A=>{c(A),u("reportDetail")},[]),x=f?d.settlementReports.find(A=>A.id===f.id)||f:null,N=()=>y(A=>A+1),g=F.useMemo(()=>o==="reportDetail"&&x?x.status==="so_posted"?5:2:o==="salesOrders"?d.salesOrders.some(v=>v.status==="pending")?4:6:ix[o]??0,[o,x,d.salesOrders]),B=ax.map((A,v)=>({...A,active:v<=g,current:v===g}));return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-xl font-bold text-text",children:[""," ",a("settlement.pageTitle")]}),t.jsx("p",{className:"text-xs text-text-sec mt-0.5",children:a("settlement.flowDescription")})]}),t.jsxs("button",{onClick:N,className:"px-3 py-1.5 rounded border border-border text-table text-text-sec hover:bg-bg flex items-center gap-1.5",children:[""," ",a("reportIn.refresh")]})]}),t.jsx("div",{className:"bg-white rounded-lg border border-border-light p-4 shadow-sm",children:t.jsx("div",{className:"flex items-center justify-between overflow-x-auto gap-1",children:B.map((A,v)=>t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex flex-col items-center min-w-[90px]",children:[t.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold shadow-sm",style:{background:A.color,opacity:A.active?1:.35,boxShadow:A.current?`0 0 8px ${A.color}60`:"none"},children:v+1}),t.jsx("span",{className:"text-[10px] text-center mt-1.5 leading-tight font-medium",style:{color:A.active?A.color:"#bbb"},children:a(A.labelKey)})]}),v<B.length-1&&t.jsx("span",{className:"text-border mx-1 text-xs",children:""})]},A.key))})}),t.jsxs("div",{className:"border-l-4 rounded-r-lg px-4 py-2.5 text-xs flex items-start gap-2 border-l-blue-500 bg-blue-50 text-blue-800",children:[t.jsx("span",{className:"text-base mt-0.5",children:""}),t.jsxs("div",{children:[t.jsx("strong",{children:a("settlement.infoNote")})," ",a("settlement.infoNoteBody")||"Select shipments from the Awaiting tab, create settlement reports, generate Sales Orders, and post to SAP for billing."]})]}),t.jsx("div",{className:"flex gap-3 overflow-x-auto pb-1",children:[{icon:"",labelKey:"settlement.kpi.awaiting",count:k.awaiting,borderColor:"#ff9800",iconBg:"#fff3e0",tab:"awaiting"},{icon:"",labelKey:"settlement.kpi.lpgAwaiting",count:k.lpgAwaiting,borderColor:"#2196f3",iconBg:"#e3f2fd",tab:"awaiting"},{icon:"",labelKey:"settlement.kpi.ngvAwaiting",count:k.ngvAwaiting,borderColor:"#4caf50",iconBg:"#e8f5e9",tab:"awaiting"},{icon:"",labelKey:"settlement.kpi.reportsCreated",count:k.reportsCreated,borderColor:"#9c27b0",iconBg:"#f3e5f5",tab:"reports"},{icon:"",labelKey:"settlement.kpi.soPosted",count:k.soPosted,borderColor:"#4caf50",iconBg:"#e8f5e9",tab:"salesOrders"}].map(A=>t.jsxs("button",{onClick:()=>u(A.tab),className:"flex flex-col items-center gap-1 px-5 py-3 rounded-lg border-2 bg-white min-w-[120px] shadow-sm cursor-pointer hover:shadow-md transition-shadow",style:{borderColor:A.borderColor},children:[t.jsx("span",{className:"w-8 h-8 rounded-full flex items-center justify-center text-lg",style:{background:A.iconBg},children:A.icon}),t.jsx("span",{className:"text-2xl font-bold",style:{color:A.borderColor},children:A.count}),t.jsx("span",{className:"text-[10px] text-text-sec whitespace-nowrap font-medium",children:a(A.labelKey)})]},A.labelKey))}),t.jsx("div",{className:"flex border-b border-border",children:ox.map((A,v)=>t.jsxs("div",{className:"flex items-center",children:[v>0&&t.jsx("span",{className:"text-text-muted mx-1 text-xs",children:""}),t.jsxs("button",{onClick:()=>u(A.key),className:`px-4 py-2 text-xs font-medium border-b-2 transition-colors flex items-center gap-1.5
                ${o===A.key?"border-primary text-primary font-semibold":"border-transparent text-text-sec hover:text-text"}`,children:[t.jsx("span",{children:A.icon}),t.jsx("span",{children:a(A.labelKey)})]})]},A.key))}),o==="awaiting"&&t.jsx(Jm,{onReportCreated:T}),o==="reports"&&t.jsx(tx,{onViewReport:T,onCreateReport:()=>u("awaiting")}),o==="reportDetail"&&t.jsx(lx,{report:x,onBack:()=>u("reports")}),o==="salesOrders"&&t.jsx(nx,{})]},C)}function dx(){const{state:a}=ct();switch(a.activeModule){case"shipments":return t.jsx(fd,{});case"reportin":return t.jsx(Xm,{});case"settlement":return t.jsx(cx,{});default:return t.jsx(fd,{})}}function ux(){return t.jsx(Dp,{children:t.jsx(Hp,{children:t.jsxs("div",{className:"min-h-screen bg-bg",children:[t.jsx(zp,{}),t.jsx(Qp,{}),t.jsx("main",{className:"pb-8",children:t.jsx(dx,{})}),t.jsx($p,{})]})})})}Pp.createRoot(document.getElementById("root")).render(t.jsx(bd.StrictMode,{children:t.jsx(ux,{})}));
